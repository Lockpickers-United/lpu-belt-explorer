import{am as Mt,an as St,r as o,ao as At,ap as _t,o as ie,j as t,_ as E,q as ne,ah as $t,af as Qe,R as Q,ak as Me,m as le,l as ge,s as ce,n as be,p as we,t as Ce,a4 as xe,D as Ft,aq as Pt,ac as Bt,ar as Ve,y as zt,h as ke,i as ye,G as ze,as as Ot,z as pe,b as oe,S as se,a0 as Ze,Q as Rt,T as de,I as ue,B as Se,at as Et,C as Oe,a3 as Je,c as et,au as Nt,w as Tt,k as Ut,L as Ht,a6 as Dt,e as tt,a1 as Wt,a2 as at,a as Vt,W as Gt,g as st,av as qt,aw as Xt,ax as Yt,ad as Kt,x as Qt,ay as Zt,v as Ge}from"./index-81c48504.js";import{F as re,f as Ae,g as nt,h as Jt,I as ea,A as ta,a as aa,i as ee,j as qe,b as sa,c as na}from"./ImageGallery-f4f4a6aa.js";import{u as Re}from"./useWindowSize-bac668b4.js";import{u as rt,c as ot,F as it,S as lt,I as ra}from"./InputLabel-3f6b5872.js";import{S as oa}from"./SwitchBase-48f94c82.js";import{d as ia}from"./Link-cbb59e82.js";import{M as la}from"./index-eecc1b0a.js";import{r as ca}from"./index-14135e78.js";import{C as ct}from"./Chip-196b8caa.js";import{d as Le}from"./dayjs.min-32ddba46.js";import{B as da}from"./Badge-9ba282c8.js";const ua=["className","component"];function ma(e={}){const{themeId:a,defaultTheme:s,defaultClassName:r="MuiBox-root",generateClassName:i}=e,v=Mt("div",{shouldForwardProp:f=>f!=="theme"&&f!=="sx"&&f!=="as"})(St);return o.forwardRef(function(h,I){const L=At(s),z=_t(h),{className:w,component:P="div"}=z,F=ie(z,ua);return t.jsx(v,E({as:P,ref:I,className:ne(w,i?i(r):r),theme:a&&L[a]||L},F))})}var dt={exports:{}};(function(e){((a,s)=>{e.exports?e.exports=s():a.fuzzysort=s()})($t,a=>{var s=(c,n)=>{if(c=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!c||!n)return _;var d=L(c);H(n)||(n=I(n));var u=d.bitflags;return(u&n._bitflags)!==u?_:w(d,n)},r=(c,n,d)=>{if(c=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:n?n[0]:_}];if(!c)return d&&d.all?z(c,n,d):K;var u=L(c),m=u.bitflags;u.containsSpace;var p=d&&d.threshold||X,x=d&&d.limit||G,l=0,M=0,j=n.length;if(d&&d.key)for(var $=d.key,R=0;R<j;++R){var D=n[R],O=V(D,$);if(O&&(H(O)||(O=I(O)),(m&O._bitflags)===m)){var W=w(u,O);W!==_&&(W.score<p||(W={target:W.target,_targetLower:"",_targetLowerCodes:_,_nextBeginningIndexes:_,_bitflags:0,score:W.score,_indexes:W._indexes,obj:D},l<x?(q.add(W),++l):(++M,W.score>q.peek().score&&q.replaceTop(W))))}}else if(d&&d.keys)for(var te=d.scoreFn||U,ve=d.keys,Ie=ve.length,R=0;R<j;++R){for(var D=n[R],Y=new Array(Ie),Z=0;Z<Ie;++Z){var $=ve[Z],O=V(D,$);if(!O){Y[Z]=_;continue}H(O)||(O=I(O)),(m&O._bitflags)!==m?Y[Z]=_:Y[Z]=w(u,O)}Y.obj=D;var N=te(Y);N!==_&&(N<p||(Y.score=N,l<x?(q.add(Y),++l):(++M,N>q.peek().score&&q.replaceTop(Y))))}else for(var R=0;R<j;++R){var O=n[R];if(O&&(H(O)||(O=I(O)),(m&O._bitflags)===m)){var W=w(u,O);W!==_&&(W.score<p||(l<x?(q.add(W),++l):(++M,W.score>q.peek().score&&q.replaceTop(W))))}}if(l===0)return K;for(var me=new Array(l),R=l-1;R>=0;--R)me[R]=q.poll();return me.total=l+M,me},i=(c,n,d)=>{if(typeof n=="function")return v(c,n);if(c===_)return _;n===void 0&&(n="<b>"),d===void 0&&(d="</b>");var u="",m=0,p=!1,x=c.target,l=x.length,M=c._indexes;M=M.slice(0,M.len).sort((R,D)=>R-D);for(var j=0;j<l;++j){var $=x[j];if(M[m]===j){if(++m,p||(p=!0,u+=n),m===M.length){u+=$+d+x.substr(j+1);break}}else p&&(p=!1,u+=d);u+=$}return u},v=(j,n)=>{if(j===_)return _;var d=j.target,u=d.length,m=j._indexes;m=m.slice(0,m.len).sort((D,O)=>D-O);for(var p="",x=0,l=0,M=!1,j=[],$=0;$<u;++$){var R=d[$];if(m[l]===$){if(++l,M||(M=!0,j.push(p),p=""),l===m.length){p+=R,j.push(n(p,x++)),p="",j.push(d.substr($+1));break}}else M&&(M=!1,j.push(n(p,x++)),p="");p+=R}return j},g=c=>c._indexes.slice(0,c._indexes.len).sort((n,d)=>n-d),f=c=>{typeof c!="string"&&(c="");var n=F(c);return{target:c,_targetLower:n._lower,_targetLowerCodes:n.lowerCodes,_nextBeginningIndexes:_,_bitflags:n.bitflags,score:_,_indexes:[0],obj:_}},h=c=>{typeof c!="string"&&(c=""),c=c.trim();var n=F(c),d=[];if(n.containsSpace){var u=c.split(/\s+/);u=[...new Set(u)];for(var m=0;m<u.length;m++)if(u[m]!==""){var p=F(u[m]);d.push({lowerCodes:p.lowerCodes,_lower:u[m].toLowerCase(),containsSpace:!1})}}return{lowerCodes:n.lowerCodes,bitflags:n.bitflags,containsSpace:n.containsSpace,_lower:n._lower,spaceSearches:d}},I=c=>{if(c.length>999)return f(c);var n=B.get(c);return n!==void 0||(n=f(c),B.set(c,n)),n},L=c=>{if(c.length>999)return h(c);var n=S.get(c);return n!==void 0||(n=h(c),S.set(c,n)),n},z=(c,n,d)=>{var u=[];u.total=n.length;var m=d&&d.limit||G;if(d&&d.key)for(var p=0;p<n.length;p++){var x=n[p],l=V(x,d.key);if(l){H(l)||(l=I(l)),l.score=X,l._indexes.len=0;var M=l;if(M={target:M.target,_targetLower:"",_targetLowerCodes:_,_nextBeginningIndexes:_,_bitflags:0,score:l.score,_indexes:_,obj:x},u.push(M),u.length>=m)return u}}else if(d&&d.keys)for(var p=0;p<n.length;p++){for(var x=n[p],j=new Array(d.keys.length),$=d.keys.length-1;$>=0;--$){var l=V(x,d.keys[$]);if(!l){j[$]=_;continue}H(l)||(l=I(l)),l.score=X,l._indexes.len=0,j[$]=l}if(j.obj=x,j.score=X,u.push(j),u.length>=m)return u}else for(var p=0;p<n.length;p++){var l=n[p];if(l&&(H(l)||(l=I(l)),l.score=X,l._indexes.len=0,u.push(l),u.length>=m))return u}return u},w=(c,n,d=!1)=>{if(d===!1&&c.containsSpace)return P(c,n);for(var u=c._lower,m=c.lowerCodes,p=m[0],x=n._targetLowerCodes,l=m.length,M=x.length,D=0,j=0,$=0;;){var R=p===x[j];if(R){if(y[$++]=j,++D,D===l)break;p=m[D]}if(++j,j>=M)return _}var D=0,O=!1,W=0,te=n._nextBeginningIndexes;te===_&&(te=n._nextBeginningIndexes=b(n.target)),j=y[0]===0?0:te[y[0]-1];var ve=0;if(j!==M)for(;;)if(j>=M){if(D<=0||(++ve,ve>200))break;--D;var Ie=A[--W];j=te[Ie]}else{var R=m[D]===x[j];if(R){if(A[W++]=j,++D,D===l){O=!0;break}++j}else j=te[j]}var Y=n._targetLower.indexOf(u,y[0]),Z=~Y;if(Z&&!O)for(var N=0;N<$;++N)y[N]=Y+N;var me=!1;Z&&(me=n._nextBeginningIndexes[Y-1]===Y);{if(O)var J=A,$e=W;else var J=y,$e=$;for(var ae=0,We=0,N=1;N<l;++N)J[N]-J[N-1]!==1&&(ae-=J[N],++We);var wt=J[l-1]-J[0]-(l-1);if(ae-=(12+wt)*We,J[0]!==0&&(ae-=J[0]*J[0]*.2),!O)ae*=1e3;else{for(var Fe=1,N=te[0];N<M;N=te[N])++Fe;Fe>24&&(ae*=(Fe-24)*10)}Z&&(ae/=1+l*l*1),me&&(ae/=1+l*l*1),ae-=M-l,n.score=ae;for(var N=0;N<$e;++N)n._indexes[N]=J[N];return n._indexes.len=$e,n}},P=(c,n)=>{for(var d=new Set,u=0,m=_,p=0,x=c.spaceSearches,$=0;$<x.length;++$){var l=x[$];if(m=w(l,n),m===_)return _;u+=m.score,m._indexes[0]<p&&(u-=p-m._indexes[0]),p=m._indexes[0];for(var M=0;M<m._indexes.len;++M)d.add(m._indexes[M])}var j=w(c,n,!0);if(j!==_&&j.score>u)return j;m.score=u;var $=0;for(let R of d)m._indexes[$++]=R;return m._indexes.len=$,m},F=c=>{for(var n=c.length,d=c.toLowerCase(),u=[],m=0,p=!1,x=0;x<n;++x){var l=u[x]=d.charCodeAt(x);if(l===32){p=!0;continue}var M=l>=97&&l<=122?l-97:l>=48&&l<=57?26:l<=127?30:31;m|=1<<M}return{lowerCodes:u,bitflags:m,containsSpace:p,_lower:d}},k=c=>{for(var n=c.length,d=[],u=0,m=!1,p=!1,x=0;x<n;++x){var l=c.charCodeAt(x),M=l>=65&&l<=90,j=M||l>=97&&l<=122||l>=48&&l<=57,$=M&&!m||!p||!j;m=M,p=j,$&&(d[u++]=x)}return d},b=c=>{for(var n=c.length,d=k(c),u=[],m=d[0],p=0,x=0;x<n;++x)m>x?u[x]=m:(m=d[++p],u[x]=m===void 0?n:m);return u},C=()=>{B.clear(),S.clear(),y=[],A=[]},B=new Map,S=new Map,y=[],A=[],U=c=>{for(var n=X,d=c.length,u=0;u<d;++u){var m=c[u];if(m!==_){var p=m.score;p>n&&(n=p)}}return n===X?_:n},V=(c,n)=>{var d=c[n];if(d!==void 0)return d;var u=n;Array.isArray(n)||(u=n.split("."));for(var m=u.length,p=-1;c&&++p<m;)c=c[u[p]];return c},H=c=>typeof c=="object",G=1/0,X=-G,K=[];K.total=0;var _=null,T=c=>{var n=[],d=0,u={},m=p=>{for(var x=0,l=n[x],M=1;M<d;){var j=M+1;x=M,j<d&&n[j].score<n[M].score&&(x=j),n[x-1>>1]=n[x],M=1+(x<<1)}for(var $=x-1>>1;x>0&&l.score<n[$].score;$=(x=$)-1>>1)n[x]=n[$];n[x]=l};return u.add=p=>{var x=d;n[d++]=p;for(var l=x-1>>1;x>0&&p.score<n[l].score;l=(x=l)-1>>1)n[x]=n[l];n[x]=p},u.poll=p=>{if(d!==0){var x=n[0];return n[0]=n[--d],m(),x}},u.peek=p=>{if(d!==0)return n[0]},u.replaceTop=p=>{n[0]=p,m()},u},q=T();return{single:s,go:r,highlight:i,prepare:f,indexes:g,cleanup:C}})})(dt);var fa=dt.exports;const pa=Qe(fa),ut=e=>[...new Set([...(e==null?void 0:e.own)||[],...(e==null?void 0:e.picked)||[],...(e==null?void 0:e.recorded)||[],...(e==null?void 0:e.wishlist)||[]])];var _e={exports:{}},mt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},ft=Object.keys(mt).join("|"),va=new RegExp(ft,"g"),xa=new RegExp(ft,"");function ha(e){return mt[e]}var pt=function(e){return e.replace(va,ha)},ga=function(e){return!!e.match(xa)};_e.exports=pt;_e.exports.has=ga;_e.exports.remove=pt;var ba=_e.exports;const Xe=Qe(ba),je=Q.createContext({});function sn({children:e,allEntries:a,profile:s}){const{filters:r}=o.useContext(re),{search:i,id:v,tab:g,name:f,sort:h,image:I,...L}=r,z=o.useMemo(()=>ut(s),[s]),w=o.useMemo(()=>a.map(C=>{var B,S,y,A,U,V,H,G,X,K,_;return{...C,makes:C.makeModels.map(({make:T})=>T),fuzzy:Xe(C.makeModels.map(({make:T,model:q})=>[T,q]).flat().filter(T=>T).concat([C.version,C.notes,C.belt]).join(",")),content:[(B=C.media)!=null&&B.some(T=>!T.fullUrl.match(/youtube\.com/))?"Has Images":"No Images",(S=C.media)!=null&&S.some(T=>T.fullUrl.match(/youtube\.com/))?"Has Video":"No Video",((y=C.links)==null?void 0:y.length)>0?"Has Links":"No Links",Ae[C.belt].danPoints>0?"Worth Dan Points":void 0,Le(C.lastUpdated).isAfter(Le().subtract(1,"days"))?"Updated Recently":void 0,C.belt.startsWith("Black")?"Is Black":void 0,C.belt!=="Unranked"?"Is Ranked":void 0].flat().filter(T=>T),collection:[z.includes(C.id)?"Any":"Not in any Collection",(U=(A=s==null?void 0:s.own)==null?void 0:A.includes)!=null&&U.call(A,C.id)?"Own":"Don't Own",(H=(V=s==null?void 0:s.picked)==null?void 0:V.includes)!=null&&H.call(V,C.id)?"Picked":"Not Picked",(X=(G=s==null?void 0:s.wishlist)==null?void 0:G.includes)!=null&&X.call(G,C.id)?"Wishlist":"Not on Wishlist",(_=(K=s==null?void 0:s.recorded)==null?void 0:K.includes)!=null&&_.call(K,C.id)?"Recorded":"Not Recorded"],simpleBelt:C.belt.replace(/\s\d/g,"")}}),[a,z,s]),P=o.useMemo(()=>{const C=Object.keys(L).map(y=>{const A=L[y];return Array.isArray(A)?A.map(U=>({key:y,value:U})):{key:y,value:A}}).flat(),B=w.filter(y=>C.every(({key:A,value:U})=>Array.isArray(y[A])?y[A].includes(U):y[A]===U)),S=i?pa.go(Xe(i),B,{keys:Ca}).map(y=>({...y.obj,score:y.score})):B;return h?S.sort((y,A)=>{if(h==="popularity")return A.views-y.views;if(h==="recentlyUpdated"){const U=Le(y.lastUpdated),V=Le(A.lastUpdated);if(U.isAfter(V))return-1;if(V.isAfter(U))return 1}else{if(h==="beltAscending")return nt(y.belt,A.belt);if(h==="beltDescending")return Jt(y.belt,A.belt);if(h==="alphaAscending")return y.fuzzy.localeCompare(A.fuzzy);if(h==="alphaDescending")return A.fuzzy.localeCompare(y.fuzzy)}}):S},[L,w,i,h]),F=o.useCallback(C=>a.find(B=>B.id===C),[a]),k=o.useCallback(C=>{const B=F(C);if(B){const{makeModels:S}=B,{make:y,model:A}=S[0];return(y&&y!==A?`${y} ${A}`:A).replace(/[\s/]/g,"_").replace(/\W/g,"")}},[F]),b=o.useMemo(()=>({allEntries:a,visibleEntries:P,getEntryFromId:F,getNameFromId:k}),[a,k,F,P]);return t.jsx(je.Provider,{value:b,children:e})}const Ca=["fuzzy"],Ee=Q.createContext({});function nn({children:e}){const{userId:a}=Me(),{getEntryFromId:s,getNameFromId:r}=o.useContext(je),{filters:i,addFilters:v,removeFilters:g}=o.useContext(re),f=i.id,h=o.useCallback((b,C)=>{const B=s(b),S=r(b);if(b&&b!=="beltreqs"){const y=i.tab==="search"&&!C?"search":B.belt.replace(/\s\d/g,"");v([{key:"id",value:b},{key:"name",value:S},{key:"tab",value:a?void 0:y}],!0)}else b==="beltreqs"?v([{key:"id",value:b},{key:"name",value:void 0}],!0):g(["id","name"])},[v,i.tab,s,r,g,a]),I=o.useCallback(()=>{g(["id","name"])},[g]),L=o.useCallback(b=>{v([{key:"tab",value:b},{key:"id",value:f==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>w(!1),0)},[v,f]),[z,w]=o.useState(!1),[P,F]=o.useState(!1),k=o.useMemo(()=>({compact:P,tab:i.tab,setTab:L,expanded:f,setExpanded:h,clearExpanded:I,displayAll:z&&i.tab==="search",setDisplayAll:w,setCompact:F}),[P,z,f,i.tab,I,h,L]);return t.jsx(Ee.Provider,{value:k,children:e})}function ka(e){return ge("MuiListItem",e)}const ya=le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),fe=ya,ja=le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Ia=ja;function La(e){return ge("MuiListItemSecondaryAction",e)}le("MuiListItemSecondaryAction",["root","disableGutters"]);const wa=["className"],Ma=e=>{const{disableGutters:a,classes:s}=e;return Ce({root:["root",a&&"disableGutters"]},La,s)},Sa=ce("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.disableGutters&&a.disableGutters]}})(({ownerState:e})=>E({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),vt=o.forwardRef(function(a,s){const r=be({props:a,name:"MuiListItemSecondaryAction"}),{className:i}=r,v=ie(r,wa),g=o.useContext(we),f=E({},r,{disableGutters:g.disableGutters}),h=Ma(f);return t.jsx(Sa,E({className:ne(h.root,i),ownerState:f,ref:s},v))});vt.muiName="ListItemSecondaryAction";const Aa=vt,_a=["className"],$a=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Fa=(e,a)=>{const{ownerState:s}=e;return[a.root,s.dense&&a.dense,s.alignItems==="flex-start"&&a.alignItemsFlexStart,s.divider&&a.divider,!s.disableGutters&&a.gutters,!s.disablePadding&&a.padding,s.button&&a.button,s.hasSecondaryAction&&a.secondaryAction]},Pa=e=>{const{alignItems:a,button:s,classes:r,dense:i,disabled:v,disableGutters:g,disablePadding:f,divider:h,hasSecondaryAction:I,selected:L}=e;return Ce({root:["root",i&&"dense",!g&&"gutters",!f&&"padding",h&&"divider",v&&"disabled",s&&"button",a==="flex-start"&&"alignItemsFlexStart",I&&"secondaryAction",L&&"selected"],container:["container"]},ka,r)},Ba=ce("div",{name:"MuiListItem",slot:"Root",overridesResolver:Fa})(({theme:e,ownerState:a})=>E({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!a.disablePadding&&E({paddingTop:8,paddingBottom:8},a.dense&&{paddingTop:4,paddingBottom:4},!a.disableGutters&&{paddingLeft:16,paddingRight:16},!!a.secondaryAction&&{paddingRight:48}),!!a.secondaryAction&&{[`& > .${Ia.root}`]:{paddingRight:48}},{[`&.${fe.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${fe.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:xe(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${fe.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:xe(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${fe.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},a.alignItems==="flex-start"&&{alignItems:"flex-start"},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},a.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${fe.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:xe(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:xe(e.palette.primary.main,e.palette.action.selectedOpacity)}}},a.hasSecondaryAction&&{paddingRight:48})),za=ce("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,a)=>a.container})({position:"relative"}),Oa=o.forwardRef(function(a,s){const r=be({props:a,name:"MuiListItem"}),{alignItems:i="center",autoFocus:v=!1,button:g=!1,children:f,className:h,component:I,components:L={},componentsProps:z={},ContainerComponent:w="li",ContainerProps:{className:P}={},dense:F=!1,disabled:k=!1,disableGutters:b=!1,disablePadding:C=!1,divider:B=!1,focusVisibleClassName:S,secondaryAction:y,selected:A=!1,slotProps:U={},slots:V={}}=r,H=ie(r.ContainerProps,_a),G=ie(r,$a),X=o.useContext(we),K=o.useMemo(()=>({dense:F||X.dense||!1,alignItems:i,disableGutters:b}),[i,X.dense,F,b]),_=o.useRef(null);Ft(()=>{v&&_.current&&_.current.focus()},[v]);const T=o.Children.toArray(f),q=T.length&&Pt(T[T.length-1],["ListItemSecondaryAction"]),c=E({},r,{alignItems:i,autoFocus:v,button:g,dense:K.dense,disabled:k,disableGutters:b,disablePadding:C,divider:B,hasSecondaryAction:q,selected:A}),n=Pa(c),d=Bt(_,s),u=V.root||L.Root||Ba,m=U.root||z.root||{},p=E({className:ne(n.root,m.className,h),disabled:k},G);let x=I||"li";return g&&(p.component=I||"div",p.focusVisibleClassName=ne(fe.focusVisible,S),x=zt),q?(x=!p.component&&!I?"div":x,w==="li"&&(x==="li"?x="div":p.component==="li"&&(p.component="div")),t.jsx(we.Provider,{value:K,children:t.jsxs(za,E({as:w,className:ne(n.container,P),ref:d,ownerState:c},H,{children:[t.jsx(u,E({},m,!Ve(u)&&{as:x,ownerState:E({},c,m.ownerState)},p,{children:T})),T.pop()]}))})):t.jsx(we.Provider,{value:K,children:t.jsxs(u,E({},m,{as:x,ref:d},!Ve(u)&&{ownerState:E({},c,m.ownerState)},p,{children:[T,y&&t.jsx(Aa,{children:y})]}))})}),Ra=Oa;function Ea({value:e}){const{color:a}=Ae[e]||{},s={width:8,height:"100%",position:"absolute",left:0,top:0,backgroundColor:a},r=o.useMemo(()=>{const[i]=e.match(/\d/)||[0],v=+i;if(v>1)return Array(v).fill(0).map((g,f)=>t.jsx("span",{style:{width:8,height:2,position:"absolute",left:0,top:18+f*6,backgroundColor:"#acacac"}},f))},[e]);return e==="Unranked"?null:t.jsxs(Q.Fragment,{children:[t.jsx("span",{style:s}),r]})}const xt=Q.memo(Ea);var Ne={},Na=ye;Object.defineProperty(Ne,"__esModule",{value:!0});var Be=Ne.default=void 0,Ta=Na(ke()),Ua=t;Be=Ne.default=(0,Ta.default)((0,Ua.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks");const Ha=ze(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Da=ze(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Wa=ze(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Va(e){return ge("MuiCheckbox",e)}const Ga=le("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Pe=Ga,qa=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Xa=e=>{const{classes:a,indeterminate:s,color:r,size:i}=e,v={root:["root",s&&"indeterminate",`color${pe(r)}`,`size${pe(i)}`]},g=Ce(v,Va,a);return E({},a,g)},Ya=ce(oa,{shouldForwardProp:e=>Ot(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.indeterminate&&a.indeterminate,a[`size${pe(s.size)}`],s.color!=="default"&&a[`color${pe(s.color)}`]]}})(({theme:e,ownerState:a})=>E({color:(e.vars||e).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${a.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:xe(a.color==="default"?e.palette.action.active:e.palette[a.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},a.color!=="default"&&{[`&.${Pe.checked}, &.${Pe.indeterminate}`]:{color:(e.vars||e).palette[a.color].main},[`&.${Pe.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Ka=t.jsx(Da,{}),Qa=t.jsx(Ha,{}),Za=t.jsx(Wa,{}),Ja=o.forwardRef(function(a,s){var r,i;const v=be({props:a,name:"MuiCheckbox"}),{checkedIcon:g=Ka,color:f="primary",icon:h=Qa,indeterminate:I=!1,indeterminateIcon:L=Za,inputProps:z,size:w="medium",className:P}=v,F=ie(v,qa),k=I?L:h,b=I?L:g,C=E({},v,{color:f,indeterminate:I,size:w}),B=Xa(C);return t.jsx(Ya,E({type:"checkbox",inputProps:E({"data-indeterminate":I},z),icon:o.cloneElement(k,{fontSize:(r=k.props.fontSize)!=null?r:w}),checkedIcon:o.cloneElement(b,{fontSize:(i=b.props.fontSize)!=null?i:w}),ownerState:C,ref:s,className:ne(B.root,P)},F,{classes:B}))}),es=Ja;function ts(e){return ge("MuiFormGroup",e)}le("MuiFormGroup",["root","row","error"]);const as=["className","row"],ss=e=>{const{classes:a,row:s,error:r}=e;return Ce({root:["root",s&&"row",r&&"error"]},ts,a)},ns=ce("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.row&&a.row]}})(({ownerState:e})=>E({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),rs=o.forwardRef(function(a,s){const r=be({props:a,name:"MuiFormGroup"}),{className:i,row:v=!1}=r,g=ie(r,as),f=rt(),h=ot({props:r,muiFormControl:f,states:["error"]}),I=E({},r,{row:v,error:h.error}),L=ss(I);return t.jsx(ns,E({className:ne(L.root,i),ownerState:I,ref:s},g))}),os=rs;function is(e){return ge("MuiFormControlLabel",e)}const ls=le("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),he=ls,cs=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ds=e=>{const{classes:a,disabled:s,labelPlacement:r,error:i,required:v}=e,g={root:["root",s&&"disabled",`labelPlacement${pe(r)}`,i&&"error",v&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",i&&"error"]};return Ce(g,is,a)},us=ce("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[{[`& .${he.label}`]:a.label},a.root,a[`labelPlacement${pe(s.labelPlacement)}`]]}})(({theme:e,ownerState:a})=>E({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${he.disabled}`]:{cursor:"default"}},a.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},a.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},a.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${he.label}`]:{[`&.${he.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ms=ce("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,a)=>a.asterisk})(({theme:e})=>({[`&.${he.error}`]:{color:(e.vars||e).palette.error.main}})),fs=o.forwardRef(function(a,s){var r,i;const v=be({props:a,name:"MuiFormControlLabel"}),{className:g,componentsProps:f={},control:h,disabled:I,disableTypography:L,label:z,labelPlacement:w="end",required:P,slotProps:F={}}=v,k=ie(v,cs),b=rt(),C=(r=I??h.props.disabled)!=null?r:b==null?void 0:b.disabled,B=P??h.props.required,S={disabled:C,required:B};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof h.props[G]>"u"&&typeof v[G]<"u"&&(S[G]=v[G])});const y=ot({props:v,muiFormControl:b,states:["error"]}),A=E({},v,{disabled:C,labelPlacement:w,required:B,error:y.error}),U=ds(A),V=(i=F.typography)!=null?i:f.typography;let H=z;return H!=null&&H.type!==oe&&!L&&(H=t.jsx(oe,E({component:"span"},V,{className:ne(U.label,V==null?void 0:V.className),children:H}))),t.jsxs(us,E({className:ne(U.root,g),ownerState:A,ref:s},k,{children:[o.cloneElement(h,S),B?t.jsxs(se,{display:"block",children:[H,t.jsxs(ms,{ownerState:A,"aria-hidden":!0,className:U.asterisk,children:[" ","*"]})]}):H]}))}),ps=fs,vs=[{key:"own",label:"Own"},{key:"picked",label:"Picked"},{key:"recorded",label:"Recorded"},{key:"wishlist",label:"Wishlist"}],xs=["Own","Picked","Recorded","Wishlist"];function ht({id:e,dense:a}){const{isLoggedIn:s}=o.useContext(Ze),{lockCollection:r,addToLockCollection:i,removeFromLockCollection:v}=o.useContext(Rt),[g,f]=o.useState(null),h=!!g,I=o.useCallback(k=>f(k.currentTarget),[]),L=o.useCallback(()=>f(null),[]),{isMobile:z}=Re(),w=o.useMemo(()=>Object.keys(r).filter(k=>!hs.includes(k)).reduce((k,b)=>k||r[b].includes(e),!1),[e,r]),P=o.useCallback(k=>!!r[k]&&!!r[k].includes(e),[e,r]),F=o.useCallback(k=>(b,C)=>{b.preventDefault(),C?i(k,e):v(k,e)},[e,i,v]);return t.jsxs(Q.Fragment,{children:[t.jsx(de,{title:"My Collection",arrow:!0,disableFocusListener:!0,children:a?t.jsx(ue,{variant:"outlined",color:"inherit",onClick:I,children:t.jsx(Be,{color:w?"secondary":"inherit",fontSize:"small"})}):t.jsx(Se,{variant:"outlined",color:"inherit",onClick:I,startIcon:t.jsx(Be,{color:w?"secondary":"inherit",fontSize:z?"small":"medium"}),children:"My Collection"})}),t.jsx(Et,{open:h,anchorEl:g,onClose:L,anchorOrigin:{vertical:"top",horizontal:"left"},children:t.jsxs(Oe,{children:[t.jsx(Je,{title:"My Collection",style:{color:s?null:"rgba(255, 255, 255, 0.5)"},onClick:L}),t.jsx(et,{style:{paddingTop:0},children:t.jsx(os,{children:vs.map(({key:k,label:b})=>t.jsx(ps,{control:t.jsx(es,{disabled:!s,color:"secondary",checked:P(k),onChange:F(k)}),label:b},k))})}),t.jsx("div",{style:{marginTop:-8,marginBottom:16},children:t.jsx(Nt,{onClick:L})})]})})]})}const hs=["public","displayName"];function gs(e,a="short",s=!1){const r=s&&e.version?" ("+e.version+")":"";if(a==="long")return e.makeModels.map(v=>v.make+" "+v.model).join(" / ")+r;if(a==="data"){const i=e.makeModels.map(g=>g.make).join(","),v=e.makeModels.map(g=>g.model).join(",");return`${i}	${v}`+r}else{if(a==="array")return[e.makeModels.map(i=>i.make).join(","),e.makeModels.map(i=>i.model).join(",")];{let i="",v="";return e.makeModels.forEach(g=>{let f=g.make,h=g.model;f||(f=h,h=""),v===""?i=`${f} ${h}`:f===v?i+=`, ${h}`:i+=` / ${f} ${h}`,v=f}),i+r}}}function rn({entries:e}){return t.jsxs(Oe,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[t.jsx(Tt,{dense:!0,style:{padding:0},children:e.map(a=>t.jsxs(Ra,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[t.jsx(xt,{value:a.belt}),t.jsx(Ut,{primary:gs(a),primaryTypographyProps:{fontWeight:500},secondary:a.version,style:{padding:"0px 0px 0px 10px"}}),t.jsx(Ht,{style:{minWidth:20,marginLeft:16},children:t.jsx(ht,{id:a.id,dense:!0})})]},a.id))}),t.jsx(Dt,{})]})}function bs({belt:e}){const{danPoints:a}=Ae[e],s=a===1?"Point":a>=10?"Pts":"Points",r=` (${a} Dan ${s})`,i={textDecoration:"none",color:"#fff"};return a===0||e==="Unranked"?null:t.jsx("a",{style:i,href:"/#/dans",children:r})}function gt({value:e,style:a}){const{color:s,lineColor:r="#010101"}=Ae[e];return e==="Unranked"?null:t.jsx("div",{style:{display:"inline-block",minWidth:32,height:32,...a},children:t.jsxs("svg",{x:"0",y:"0",viewBox:"0 -2 32 32",children:[t.jsx("path",{d:"M10.91 25.6c-.23 0-.46-.06-.65-.18l-4.47-2.73c-.6-.37-.79-1.15-.43-1.74l7.02-11.51c.23-.37.64-.6 1.08-.6.23 0 .46.06.65.18l4.48 2.73c.29.18.49.45.57.78s.03.67-.15.95l-7.02 11.51c-.23.38-.64.61-1.08.61z",fill:s}),t.jsx("path",{d:"M13.46 9.4c.12 0 .25.03.36.1l4.47 2.73c.33.2.43.63.23.96L11.5 24.7a.704.704 0 0 1-.96.23L6.07 22.2a.698.698 0 0 1-.23-.96l7.02-11.51a.73.73 0 0 1 .6-.33m0-1.13c-.63 0-1.23.33-1.56.87L4.88 20.65c-.25.42-.33.91-.22 1.38.11.47.41.88.82 1.13l4.47 2.73c.29.17.61.27.95.27.63 0 1.23-.33 1.56-.87l7.02-11.51c.25-.42.33-.91.22-1.38-.11-.47-.41-.88-.82-1.13l-4.47-2.73a1.75 1.75 0 0 0-.95-.27z",fill:r}),t.jsx("path",{d:"M17.57 22.37c-.48 0-.91-.26-1.12-.69L10.33 9.66c-.15-.3-.18-.64-.07-.96.1-.32.33-.58.63-.73l4.86-2.47a1.257 1.257 0 0 1 1.7.55l6.12 12.02c.31.62.07 1.38-.55 1.7l-4.86 2.47c-.19.08-.39.13-.59.13z",fill:s}),t.jsx("path",{d:"M16.31 5.92c.25 0 .5.14.62.38l6.12 12.02c.17.34.04.76-.3.94l-4.86 2.47c-.1.05-.21.08-.31.08-.25 0-.5-.14-.62-.38L10.84 9.41a.707.707 0 0 1 .3-.94L16 6c.1-.05.21-.08.31-.08m0-1.13c-.29 0-.57.07-.83.2l-4.86 2.47c-.43.22-.76.6-.91 1.06-.14.47-.1.96.12 1.4l6.12 12.02c.31.62.94 1 1.63 1 .29 0 .57-.07.83-.2l4.86-2.47a1.815 1.815 0 0 0 .8-2.45L17.94 5.79c-.31-.62-.94-1-1.63-1z",fill:r}),t.jsx("path",{d:"M2.57 13.38c-.7 0-1.26-.57-1.26-1.26V6.64c0-.69.57-1.26 1.26-1.26h26.92c.7 0 1.26.57 1.26 1.26v5.48c0 .69-.57 1.26-1.26 1.26H2.57z",fill:s}),t.jsx("path",{d:"M29.49 5.95c.38 0 .7.31.7.7v5.47c0 .38-.31.7-.7.7H2.57c-.38 0-.7-.31-.7-.7V6.64c0-.38.31-.7.7-.7h26.92m0-1.12H2.57c-1.01 0-1.83.82-1.83 1.83v5.47c0 1.01.82 1.83 1.83 1.83h26.92c1.01 0 1.83-.82 1.83-1.83V6.64c-.01-1-.83-1.82-1.83-1.82z",fill:r}),t.jsx("path",{d:"M10.35 14.36c-.69 0-1.26-.57-1.26-1.26V5.43c0-.7.57-1.26 1.26-1.26H21.6c.7 0 1.26.57 1.26 1.26v7.67c0 .7-.57 1.26-1.26 1.26H10.35z",fill:s}),t.jsx("path",{d:"M21.59 4.73c.38 0 .7.31.7.7v7.67c0 .38-.31.7-.7.7H10.35c-.38 0-.7-.31-.7-.7V5.43c0-.38.31-.7.7-.7h11.24m0-1.13H10.35c-1.01 0-1.83.82-1.83 1.83v7.67c0 1.01.82 1.83 1.83 1.83H21.6c1.01 0 1.83-.82 1.83-1.83V5.43a1.846 1.846 0 0 0-1.84-1.83z",fill:r})]})})}function Cs({entry:e}){const{getNameFromId:a}=o.useContext(je),s=o.useCallback(async()=>{const r=a(e.id),i=`https://share.lpubelts.com/?id=${e.id}&name=${r}`;await navigator.clipboard.writeText(i),tt("Link to entry copied to clipboard.")},[e,a]);return t.jsx(de,{title:"Copy Link to Entry",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:s,children:t.jsx(ia,{})})})}var Te={},ks=ye;Object.defineProperty(Te,"__esModule",{value:!0});var bt=Te.default=void 0,ys=ks(ke()),js=t;bt=Te.default=(0,ys.default)((0,js.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function Is({entry:e}){const a=o.useCallback(async()=>{const s=e.makeModels.map(({make:r,model:i})=>r&&r!==i?`${r} ${i}`:i).join(`
`);await navigator.clipboard.writeText(s),tt("Make/Model text copied to clipboard.")},[e.makeModels]);return t.jsx(de,{title:"Copy Make/Model Text",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:a,children:t.jsx(bt,{})})})}function Ls({entry:e}){const a=Wt(),{filters:s,addFilter:r,removeFilters:i}=o.useContext(re),v=o.useCallback(L=>{r("image",L+1,!0)},[r]),g=o.useCallback(()=>{i(["image"])},[i]),f=o.useCallback(()=>{const{image:L}=at.parse(a.search);return Ye(L,e)},[e,a]),h=o.useMemo(()=>s.image?+s.image-1:-1,[s]),I=Ye(h,e);return t.jsx(ea,{media:e.media,openIndex:h,initiallyOpen:I,onOpenImage:v,onCloseImage:g,onBackButton:f,shareParams:{id:e.id,name:s.name}})}const Ye=(e,a)=>/\d+/.test(e)&&!!a.media[e];function ws({id:e}){const{setExpanded:a}=o.useContext(Ee),{getEntryFromId:s,getNameFromId:r,visibleEntries:i}=o.useContext(je),{setFilters:v}=o.useContext(re),g=o.useMemo(()=>s(e),[s,e]),f=o.useCallback(async()=>{if(i.some(h=>h.id===e))a(e);else{const h=r(e);v({id:e,name:h,tab:g.belt.replace(/\s\d/g,"")}),a(e)}},[i,e,r,v,g.belt,a]);return t.jsx(de,{title:g.version,arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:f,children:t.jsx(gt,{value:g.belt})})})}function Ms({entry:e,expanded:a,onExpand:s}){var L,z,w,P,F;const{userId:r}=Me(),[i,v]=o.useState(!1),g={maxWidth:700,marginLeft:"auto",marginRight:"auto"},f=o.useRef(null),h=o.useCallback((k,b)=>{s&&s(b?e.id:!1)},[e.id,s]);o.useEffect(()=>{if(a&&f&&!i){const b=window.innerWidth<=600?70:74,{id:C}=at.parse(location.search),B=C===e.id;v(!0),setTimeout(()=>{window.scrollTo({left:0,top:f.current.offsetTop-b,behavior:B?"auto":"smooth"})},B?0:100)}else a||v(!1)},[a,e,i]);const I=o.useMemo(()=>{var k;return t.jsx(se,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(k=e.makeModels)==null?void 0:k.map(({make:b,model:C},B)=>t.jsx(oe,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:b&&b!==C?`${b} ${C}`:C},B))})},[e.makeModels]);return t.jsxs(ta,{expanded:a,onChange:h,style:g,ref:f,children:[t.jsxs(aa,{expandIcon:t.jsx(Vt,{}),children:[t.jsx(xt,{value:e.belt}),t.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[t.jsx(ee,{value:I,textStyle:e.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!e.version&&t.jsx(ee,{name:"Version",value:t.jsx(oe,{style:{fontSize:"0.95rem",lineHeight:1.25},children:e.version}),textStyle:e.belt==="Unranked"?{color:"#aaa"}:{}})]}),t.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((L=e.lockingMechanisms)==null?void 0:L.length)>0&&t.jsx(ee,{value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(z=e.lockingMechanisms)==null?void 0:z.map((k,b)=>t.jsx(qe,{value:k,field:"lockingMechanisms"},b))})})})]}),a&&t.jsxs(Q.Fragment,{children:[t.jsxs(sa,{sx:{padding:"8px 16px 0px 16px"},children:[t.jsxs(se,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[t.jsx(ee,{style:{width:"50%",marginLeft:"0px"},value:t.jsxs(Q.Fragment,{children:[t.jsxs(oe,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[e.belt,t.jsx(bs,{belt:e.belt})]}),t.jsx(gt,{value:e.belt,style:{marginBottom:-10}})]})}),t.jsx("div",{style:{marginLeft:"auto"},children:t.jsx(ht,{id:e.id})})]}),t.jsx(se,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!e.notes&&t.jsx(ee,{name:"Notes",value:t.jsx(oe,{component:"div",style:{marginTop:-16},children:t.jsx(la,{rehypePlugins:[[ca,{target:"_blank"}]],children:e.notes})})})}),!!((w=e.features)!=null&&w.length)&&t.jsx(ee,{name:"Features",value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:e.features.map((k,b)=>t.jsx(qe,{value:k,field:"features"},b))})}),!!e.relatedIds&&!r&&t.jsx(ee,{name:"Other Versions",value:t.jsx(Q.Fragment,{children:e.relatedIds.map(k=>t.jsx(ws,{id:k},k))})}),!!((P=e.media)!=null&&P.length)&&t.jsx(ee,{value:t.jsx(Ls,{entry:e})}),!!((F=e.links)!=null&&F.length)&&t.jsx(ee,{name:"Links",value:t.jsx(se,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:e.links.map(({title:k,url:b},C)=>t.jsx(Se,{href:b,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:k},C))})})]}),t.jsxs(na,{disableSpacing:!0,children:[t.jsx(Gt,{feature:"lock",id:e.id}),t.jsx(Is,{entry:e}),t.jsx(Cs,{entry:e})]})]})]})}const on=Q.memo(Ms),Ct=[{label:"Make",fieldName:"makes"},{label:"Locking Mechanism",fieldName:"lockingMechanisms"},{label:"Belt",fieldName:"belt",sort:nt},{label:"Features",fieldName:"features"},{label:"Content",fieldName:"content"},{label:"Collection",fieldName:"collection",userBased:!0}],Ss=Ct.reduce((e,a)=>({...e,[a.fieldName]:a}),{id:{label:"ID"}});function As(){const{filters:e,filterCount:a,removeFilter:s}=o.useContext(re),r=o.useCallback((g,f)=>()=>{s(g,f)},[s]),i=o.useMemo(()=>{const{search:g,id:f,tab:h,name:I,sort:L,image:z,...w}=e;return Object.keys(w).map(P=>{const F=e[P];return Array.isArray(F)?F.map(k=>({key:P,value:k})):{key:P,value:F}}).flat()},[e]);function v(g,f){return g==="Belt"?f==="Unranked"?f:f.includes("Black")?f.replace(/(Black)\s(\d+)/,"$1 Belt $2"):f+" Belt":f}return a===0?null:t.jsx(ee,{name:"Current Filters",style:{marginBottom:0},value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:i.map(({key:g,value:f},h)=>{var I;return t.jsx(ct,{label:`${v((I=Ss[g])==null?void 0:I.label,f)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:r(g,f)},h)})})})}var Ue={},_s=ye;Object.defineProperty(Ue,"__esModule",{value:!0});var kt=Ue.default=void 0,$s=_s(ke()),Fs=t;kt=Ue.default=(0,$s.default)((0,Fs.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function yt({forceText:e}){const{isMobile:a}=Re(),{filterCount:s,clearFilters:r}=o.useContext(re);return s===0?null:a&&!e?t.jsx(de,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:r,children:t.jsx(kt,{})})}):t.jsx(Se,{variant:"outlined",color:"inherit",onClick:r,style:{minWidth:120},children:"Clear Filters"})}function ln({profile:e}){const{userId:a}=Me(),{filters:s,filterCount:r,setFilters:i}=o.useContext(re),[v,g]=Q.useState(!1),f=o.useMemo(()=>ut(e),[e]),{collection:h=a&&r===0?"Any":null}=s,{isMobile:I}=Re(),L=I?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0};let z="";h&&(typeof h=="string"?z=h:z=h[0]);const w=o.useCallback(()=>g(!1),[]),P=o.useCallback(()=>g(!0),[]),F=o.useCallback((S,y)=>{i({[S]:y,tab:"search"})},[i]),k=o.useCallback(S=>{F("collection",S.target.value)},[F]);if(!r&&!a)return null;const b=typeof h=="string"&&(Ke.includes(h)||h==="Any")&&r<2,C=e.displayName?e.displayName.toLowerCase().endsWith("s")?`${e.displayName}'`:`${e.displayName}'s`:"Private",B=a?`${C} Collection`:b?"My Collection":"Filters";return t.jsxs(Oe,{style:L,sx:{paddingBottom:0,paddingTop:0},children:[t.jsx(Je,{title:B,action:t.jsx(yt,{})}),t.jsxs(et,{style:{paddingTop:0,paddingLeft:8},children:[b&&t.jsx(it,{fullWidth:!0,size:"small",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:t.jsx(lt,{open:v,onClose:w,onOpen:P,value:z,onChange:k,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},children:Ke.map((S,y)=>{var A;return t.jsxs(st,{value:S,children:[S," (",S==="Any"?f.length:((A=e[S.toLowerCase()])==null?void 0:A.length)||0,")"]},y)})})}),!b&&t.jsx(As,{})]})]})}const Ke=["Any",...xs];var He={},Ps=ye;Object.defineProperty(He,"__esModule",{value:!0});var jt=He.default=void 0,Bs=Ps(ke()),zs=t;jt=He.default=(0,Bs.default)((0,zs.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");function cn(){const{compact:e,setCompact:a,setExpanded:s}=o.useContext(Ee),r=o.useCallback(()=>{a(!e),s(null)},[e,a,s]);return t.jsx(de,{title:"Toggle Compact View",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:r,children:t.jsx(jt,{color:e?"secondary":"inherit"})})})}const Os=le("MuiBox",["root"]),Rs=Os,Es=qt(),Ns=ma({themeId:Xt,defaultTheme:Es,defaultClassName:Rs.root,generateClassName:Yt.generate}),It=Ns;var De={},Ts=ye;Object.defineProperty(De,"__esModule",{value:!0});var Lt=De.default=void 0,Us=Ts(ke()),Hs=t;Lt=De.default=(0,Us.default)((0,Hs.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Ds({label:e,fieldName:a,onFilter:s,sort:r}){const{visibleEntries:i}=o.useContext(je),{filters:v}=o.useContext(re),[g,f]=o.useState(!1),h=o.useCallback(b=>{f(!1),setTimeout(()=>s(a,b.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[a,s]),I=o.useCallback(()=>{f(!1),setTimeout(()=>document.activeElement.blur())},[]),L=o.useCallback(()=>f(!0),[]),{counts:z,options:w}=o.useMemo(()=>{const b=i.map(S=>S[a]).flat().filter(S=>S),C=b.reduce((S,y)=>(S[y]||(S[y]=0),S[y]++,S),{}),B=[...new Set(b)].sort((S,y)=>r?r(S,y):S.localeCompare(y));return{counts:C,options:B}},[a,i,r]),P=o.useDeferredValue(v),F=P[a],k=Array.isArray(F)?P[a]:F?[F]:[];return t.jsxs(it,{style:{minWidth:120,maxWidth:300,marginTop:4},fullWidth:!0,children:[t.jsx(ra,{id:`filter-${a}`,children:e}),t.jsx(lt,{multiple:!0,label:e,labelId:`filter-${a}`,value:k,onChange:h,style:{marginBottom:8},open:g,onClose:I,onOpen:L,onBlur:I,MenuProps:{PaperProps:{style:{maxHeight:Ws*8+Vs}}},renderValue:b=>t.jsx(It,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:b.map(C=>t.jsx(ct,{label:C},C))}),children:w.map((b,C)=>t.jsx(st,{value:b,children:`${b} (${z[b]||0})`},C))})]})}const Ws=48,Vs=8;function dn({data:e}){const{userId:a}=Me(),{isLoggedIn:s}=o.useContext(Ze),{beta:r}=o.useContext(Kt),[i,v]=o.useState(!1),g=o.useCallback(()=>v(!i),[i]);Qt("f",g);const f=o.useCallback(()=>v(!0),[]),h=o.useCallback(()=>v(!1),[]),{filterCount:I,addFilters:L}=o.useContext(re),z=o.useCallback((w,P)=>{L([{key:"tab",value:a?void 0:"search"},{key:w,value:P}],!0)},[L,a]);return t.jsxs(Q.Fragment,{children:[t.jsx(de,{title:"Filter",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{color:"inherit",onClick:f,children:t.jsx(da,{badgeContent:I,color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(Lt,{})})})}),t.jsxs(Zt,{anchor:"right",open:i,onClose:h,children:[t.jsx(Ge,{variant:"dense",onClick:h,children:t.jsx(oe,{variant:"h6",children:"Filters"})}),t.jsx(It,{margin:1,children:t.jsx(se,{direction:"column",style:{minWidth:250},children:Ct.filter(w=>(!w.beta||r)&&(!w.userBased||s)).map((w,P)=>t.jsx(Ds,{data:e,...w,onFilter:z},P))})}),t.jsxs(Ge,{variant:"dense",children:[t.jsx(yt,{forceText:!0,style:{marginRight:8}}),t.jsx(Se,{variant:"outlined",color:"inherit",onClick:h,children:"Done"})]})]})]})}export{xt as B,rn as C,je as D,on as E,dn as F,ln as I,Ee as L,cn as T,Ra as a,gt as b,sn as c,bt as d,gs as e,nn as f,It as g,vs as h};
