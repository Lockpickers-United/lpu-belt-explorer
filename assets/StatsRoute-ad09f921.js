import{K as nn,M as an,j as n,u as $,R as me,r as S,Y as rn,A as sn,aa as Oe,al as on,D as ln,N as dn,F as cn,T as un}from"./index-65366a17.js";import{L as hn}from"./LoadingDisplay-c0c2acec.js";import{u as gn}from"./useData-5937a2f9.js";import{u as xn}from"./usePageTitle-50453720.js";import{L as pn}from"./LockViewsLine-d36ac7ce.js";import{c as he,d as ge,T as Me,a as _,b as O,e as xe}from"./TableRow-e0fff5aa.js";import{d as fn}from"./PhotoCamera-d1ab4f5d.js";import{C as mn}from"./ChoiceButtonGroup-210e5be9.js";import{B as pe}from"./nivo-bar.es-00e86550.js";import{b as fe,p as ve,a as Pe,l as vn}from"./chartDefaults-9fc07b21.js";import{c as G,h as dt,e as N,t as Ce,a as ae,s as Q,b as oe,m as Te,d as ct,p as ut,f as F,g as ht,i as bn,j as yn,G as Ie,E as be,W as We,o as De,Z as Ee,u as Ve,k as ye,l as le,n as re,q as de,r as Ln,J as kn,H as An,B as Rn,v as jn,_ as Sn,X as wn,w as Cn,D as Mn,x as In,y as Wn}from"./nivo-legends.es-df328e37.js";import{p as On,m as Tn,P as Bn}from"./nivo-line.es-5822105f.js";import{F as Pn,I as Dn,S as En}from"./Select-fbe59e9f.js";import{a as Vn,b as Fn,c as Hn,p as Gn,d as Un,s as Nn}from"./dataUrls-9cfc781b.js";import{E as $n}from"./ErrorMessage-b7085a8e.js";import"./LPU-c3fa7122.js";import"./LinearProgress-6e0999be.js";import"./useDocumentTitle-545ce889.js";import"./ToggleButtonGroup-7eae4cb5.js";import"./index-1de7dc99.js";function zn(e){return e.innerRadius}function Yn(e){return e.outerRadius}function qn(e){return e.startAngle}function Xn(e){return e.endAngle}function Jn(e){return e&&e.padAngle}function Zn(e,t,i,r,l,d,s,a){var o=i-e,c=r-t,f=s-l,u=a-d,h=u*o-f*c;if(!(h*h<N))return h=(f*(t-d)-u*(e-l))/h,[e+h*o,t+h*c]}function Se(e,t,i,r,l,d,s){var a=e-i,o=t-r,c=(s?d:-d)/oe(a*a+o*o),f=c*o,u=-c*a,h=e+f,b=t+u,m=i+f,v=r+u,g=(h+m)/2,A=(b+v)/2,x=m-h,p=v-b,w=x*x+p*p,y=l-d,R=h*v-m*b,T=(p<0?-1:1)*oe(yn(0,y*y*w-R*R)),P=(R*p-x*T)/w,W=(-R*x-p*T)/w,C=(R*p+x*T)/w,D=(-R*x+p*T)/w,L=P-g,j=W-A,U=C-g,M=D-A;return L*L+j*j>U*U+M*M&&(P=C,W=D),{cx:P,cy:W,x01:-f,y01:-u,x11:P*(l/y-1),y11:W*(l/y-1)}}function Kn(){var e=zn,t=Yn,i=G(0),r=null,l=qn,d=Xn,s=Jn,a=null;function o(){var c,f,u=+e.apply(this,arguments),h=+t.apply(this,arguments),b=l.apply(this,arguments)-dt,m=d.apply(this,arguments)-dt,v=ct(m-b),g=m>b;if(a||(a=c=On()),h<u&&(f=h,h=u,u=f),!(h>N))a.moveTo(0,0);else if(v>Ce-N)a.moveTo(h*ae(b),h*Q(b)),a.arc(0,0,h,b,m,!g),u>N&&(a.moveTo(u*ae(m),u*Q(m)),a.arc(0,0,u,m,b,g));else{var A=b,x=m,p=b,w=m,y=v,R=v,T=s.apply(this,arguments)/2,P=T>N&&(r?+r.apply(this,arguments):oe(u*u+h*h)),W=Te(ct(h-u)/2,+i.apply(this,arguments)),C=W,D=W,L,j;if(P>N){var U=ht(P/u*Q(T)),M=ht(P/h*Q(T));(y-=U*2)>N?(U*=g?1:-1,p+=U,w-=U):(y=0,p=w=(b+m)/2),(R-=M*2)>N?(M*=g?1:-1,A+=M,x-=M):(R=0,A=x=(b+m)/2)}var B=h*ae(A),Z=h*Q(A),ee=u*ae(w),z=u*Q(w);if(W>N){var V=h*ae(x),X=h*Q(x),J=u*ae(p),K=u*Q(p),H;if(v<ut&&(H=Zn(B,Z,J,K,V,X,ee,z))){var ie=B-H[0],E=Z-H[1],Y=V-H[0],q=X-H[1],Le=1/Q(bn((ie*Y+E*q)/(oe(ie*ie+E*E)*oe(Y*Y+q*q)))/2),ke=oe(H[0]*H[0]+H[1]*H[1]);C=Te(W,(u-ke)/(Le-1)),D=Te(W,(h-ke)/(Le+1))}}R>N?D>N?(L=Se(J,K,B,Z,h,D,g),j=Se(V,X,ee,z,h,D,g),a.moveTo(L.cx+L.x01,L.cy+L.y01),D<W?a.arc(L.cx,L.cy,D,F(L.y01,L.x01),F(j.y01,j.x01),!g):(a.arc(L.cx,L.cy,D,F(L.y01,L.x01),F(L.y11,L.x11),!g),a.arc(0,0,h,F(L.cy+L.y11,L.cx+L.x11),F(j.cy+j.y11,j.cx+j.x11),!g),a.arc(j.cx,j.cy,D,F(j.y11,j.x11),F(j.y01,j.x01),!g))):(a.moveTo(B,Z),a.arc(0,0,h,A,x,!g)):a.moveTo(B,Z),!(u>N)||!(y>N)?a.lineTo(ee,z):C>N?(L=Se(ee,z,V,X,u,-C,g),j=Se(B,Z,J,K,u,-C,g),a.lineTo(L.cx+L.x01,L.cy+L.y01),C<W?a.arc(L.cx,L.cy,C,F(L.y01,L.x01),F(j.y01,j.x01),!g):(a.arc(L.cx,L.cy,C,F(L.y01,L.x01),F(L.y11,L.x11),!g),a.arc(0,0,u,F(L.cy+L.y11,L.cx+L.x11),F(j.cy+j.y11,j.cx+j.x11),g),a.arc(j.cx,j.cy,C,F(j.y11,j.x11),F(j.y01,j.x01),!g))):a.arc(0,0,u,w,p,g)}if(a.closePath(),c)return a=null,c+""||null}return o.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+l.apply(this,arguments)+ +d.apply(this,arguments))/2-ut/2;return[ae(f)*c,Q(f)*c]},o.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:G(+c),o):e},o.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:G(+c),o):t},o.cornerRadius=function(c){return arguments.length?(i=typeof c=="function"?c:G(+c),o):i},o.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:G(+c),o):r},o.startAngle=function(c){return arguments.length?(l=typeof c=="function"?c:G(+c),o):l},o.endAngle=function(c){return arguments.length?(d=typeof c=="function"?c:G(+c),o):d},o.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:G(+c),o):s},o.context=function(c){return arguments.length?(a=c??null,o):a},o}function Qn(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function _n(e){return e}function ei(){var e=_n,t=Qn,i=null,r=G(0),l=G(Ce),d=G(0);function s(a){var o,c=a.length,f,u,h=0,b=new Array(c),m=new Array(c),v=+r.apply(this,arguments),g=Math.min(Ce,Math.max(-Ce,l.apply(this,arguments)-v)),A,x=Math.min(Math.abs(g)/c,d.apply(this,arguments)),p=x*(g<0?-1:1),w;for(o=0;o<c;++o)(w=m[b[o]=o]=+e(a[o],o,a))>0&&(h+=w);for(t!=null?b.sort(function(y,R){return t(m[y],m[R])}):i!=null&&b.sort(function(y,R){return i(a[y],a[R])}),o=0,u=h?(g-c*p)/h:0;o<c;++o,v=A)f=b[o],w=m[f],A=v+(w>0?w*u:0)+p,m[f]={data:a[f],index:o,value:w,startAngle:v,endAngle:A,padAngle:x};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:G(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,i=null,s):t},s.sort=function(a){return arguments.length?(i=a,t=null,s):i},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:G(+a),s):r},s.endAngle=function(a){return arguments.length?(l=typeof a=="function"?a:G(+a),s):l},s.padAngle=function(a){return arguments.length?(d=typeof a=="function"?a:G(+a),s):d},s}var Fe={},ti=an;Object.defineProperty(Fe,"__esModule",{value:!0});var pt=Fe.default=void 0,ni=ti(nn()),ii=n;pt=Fe.default=(0,ni.default)((0,ii.jsx)("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4z"}),"SsidChart");const Be=({tableData:e})=>{const t={padding:"0px",fontWeight:700,backgroundColor:"#000"},i={border:0,padding:"4px 8px 0px 0px",fontWeight:400};return n.jsx(he,{id:"dailyAverages",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:n.jsxs(ge,{children:[n.jsx(Me,{children:n.jsx(_,{children:n.jsx(O,{colSpan:2,style:t,children:e.description})})}),n.jsx(xe,{children:e.data.map((r,l)=>n.jsxs(_,{index:l,children:[n.jsx(O,{style:i,children:r.label},l+1),n.jsx(O,{style:i,sx:{textAlign:"left"},children:r.value.toLocaleString()})]},l))})]})})};function ai({data:e}){const{width:t}=$(),i=t<500,r=t<700,l=r?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},d=r?"26px":"10px",{lockStats:{lockCounts:s},siteFullNew:{dailyAverages:a,totals:o}}=e;return n.jsxs("div",{style:l,children:[n.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 26px",minWidth:"180px",maxWidth:"306px",height:140},children:[n.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:n.jsx(pt,{style:{fontSize:"x-large"}})}),n.jsx(Be,{tableData:a})]}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${d}`,minWidth:"200px",maxWidth:"306px",height:140},children:n.jsx(Be,{tableData:o})}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${d}`,minWidth:"200px",maxWidth:"306px",height:140},children:n.jsx(Be,{tableData:s})})]})}function ri({data:e}){const{width:t}=$(),i=t<500,r=t<700,l=r?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},d=i?"32px":"10px",s=r?255:155,a=r?330:360,o={padding:"0px",fontWeight:700,backgroundColor:"#000"},c={border:0,padding:"4px 8px 0px 0px",fontWeight:400},f={border:0,padding:"4px 8px 0px 0px",fontWeight:700},{photoSegments:u,topPhotographers:h,uniqueImages:b,contributors:m}=e.lockStats.photoStats;return n.jsx(me.Fragment,{children:n.jsxs("div",{style:l,children:[n.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 32px",minWidth:"300px",maxWidth:a,height:230},children:[n.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:n.jsx(fn,{style:{fontSize:"x-large"}})}),n.jsx(he,{id:"photoStats",style:{padding:"0px 0px 0px 4px",maxWidth:"240px"},children:n.jsx(ge,{children:n.jsxs(xe,{children:[n.jsxs(_,{index:1,children:[n.jsx(O,{style:f,sx:{maxWidth:108},children:"Unique Images"},"images"),n.jsx(O,{style:f,children:b},"imageCount")]},1),n.jsxs(_,{index:2,children:[n.jsx(O,{style:f,sx:{maxWidth:108},children:"Individual Contributors"},"contribs"),n.jsx(O,{style:f,children:m},"contribCount")]},2)]})})}),n.jsx("div",{style:{height:16}}),n.jsx(he,{id:"areaList",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:n.jsxs(ge,{children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:o,children:"Segment"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Count"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"w/Media"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Coverage"})]})}),n.jsx(xe,{children:u.map((v,g)=>n.jsxs(_,{index:g,children:[n.jsx(O,{style:c,children:v.segment},g+1),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.count}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.media}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.coverage})]},g))})]})})]}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,margin:`10px 0px 0px ${d}`,minWidth:"260px",maxWidth:"330px",height:230},children:n.jsx(he,{sx:{height:200,backgroundColor:"#111",marginLeft:"auto",marginRight:"auto",width:{leaderboardWidth:s}},children:n.jsxs(ge,{stickyHeader:!0,children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:o,children:"Top Contributors"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Images"})]})}),n.jsx(xe,{children:h.map((v,g)=>n.jsxs(_,{children:[n.jsxs(O,{style:c,sx:{},children:["  ",v.contributor]}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.images})]},g))})]})})})]})})}const si=({beltDistribution:e})=>{const{width:t}=$(),i=t<500,l=t<700?i?275:325:350,d=i?{top:30,right:5,bottom:55,left:48}:{top:30,right:20,bottom:30,left:50},s=i?-45:0;return n.jsx("div",{style:{height:l},children:n.jsx(pe,{data:e,maxValue:.2,margin:d,padding:.15,colors:a=>fe[a.index%fe.length],animate:!0,enableLabel:!1,axisBottom:{tickRotation:s},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},enableGridY:!1,theme:ve,isInteractive:!1})})};function oi({data:e}){const t=S.useMemo(()=>{const{lockStats:{locksByBelt:d},siteFullNew:{lockViewsByBelt:s},collectionsStatsCurrent:a}=e,o=[...rn,"Unranked"].map(c=>({label:c,id:c,...a.allUsers.savesByBelt[c]}));return[{label:"Site Views",data:s.data},{label:"Locks",data:d},{label:"Collection Saves",data:o}]},[e]),[i,r]=S.useState(t[0]),l=S.useCallback(d=>r(d),[]);return n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx(mn,{options:t,onChange:l}),n.jsx(si,{beltDistribution:i.data})]})}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}var li={pointerEvents:"none"},di=function(e){var t=e.label,i=e.style,r=be();return n.jsx(de.g,{transform:i.transform,opacity:i.progress,style:li,children:n.jsx(de.text,{textAnchor:"middle",dominantBaseline:"central",style:I({},r.labels.text,{fill:i.textColor}),children:t})})},ft=function(e){var t=e%(2*Math.PI);return t<0&&(t+=2*Math.PI),t},ci=function(e,t){return e.filter(function(i){return Math.abs(De(i.arc.endAngle-i.arc.startAngle))>=t})},ui={startAngle:{enter:function(e){return I({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return I({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:t,endAngle:t})},update:function(e){return e},leave:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:t,endAngle:t})}},endAngle:{enter:function(e){return I({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return I({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return I({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:t,outerRadius:t})},update:function(e){return e},leave:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:t,outerRadius:t})}},outerRadius:{enter:function(e){return I({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return I({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},mt=function(e,t){return S.useMemo(function(){var i=ui[e];return{enter:function(r){return I({progress:0},i.enter(r.arc),t?t.enter(r):{})},update:function(r){return I({progress:1},i.update(r.arc),t?t.update(r):{})},leave:function(r){return I({progress:0},i.leave(r.arc),t?t.leave(r):{})}}},[e,t])},hi=function(e,t){var i=Ln(e)-Math.PI/2,r=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return le(i,r)},gi=function(e){return function(t,i,r,l){return ye([t,i,r,l],function(d,s,a,o){var c=hi({startAngle:d,endAngle:s,innerRadius:a,outerRadius:o},e);return"translate("+c.x+","+c.y+")"})}},xi=function(e,t,i,r){t===void 0&&(t=.5),i===void 0&&(i="innerRadius");var l=Ee(),d=l.animate,s=l.config,a=mt(i,r);return{transition:Ve(e,{keys:function(o){return o.id},initial:a.update,from:a.enter,enter:a.update,update:a.update,leave:a.leave,config:s,immediate:!d}),interpolate:gi(t)}},pi=function(e){var t=e.center,i=e.data,r=e.transitionMode,l=e.label,d=e.radiusOffset,s=e.skipAngle,a=e.textColor,o=e.component,c=o===void 0?di:o,f=Ie(l),u=be(),h=We(a,u),b=S.useMemo(function(){return i.filter(function(x){return Math.abs(De(x.arc.endAngle-x.arc.startAngle))>=s})},[i,s]),m=xi(b,d,r),v=m.transition,g=m.interpolate,A=c;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:v(function(x,p){return S.createElement(A,{key:p.id,datum:p,label:f(p),style:I({},x,{transform:g(x.startAngle,x.endAngle,x.innerRadius,x.outerRadius),textColor:h(p)})})})})},fi=function(e){var t=e.label,i=e.style,r=be();return n.jsxs(de.g,{opacity:i.opacity,children:[n.jsx(de.path,{fill:"none",stroke:i.linkColor,strokeWidth:i.thickness,d:i.path}),n.jsx(de.text,{transform:i.textPosition,textAnchor:i.textAnchor,dominantBaseline:"central",style:I({},r.labels.text,{fill:i.textColor}),children:t})]})},mi=function(e){var t=ft(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return t<Math.PI/2||t>1.5*Math.PI?"start":"end"},vt=function(e,t,i,r){var l,d,s=ft(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),a=le(s,e.outerRadius+t),o=le(s,e.outerRadius+t+i);return s<Math.PI/2||s>1.5*Math.PI?(l="after",d={x:o.x+r,y:o.y}):(l="before",d={x:o.x-r,y:o.y}),{side:l,points:[a,o,d]}},vi=Tn().x(function(e){return e.x}).y(function(e){return e.y}),bi=function(e,t,i,r,l,d,s){return ye([e,t,i,r,l,d,s],function(a,o,c,f,u,h,b){var m=vt({startAngle:a,endAngle:o,innerRadius:c,outerRadius:f},u,h,b).points;return vi(m)})},yi=function(e,t,i,r){return ye([e,t,i,r],function(l,d,s,a){return mi({startAngle:l,endAngle:d,innerRadius:s,outerRadius:a})})},Li=function(e,t,i,r,l,d,s,a){return ye([e,t,i,r,l,d,s,a],function(o,c,f,u,h,b,m,v){var g=vt({startAngle:o,endAngle:c,innerRadius:f,outerRadius:u},h,b,m),A=g.points,x=g.side,p=A[2];return x==="before"?p.x-=v:p.x+=v,"translate("+p.x+","+p.y+")"})},ki=function(e){var t=e.data,i=e.offset,r=i===void 0?0:i,l=e.diagonalLength,d=e.straightLength,s=e.skipAngle,a=s===void 0?0:s,o=e.textOffset,c=e.linkColor,f=e.textColor,u=Ee(),h=u.animate,b=u.config,m=be(),v=We(c,m),g=We(f,m),A=function(p,w){return S.useMemo(function(){return ci(p,w)},[p,w])}(t,a),x=function(p){var w=p.offset,y=p.diagonalLength,R=p.straightLength,T=p.textOffset,P=p.getLinkColor,W=p.getTextColor;return S.useMemo(function(){return{enter:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:w,diagonalLength:0,straightLength:0,textOffset:T,linkColor:P(C),textColor:W(C),opacity:0}},update:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:w,diagonalLength:y,straightLength:R,textOffset:T,linkColor:P(C),textColor:W(C),opacity:1}},leave:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:w,diagonalLength:0,straightLength:0,textOffset:T,linkColor:P(C),textColor:W(C),opacity:0}}}},[y,R,T,P,W,w])}({offset:r,diagonalLength:l,straightLength:d,textOffset:o,getLinkColor:v,getTextColor:g});return{transition:Ve(A,{keys:function(p){return p.id},initial:x.update,from:x.enter,enter:x.update,update:x.update,leave:x.leave,config:b,immediate:!h}),interpolateLink:bi,interpolateTextAnchor:yi,interpolateTextPosition:Li}},Ai=function(e){var t=e.center,i=e.data,r=e.label,l=e.skipAngle,d=e.offset,s=e.diagonalLength,a=e.straightLength,o=e.strokeWidth,c=e.textOffset,f=e.textColor,u=e.linkColor,h=e.component,b=h===void 0?fi:h,m=Ie(r),v=ki({data:i,skipAngle:l,offset:d,diagonalLength:s,straightLength:a,textOffset:c,linkColor:u,textColor:f}),g=v.transition,A=v.interpolateLink,x=v.interpolateTextAnchor,p=v.interpolateTextPosition,w=b;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(y,R){return S.createElement(w,{key:R.id,datum:R,label:m(R),style:I({},y,{thickness:o,path:A(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius,y.offset,y.diagonalLength,y.straightLength),textAnchor:x(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius),textPosition:p(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius,y.offset,y.diagonalLength,y.straightLength,y.textOffset)})})})})},Ri=function(e){var t=e.datum,i=e.style,r=e.onClick,l=e.onMouseEnter,d=e.onMouseMove,s=e.onMouseLeave,a=S.useCallback(function(u){return r==null?void 0:r(t,u)},[r,t]),o=S.useCallback(function(u){return l==null?void 0:l(t,u)},[l,t]),c=S.useCallback(function(u){return d==null?void 0:d(t,u)},[d,t]),f=S.useCallback(function(u){return s==null?void 0:s(t,u)},[s,t]);return n.jsx(de.path,{d:i.path,opacity:i.opacity,fill:t.fill||i.color,stroke:i.borderColor,strokeWidth:i.borderWidth,onClick:r?a:void 0,onMouseEnter:l?o:void 0,onMouseMove:d?c:void 0,onMouseLeave:s?f:void 0})},ji=function(e,t,i,r,l){return ye([e,t,i,r],function(d,s,a,o){return l({startAngle:d,endAngle:s,innerRadius:Math.max(0,a),outerRadius:Math.max(0,o)})})},Si=function(e,t,i){t===void 0&&(t="innerRadius");var r=Ee(),l=r.animate,d=r.config,s=mt(t,i);return{transition:Ve(e,{keys:function(a){return a.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:d,immediate:!l}),interpolate:ji}},wi=function(e){var t=e.center,i=e.data,r=e.arcGenerator,l=e.borderWidth,d=e.borderColor,s=e.onClick,a=e.onMouseEnter,o=e.onMouseMove,c=e.onMouseLeave,f=e.transitionMode,u=e.component,h=u===void 0?Ri:u,b=be(),m=We(d,b),v=Si(i,f,{enter:function(p){return{opacity:0,color:p.color,borderColor:m(p)}},update:function(p){return{opacity:1,color:p.color,borderColor:m(p)}},leave:function(p){return{opacity:0,color:p.color,borderColor:m(p)}}}),g=v.transition,A=v.interpolate,x=h;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(p,w){return S.createElement(x,{key:w.id,datum:w,style:I({},p,{borderWidth:l,path:A(p.startAngle,p.endAngle,p.innerRadius,p.outerRadius,r)}),onClick:s,onMouseEnter:a,onMouseMove:o,onMouseLeave:c})})})},Ci=function(e,t,i,r,l,d){d===void 0&&(d=!0);var s=[],a=le(re(r),i);s.push([a.x,a.y]);var o=le(re(l),i);s.push([o.x,o.y]);for(var c=Math.round(Math.min(r,l));c<=Math.round(Math.max(r,l));c++)if(c%90==0){var f=le(re(c),i);s.push([f.x,f.y])}s=s.map(function(g){var A=g[0],x=g[1];return[e+A,t+x]}),d&&s.push([e,t]);var u=s.map(function(g){return g[0]}),h=s.map(function(g){return g[1]}),b=Math.min.apply(Math,u),m=Math.max.apply(Math,u),v=Math.min.apply(Math,h);return{points:s,x:b,y:v,width:m-b,height:Math.max.apply(Math,h)-v}},Mi=function(e){var t=e===void 0?{}:e,i=t.cornerRadius,r=i===void 0?0:i,l=t.padAngle,d=l===void 0?0:l;return S.useMemo(function(){return Kn().innerRadius(function(s){return s.innerRadius}).outerRadius(function(s){return s.outerRadius}).cornerRadius(r).padAngle(d)},[r,d])};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ne.apply(this,arguments)}function bt(e,t){if(e==null)return{};var i,r,l={},d=Object.keys(e);for(r=0;r<d.length;r++)i=d[r],t.indexOf(i)>=0||(l[i]=e[i]);return l}var gt,Ii=function(e){var t=e.width,i=e.height,r=e.legends,l=e.data,d=e.toggleSerie;return n.jsx(n.Fragment,{children:r.map(function(s,a){var o;return n.jsx(wn,ne({},s,{containerWidth:t,containerHeight:i,data:(o=s.data)!=null?o:l,toggleSerie:s.toggleSerie?d:void 0}),a)})})},k={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return n.jsx(Cn,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img",pixelRatio:typeof window<"u"&&(gt=window.devicePixelRatio)!=null?gt:1},Wi=["points"],Oi=function(e){var t=e.data,i=e.id,r=i===void 0?k.id:i,l=e.value,d=l===void 0?k.value:l,s=e.valueFormat,a=e.colors,o=a===void 0?k.colors:a,c=Ie(r),f=Ie(d),u=Mn(s),h=In(o,"id");return S.useMemo(function(){return t.map(function(b){var m,v=c(b),g=f(b),A={id:v,label:(m=b.label)!=null?m:v,hidden:!1,value:g,formattedValue:u(g),data:b};return ne({},A,{color:h(A)})})},[t,c,f,u,h])},Ti=function(e){var t=e.data,i=e.startAngle,r=e.endAngle,l=e.innerRadius,d=e.outerRadius,s=e.padAngle,a=e.sortByValue,o=e.activeId,c=e.activeInnerRadiusOffset,f=e.activeOuterRadiusOffset,u=e.hiddenIds,h=e.forwardLegendData,b=S.useMemo(function(){var A=ei().value(function(x){return x.value}).startAngle(re(i)).endAngle(re(r)).padAngle(re(s));return a||A.sortValues(null),A},[i,r,s,a]),m=S.useMemo(function(){var A=t.filter(function(x){return!u.includes(x.id)});return{dataWithArc:b(A).map(function(x){var p=Math.abs(x.endAngle-x.startAngle);return ne({},x.data,{arc:{index:x.index,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:o===x.data.id?l-c:l,outerRadius:o===x.data.id?d+f:d,thickness:d-l,padAngle:x.padAngle,angle:p,angleDeg:De(p)}})}),legendData:t.map(function(x){return{id:x.id,label:x.label,color:x.color,hidden:u.includes(x.id),data:x}})}},[b,t,u,o,l,c,d,f]),v=m.legendData,g=S.useRef(h);return S.useEffect(function(){typeof g.current=="function"&&g.current(v)},[g,v]),m},Bi=function(e){var t=e.activeId,i=e.onActiveIdChange,r=e.defaultActiveId,l=t!==void 0,d=S.useState(l||r===void 0?null:r),s=d[0],a=d[1];return{activeId:l?t:s,setActiveId:S.useCallback(function(o){i&&i(o),l||a(o)},[l,i,a])}},Pi=function(e){var t=e.data,i=e.width,r=e.height,l=e.innerRadius,d=l===void 0?k.innerRadius:l,s=e.startAngle,a=s===void 0?k.startAngle:s,o=e.endAngle,c=o===void 0?k.endAngle:o,f=e.padAngle,u=f===void 0?k.padAngle:f,h=e.sortByValue,b=h===void 0?k.sortByValue:h,m=e.cornerRadius,v=m===void 0?k.cornerRadius:m,g=e.fit,A=g===void 0?k.fit:g,x=e.activeInnerRadiusOffset,p=x===void 0?k.activeInnerRadiusOffset:x,w=e.activeOuterRadiusOffset,y=w===void 0?k.activeOuterRadiusOffset:w,R=e.activeId,T=e.onActiveIdChange,P=e.defaultActiveId,W=e.forwardLegendData,C=Bi({activeId:R,onActiveIdChange:T,defaultActiveId:P}),D=C.activeId,L=C.setActiveId,j=S.useState([]),U=j[0],M=j[1],B=S.useMemo(function(){var z,V=Math.min(i,r)/2,X=V*Math.min(d,1),J=i/2,K=r/2;if(A){var H=Ci(J,K,V,a-90,c-90),ie=H.points,E=bt(H,Wi),Y=Math.min(i/E.width,r/E.height),q={width:E.width*Y,height:E.height*Y};q.x=(i-q.width)/2,q.y=(r-q.height)/2,J=(J-E.x)/E.width*E.width*Y+q.x,K=(K-E.y)/E.height*E.height*Y+q.y,z={box:E,ratio:Y,points:ie},V*=Y,X*=Y}return{centerX:J,centerY:K,radius:V,innerRadius:X,debug:z}},[i,r,d,a,c,A]),Z=Ti({data:t,startAngle:a,endAngle:c,innerRadius:B.innerRadius,outerRadius:B.radius,padAngle:u,sortByValue:b,activeId:D,activeInnerRadiusOffset:p,activeOuterRadiusOffset:y,hiddenIds:U,forwardLegendData:W}),ee=S.useCallback(function(z){M(function(V){return V.indexOf(z)>-1?V.filter(function(X){return X!==z}):[].concat(V,[z])})},[]);return ne({arcGenerator:Mi({cornerRadius:v,padAngle:re(u)}),activeId:D,setActiveId:L,toggleSerie:ee},Z,B)},Di=function(e){var t=e.dataWithArc,i=e.arcGenerator,r=e.centerX,l=e.centerY,d=e.radius,s=e.innerRadius;return S.useMemo(function(){return{dataWithArc:t,arcGenerator:i,centerX:r,centerY:l,radius:d,innerRadius:s}},[t,i,r,l,d,s])},Ei=function(e){var t=e.center,i=e.data,r=e.arcGenerator,l=e.borderWidth,d=e.borderColor,s=e.isInteractive,a=e.onClick,o=e.onMouseEnter,c=e.onMouseMove,f=e.onMouseLeave,u=e.setActiveId,h=e.tooltip,b=e.transitionMode,m=Wn(),v=m.showTooltipFromEvent,g=m.hideTooltip,A=S.useMemo(function(){if(s)return function(y,R){a==null||a(y,R)}},[s,a]),x=S.useMemo(function(){if(s)return function(y,R){v(S.createElement(h,{datum:y}),R),u(y.id),o==null||o(y,R)}},[s,v,u,o,h]),p=S.useMemo(function(){if(s)return function(y,R){v(S.createElement(h,{datum:y}),R),c==null||c(y,R)}},[s,v,c,h]),w=S.useMemo(function(){if(s)return function(y,R){g(),u(null),f==null||f(y,R)}},[s,g,u,f]);return n.jsx(wi,{center:t,data:i,arcGenerator:r,borderWidth:l,borderColor:d,transitionMode:b,onClick:A,onMouseEnter:x,onMouseMove:p,onMouseLeave:w})},Vi=["isInteractive","animate","motionConfig","theme","renderWrapper"],Fi=function(e){var t=e.data,i=e.id,r=i===void 0?k.id:i,l=e.value,d=l===void 0?k.value:l,s=e.valueFormat,a=e.sortByValue,o=a===void 0?k.sortByValue:a,c=e.layers,f=c===void 0?k.layers:c,u=e.startAngle,h=u===void 0?k.startAngle:u,b=e.endAngle,m=b===void 0?k.endAngle:b,v=e.padAngle,g=v===void 0?k.padAngle:v,A=e.fit,x=A===void 0?k.fit:A,p=e.innerRadius,w=p===void 0?k.innerRadius:p,y=e.cornerRadius,R=y===void 0?k.cornerRadius:y,T=e.activeInnerRadiusOffset,P=T===void 0?k.activeInnerRadiusOffset:T,W=e.activeOuterRadiusOffset,C=W===void 0?k.activeOuterRadiusOffset:W,D=e.width,L=e.height,j=e.margin,U=e.colors,M=U===void 0?k.colors:U,B=e.borderWidth,Z=B===void 0?k.borderWidth:B,ee=e.borderColor,z=ee===void 0?k.borderColor:ee,V=e.enableArcLabels,X=V===void 0?k.enableArcLabels:V,J=e.arcLabel,K=J===void 0?k.arcLabel:J,H=e.arcLabelsSkipAngle,ie=H===void 0?k.arcLabelsSkipAngle:H,E=e.arcLabelsTextColor,Y=E===void 0?k.arcLabelsTextColor:E,q=e.arcLabelsRadiusOffset,Le=q===void 0?k.arcLabelsRadiusOffset:q,ke=e.arcLabelsComponent,Ge=e.enableArcLinkLabels,yt=Ge===void 0?k.enableArcLinkLabels:Ge,Ue=e.arcLinkLabel,Lt=Ue===void 0?k.arcLinkLabel:Ue,Ne=e.arcLinkLabelsSkipAngle,kt=Ne===void 0?k.arcLinkLabelsSkipAngle:Ne,$e=e.arcLinkLabelsOffset,At=$e===void 0?k.arcLinkLabelsOffset:$e,ze=e.arcLinkLabelsDiagonalLength,Rt=ze===void 0?k.arcLinkLabelsDiagonalLength:ze,Ye=e.arcLinkLabelsStraightLength,jt=Ye===void 0?k.arcLinkLabelsStraightLength:Ye,qe=e.arcLinkLabelsThickness,St=qe===void 0?k.arcLinkLabelsThickness:qe,Xe=e.arcLinkLabelsTextOffset,wt=Xe===void 0?k.arcLinkLabelsTextOffset:Xe,Je=e.arcLinkLabelsTextColor,Ct=Je===void 0?k.arcLinkLabelsTextColor:Je,Ze=e.arcLinkLabelsColor,Mt=Ze===void 0?k.arcLinkLabelsColor:Ze,It=e.arcLinkLabelComponent,Ke=e.defs,Wt=Ke===void 0?k.defs:Ke,Qe=e.fill,Ot=Qe===void 0?k.fill:Qe,_e=e.isInteractive,Tt=_e===void 0?k.isInteractive:_e,Bt=e.onClick,Pt=e.onMouseEnter,Dt=e.onMouseMove,Et=e.onMouseLeave,et=e.tooltip,Vt=et===void 0?k.tooltip:et,Ft=e.activeId,Ht=e.onActiveIdChange,Gt=e.defaultActiveId,tt=e.transitionMode,nt=tt===void 0?k.transitionMode:tt,it=e.legends,at=it===void 0?k.legends:it,Ut=e.forwardLegendData,rt=e.role,Nt=rt===void 0?k.role:rt,ce=Rn(D,L,j),$t=ce.outerWidth,zt=ce.outerHeight,Yt=ce.margin,st=ce.innerWidth,ot=ce.innerHeight,qt=Oi({data:t,id:r,value:d,valueFormat:s,colors:M}),te=Pi({data:qt,width:st,height:ot,fit:x,innerRadius:w,startAngle:h,endAngle:m,padAngle:g,sortByValue:o,cornerRadius:R,activeInnerRadiusOffset:P,activeOuterRadiusOffset:C,activeId:Ft,onActiveIdChange:Ht,defaultActiveId:Gt,forwardLegendData:Ut}),ue=te.dataWithArc,Xt=te.legendData,lt=te.arcGenerator,Ae=te.centerX,Re=te.centerY,Jt=te.radius,Zt=te.innerRadius,Kt=te.setActiveId,Qt=te.toggleSerie,_t=jn(Wt,ue,Ot),se={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};f.includes("arcs")&&(se.arcs=n.jsx(Ei,{center:[Ae,Re],data:ue,arcGenerator:lt,borderWidth:Z,borderColor:z,isInteractive:Tt,onClick:Bt,onMouseEnter:Pt,onMouseMove:Dt,onMouseLeave:Et,setActiveId:Kt,tooltip:Vt,transitionMode:nt},"arcs")),yt&&f.includes("arcLinkLabels")&&(se.arcLinkLabels=n.jsx(Ai,{center:[Ae,Re],data:ue,label:Lt,skipAngle:kt,offset:At,diagonalLength:Rt,straightLength:jt,strokeWidth:St,textOffset:wt,textColor:Ct,linkColor:Mt,component:It},"arcLinkLabels")),X&&f.includes("arcLabels")&&(se.arcLabels=n.jsx(pi,{center:[Ae,Re],data:ue,label:K,radiusOffset:Le,skipAngle:ie,textColor:Y,transitionMode:nt,component:ke},"arcLabels")),at.length>0&&f.includes("legends")&&(se.legends=n.jsx(Ii,{width:st,height:ot,data:Xt,legends:at,toggleSerie:Qt},"legends"));var en=Di({dataWithArc:ue,arcGenerator:lt,centerX:Ae,centerY:Re,radius:Jt,innerRadius:Zt});return n.jsx(Sn,{width:$t,height:zt,margin:Yt,defs:_t,role:Nt,children:f.map(function(je,tn){return se[je]!==void 0?se[je]:typeof je=="function"?n.jsx(S.Fragment,{children:S.createElement(je,en)},tn):null})})},Hi=function(e){var t=e.isInteractive,i=t===void 0?k.isInteractive:t,r=e.animate,l=r===void 0?k.animate:r,d=e.motionConfig,s=d===void 0?k.motionConfig:d,a=e.theme,o=e.renderWrapper,c=bt(e,Vi);return n.jsx(An,{animate:l,isInteractive:i,motionConfig:s,renderWrapper:o,theme:a,children:n.jsx(Fi,ne({isInteractive:i},c))})},He=function(e){return n.jsx(kn,{children:function(t){var i=t.width,r=t.height;return n.jsx(Hi,ne({width:i,height:r},e))}})};function Gi({data:e}){const{lockingMechanisms:t}=e.lockStats,{width:i}=$(),r=i<=360,l=i<=395,d=i<=428,s=i<=560,a={top:24,right:0,bottom:20,left:40};let o=320;r?o=145:l?o=180:d?o=230:s&&(o=240);const c=s?5:4,f=s?10:8,u=s?0:8;return n.jsx("div",{style:{height:o,padding:"0px 8px 0px 8px",width:"100%"},children:n.jsx(He,{data:t,theme:Pe,colors:{scheme:"dark2"},margin:a,startAngle:-70,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:c,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label+": "+h.value,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:u,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:f,arcLabelsTextColor:"#111",isInteractive:!1})},"waffle")}function Ui({data:e}){const{redditGrowth:t}=e,{width:i}=$(),r=i<500,d=i<700?r?220:300:350,s=r?2:3,a=t.map(o=>({total:Object.keys(o).reduce((f,u)=>u==="date"?f:+o[u]+f,0)}));return n.jsxs("div",{style:{height:d},children:[n.jsx(pe,{data:t,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],indexBy:"date",groupMode:"stacked",margin:{top:10,right:20,bottom:50,left:55},padding:.1,innerPadding:.5,borderRadius:s,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:8e3,theme:ve,colors:fe,animate:!0,enableLabel:!0,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0}),n.jsx("div",{style:{height:30,marginTop:-20},children:n.jsx(pe,{data:a,indexBy:"total",margin:{top:10,right:20,bottom:40,left:55},maxValue:0,theme:vn,axisLeft:null,enableGridY:!1,enableGridX:!1,animate:!0,isInteractive:!1})})]})}function Ni({data:e,lockCollection:t,userText:i,collectionBarHeight:r}){const{isLoggedIn:l}=S.useContext(sn),d={aveOwn:e.collectionsStatsCurrent.allUsers.listStats.own.averageSaves,maxOwn:e.collectionsStatsCurrent.allUsers.listStats.own.maxSaves,avePicked:e.collectionsStatsCurrent.allUsers.listStats.picked.averageSaves,maxPicked:e.collectionsStatsCurrent.allUsers.listStats.picked.maxSaves,aveRecorded:e.collectionsStatsCurrent.allUsers.listStats.recorded.averageSaves,maxRecorded:e.collectionsStatsCurrent.allUsers.listStats.recorded.maxSaves,aveWishlist:e.collectionsStatsCurrent.allUsers.listStats.wishlist.averageSaves,maxWishlist:e.collectionsStatsCurrent.allUsers.listStats.wishlist.maxSaves,aveScorecard:e.collectionsStatsCurrent.allUsers.listStats.recordedLocks.averageSaves,maxScorecard:e.collectionsStatsCurrent.allUsers.listStats.recordedLocks.maxSaves},s=t.own?t.own.length:0,a=t.picked?t.picked.length:0,o=t.recordedLocks?t.recordedLocks.length:0,c=t.wishlist?t.wishlist.length:0,u=s+a+o+c?{own:s,picked:a,scorecard:o,wishlist:c}:{own:0,picked:0,scorecard:0,wishlist:0},h={own:d.aveOwn,picked:d.avePicked,scorecard:d.aveScorecard,wishlist:d.aveWishlist},b={own:d.maxOwn,picked:d.maxPicked,scorecard:d.maxScorecard,wishlist:d.maxWishlist},m={own:Math.min(h.own,u.own),picked:Math.min(h.picked,u.picked),scorecard:Math.min(h.scorecard,u.scorecard),wishlist:Math.min(h.wishlist,u.wishlist)},v={own:u.own>h.own?0:h.own-m.own,picked:u.picked>h.picked?0:h.picked-m.picked,scorecard:u.scorecard>h.scorecard?0:h.scorecard-m.scorecard,wishlist:u.wishlist>h.wishlist?0:h.wishlist-m.wishlist},g={own:2,picked:2,scorecard:2,wishlist:2},A={own:Math.max(u.own-(m.own+v.own+g.own),0),picked:Math.max(u.picked-(m.picked+v.picked+g.picked),0),scorecard:Math.max(u.scorecard-(m.scorecard+v.scorecard+g.scorecard),0),wishlist:Math.max(u.wishlist-(m.wishlist+v.wishlist+g.wishlist),0)},x={own:Math.min(b.own-u.own,b.own-h.own-g.own),picked:Math.min(b.picked-u.picked,b.picked-h.picked-g.picked),scorecard:Math.min(b.scorecard-u.scorecard,b.scorecard-h.scorecard-g.scorecard),wishlist:Math.min(b.wishlist-u.wishlist,b.wishlist-h.wishlist-g.wishlist)},p=["own","picked","scorecard","wishlist"],w=p.map((L,j)=>({row:p[j],"Average A":m[L],"Average B":v[L],Average:g[L],USER:A[L],"Top 10":x[L]})),{width:y}=$(),R=y<=560,T=r,P=R?{top:10,right:20,bottom:50,left:55}:{top:10,right:20,bottom:50,left:55},W=["#3c90c5","#aaa","#000","#3c90c5","#aaa"],C=l&&t?[{title:i,color:"#3c90c5",width:"14px"}]:[];C.push({title:"Average",color:"#000",width:"35px"},{title:"Max",color:"#aaaaaa",width:"120px"});const D=({items:L})=>n.jsxs("div",{className:"chart-legend",style:{display:"flex",fontSize:".9rem",color:"#ddd",marginTop:13},children:[n.jsx("div",{style:{width:"100%"}}),L.map(j=>n.jsxs("div",{style:{display:"flex",padding:"0px 18px 24px 18px"},children:[n.jsx("div",{style:{backgroundColor:j.color,height:15,width:15,margin:"2px 6px 0px 0px",border:"1px solid #555"}}),n.jsx("div",{style:{textAlign:"left",width:j.width},children:j.title})]},j.title)),n.jsx("div",{style:{width:"100%"}})]});return n.jsxs(me.Fragment,{children:[n.jsx("div",{style:{height:T},children:n.jsx(pe,{data:w,keys:["Average A","Average B","Average","USER","Top 10"],theme:ve,indexBy:"row",margin:P,padding:.2,valueScale:{type:"linear"},colors:W,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:"00",legend:"Saves",legendPosition:"middle",legendOffset:-45,legendOpacity:.9},enableGridY:!1,isInteractive:!1,animate:!1})}),n.jsx(D,{items:C})]})}const we=({dataset:e,title:t})=>{const i={border:0,padding:"4px 8px 0px 0px",fontWeight:400,textOverflow:"ellipsis"};return n.jsxs("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,align:"center",margin:"0px 15px 16px 15px",width:300,height:490,marginLeft:"auto",marginRight:"auto"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,width:"100%",textAlign:"left",marginBottom:10,paddingLeft:6},children:t}),n.jsx(he,{id:"areaList",sx:{height:420,backgroundColor:"#111",margin:"auto"},children:n.jsxs(ge,{stickyHeader:!0,children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:{padding:"4px 10px 4px 12px",fontWeight:700,textAlign:"right"},children:"#"}),n.jsx(O,{style:{padding:"4px 0px",fontWeight:700},children:"Lock"})]})}),n.jsx(xe,{children:e.map((r,l)=>n.jsxs(_,{index:l,children:[n.jsx(O,{style:i,sx:{textAlign:"right",padding:"0px",width:34,verticalAlign:"top"},children:l+1},l+1),n.jsx(O,{style:i,sx:{textOverflow:"ellipsis"},children:r.name},r.name)]},l))})]})})]})};function $i({data:e}){const t=e.collectionsStatsCurrent.allUsers.listStats.own.topItems,i=e.collectionsStatsCurrent.allUsers.listStats.picked.topItems,r=e.collectionsStatsCurrent.allUsers.listStats.wishlist.topItems,l=e.collectionsStatsCurrent.allUsers.listStats.recordedLocks.topItems.slice(0,25),{width:d}=$(),s=d<=560,c={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...s?{}:{display:"flex"}};return n.jsxs("div",{style:{textAlign:"center"},children:[n.jsxs("div",{style:c,children:[n.jsx(we,{dataset:t,title:"Owned"}),n.jsx(we,{dataset:i,title:"Picked"})]}),n.jsxs("div",{style:c,children:[n.jsx(we,{dataset:r,title:"Wishlist"}),n.jsx(we,{dataset:l,title:"Scorecard"})]})]})}function zi({data:e}){const{hourlyRequests:t}=e.siteFullNew,{width:i}=$(),r=i<=360,l=i<=395,d=i<=560,s=r?230:l?270:d?290:350,a=d?["midnight","2 am","4 am","6 am","8 am","10 am","noon","2 pm","4 pm","6 pm","8 pm","10 pm"]:["midnight","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","noon","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"];return n.jsx("div",{style:{height:s},children:n.jsx(Bn,{theme:qi,data:t,colors:["#007de2","#16325d"],lineWidth:3,margin:{top:10,right:20,bottom:70,left:58},curve:"natural",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.0f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},axisBottom:{tickValues:a,tickSize:5,tickPadding:5,tickRotation:-45,direction:"row"},legends:[{anchor:"bottom",itemTextColor:"#ddd",text:{fontSize:18},direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})}const Yi={grid:{line:{stroke:"#333",strokeWidth:1}}},qi={...ve,...Yi},xt=({dataset:e,pieColors:t})=>{const{width:i}=$(),r=i<=360,l=i<=395,d=i<=428,s=i<=560,a=s?{top:20,right:50,bottom:20,left:80}:{top:-50,right:50,bottom:20,left:80};let o=320;r?o=165:l?o=180:d?o=230:s&&(o=240);const c=s?6:4,f=s?4:0,u=s?4:8;return n.jsx("div",{style:{height:o,padding:"0px 8px 0px 8px",width:"100%",backgroundColor:"#000"},children:n.jsx(He,{data:e,theme:Pe,colors:t,margin:a,startAngle:-45,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:c,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:u,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:f,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")};function Xi({data:e}){const{trafficTotals:{platform:t,browser:i}}=e.siteFullNew,r=["#007de2","#0367ba","#005ba0","#004fa4","#063b87","#062f6b"],l=["#c34100","#b33600","#a02d01","#7d2900","#6a2200","#621d00","#581d00"],{width:d}=$(),s=d<=560,c={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...s?{}:{display:"flex"}};return n.jsx(me.Fragment,{children:n.jsx("div",{style:{textAlign:"center"},children:n.jsxs("div",{style:c,children:[n.jsx(xt,{dataset:t,pieColors:r}),n.jsx(xt,{dataset:i,pieColors:l})]})})})}function Ji({beltData:e}){const{width:t}=$(),i=t<=360,r=t<=560,l=i?170:r?200:180,d=r?{top:0,right:20,bottom:50,left:20}:{top:0,right:10,bottom:50,left:10},s=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#ddd"];return n.jsx("div",{style:{height:l,padding:"0px 8px 0px 8px",width:"100%"},children:n.jsx(pe,{data:e,margin:d,padding:.15,colors:a=>fe[a.index%fe.length],animate:!0,axisBottom:{tickRotation:-45},axisLeft:null,enableGridY:!1,theme:ve,isInteractive:!1,enableLabel:!0,label:a=>a.data.count,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:a=>s[a.index%s.length]})},"bar")}function Zi({beltData:e}){const{width:t}=$(),i=t<=360,r=t<=395,l=t<=428,d=t<=560,s={top:12,right:40,bottom:20,left:40},a=i?120:r?140:l||d?180:120,o=d?5:4,c=d?10:8,f=d?0:8,u=["#949494","#6b6b6b","#565656","#3e3e3e","#333333","#2a2a2a"];return n.jsx("div",{style:{height:a,padding:"0px 0px 0px 0px",width:"100%",backgroundColor:"#000"},children:n.jsx(He,{data:e,theme:Pe,colors:u,margin:s,startAngle:-90,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:o,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label,arcLinkLabelsDiagonalLength:6,arcLinkLabelsStraightLength:f,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:c,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")}function Ki({data:e}){const{brandBelts:t,brandMechanisms:i}=e.brandDistribution,r=t.map(M=>M.brandName),[l,d]=S.useState(2),[s,a]=S.useState(t[l].brandName),o=i.map(M=>M.brandName),[c,f]=S.useState(2),u=t[l].data,h=i[c].data,[b,m]=S.useState(!1),v=S.useCallback(()=>m(!1),[]),g=S.useCallback(()=>m(!0),[]),A=S.useCallback(M=>{d(r.findIndex(B=>B===M.target.value)),f(o.findIndex(B=>B===M.target.value)),a(M.target.value),v(),document.getElementById("brandPulldown").classList.remove("active"),document.getElementById("brandSelect").classList.remove("active")},[r,o,v]),{width:x}=$(),p=x<=360,w=x<=395,y=x<=428,R=x<=560,T=R?10:20,C={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...R?{}:{display:"flex"}},D=R?"100%":"55%",L=R?"100%":"45%",j=p?200:R?210:180,U=p||w?120:y?170:R?180:160;return n.jsxs(me.Fragment,{children:[n.jsx("div",{style:{marginTop:24,textAlign:"center"},children:n.jsxs(Pn,{id:"brandPulldown",style:{marginBottom:T,minWidth:200,textAlign:"left"},children:[n.jsx(Dn,{children:"Brand"}),n.jsx(En,{id:"brandSelect",value:s,label:"Brand",open:b,onClose:v,onOpen:g,onChange:A,style:{fontWeight:700,color:"#eee"},children:r.map((M,B)=>M==="Top Brands"&&n.jsx(Oe,{disabled:!0,value:M,children:M},B)||M==="All Brands"&&n.jsx(Oe,{disabled:!0,value:M,children:M},B)||M==="divider"&&n.jsx(on,{},B)||n.jsx(Oe,{value:M,children:M},B))})]})}),n.jsx("div",{style:{textAlign:"center"},children:n.jsxs("div",{style:C,children:[n.jsx("div",{style:{width:D,verticalAlign:"top",height:j},children:n.jsx(Ji,{beltData:u,brandName:s})}),n.jsx("div",{style:{width:L,height:U},children:n.jsx(Zi,{beltData:h,brandName:s})})]})})]})}function Qi({data:e}){const{lockCollection:t}=S.useContext(ln),{width:i}=$(),r=i<=360,l=i<560,d=l?"8px 8px 32px 8px":"24px 24px 32px 24px",s=l?r?200:230:320,a={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},o={margin:"0px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return n.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:d,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem"},children:[n.jsx("div",{style:o,children:"Site Stats"}),n.jsx(ai,{data:e}),n.jsx("div",{style:a,children:"Weekly Lock Views"}),n.jsx(pn,{data:e.siteFullNew}),n.jsx("div",{style:a,children:"Photo Stats"}),n.jsx(ri,{data:e}),n.jsx("div",{style:a,children:"Belt Distribution"}),n.jsx(oi,{data:e}),n.jsx("div",{style:a,children:"Brand Lock Distribution"}),n.jsx(Ki,{data:e}),n.jsx("div",{style:a,children:"Locking Mechanisms"}),n.jsx(Gi,{data:e}),n.jsx("div",{style:a,children:"Reddit User Belt Rankings"}),n.jsx(Ui,{data:e}),n.jsx("div",{style:a,children:"Collection Stats"}),n.jsx(Ni,{data:e,lockCollection:t,userText:"You",collectionBarHeight:s}),n.jsx("div",{style:a,children:"Collections Top Locks"}),n.jsx($i,{data:e}),n.jsx("div",{style:a,children:"Hourly Traffic"}),n.jsx(zi,{data:e}),n.jsx("div",{style:a,children:"Visits by Platform & Browser"}),n.jsx(Xi,{data:e})]})}function ya(){xn("Stats & Insights");const{data:e,loading:t,error:i,errorMessage:r}=gn({urls:_i});return n.jsxs(me.Fragment,{children:[n.jsx(dn,{title:"Stats & Insights"}),i&&n.jsx($n,{errorMessage:r}),t&&n.jsx(hn,{}),!t&&!i&&e&&n.jsx(Qi,{data:e}),n.jsx(cn,{}),n.jsx(un,{feature:"stats"})]})}const _i={lockStats:Vn,brandDistribution:Fn,collectionsStatsCurrent:Hn,popularAreas:Gn,redditGrowth:Un,siteFullNew:Nn};export{ya as default};
