import{j as s,R as h,r as e,e as j,B as x}from"./index-9129824c.js";import{l as w}from"./LPU-c3fa7122.js";import{L as y}from"./LinearProgress-0a8faf88.js";function R(){return s.jsxs(h.Fragment,{children:[s.jsx(y,{variant:"indeterminate",color:"secondary"}),s.jsx("img",{alt:"Loading",src:w,style:{marginLeft:"auto",marginRight:"auto",display:"block"}})]})}function b({url:o,urls:t,loadFn:r}){const[i,c]=e.useState(!0),[l,p]=e.useState(null),[u,f]=e.useState(!1),n=e.useCallback(async()=>{try{let a;if(o)a=await(await fetch(o,{cache:"no-store"})).json();else if(t){a={};const d=Object.keys(t).map(async m=>{const g=await fetch(t[m],{cache:"no-store"});a[m]=await g.json()});await Promise.all(d)}else r&&(a=await r());p(a),c(!1),f(!1)}catch(a){console.error("Error loading data.",a),j("Error loading data. Please reload the page.",{autoHideDuration:null,action:s.jsx(x,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),c(!1),f(!0)}},[o,t,r]);return e.useEffect(()=>{n()},[]),e.useMemo(()=>({loading:i,data:l,error:u,refresh:n}),[l,u,n,i])}export{R as L,b as u};
