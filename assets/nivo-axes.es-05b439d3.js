import{aL as hn,r as P,j as F}from"./index-71e86728.js";import{ab as Xe,ac as rn,ad as Ge,ae as Gn,af as Kn,ag as H,ah as q,ai as I,aj as z,ak as xn,al as kt,am as Tt,an as Vn,ao as Ke,ap as Jn,aq as bt,ar as wt,as as Ct,at as St,au as At,av as Ve,aw as Je,ax as $t,ay as Qe,az as Ze,aA as nr,aB as tr,r as er,aC as Ft,y as rr,k as Dt,aD as ir,aE as ar,aF as _t,E as Ut,B as Pt,aG as Et,i as Ot,aH as or,aI as Yt,aJ as ur,H as cr,q as jt,aK as sr,aL as fr,aM as lr,a as gr,b as hr,p as mr,aN as wn,aO as dr,aP as vr,M as On,O as nn,Z as Nt,a6 as Bt,N as yr,aQ as xr,aR as pr,J as Qn}from"./nivo-legends.es-8f220b50.js";import{P as C}from"./index-44eb64ca.js";function It(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Yn(n){let t=n,e=n;n.length===1&&(t=(a,u)=>n(a)-u,e=Mr(n));function r(a,u,c,s){for(c==null&&(c=0),s==null&&(s=a.length);c<s;){const l=c+s>>>1;e(a[l],u)<0?c=l+1:s=l}return c}function i(a,u,c,s){for(c==null&&(c=0),s==null&&(s=a.length);c<s;){const l=c+s>>>1;e(a[l],u)>0?s=l:c=l+1}return c}function o(a,u,c,s){c==null&&(c=0),s==null&&(s=a.length);const l=r(a,u,c,s-1);return l>c&&t(a[l-1],u)>-t(a[l],u)?l-1:l}return{left:r,center:o,right:i}}function Mr(n){return(t,e)=>It(n(t),e)}function kr(n){return n===null?NaN:+n}const Tr=Yn(It),br=Tr.right;Yn(kr).center;const wr=br;var Cn=Math.sqrt(50),Sn=Math.sqrt(10),An=Math.sqrt(2);function $n(n,t,e){var r,i=-1,o,a,u;if(t=+t,n=+n,e=+e,n===t&&e>0)return[n];if((r=t<n)&&(o=n,n=t,t=o),(u=Ht(n,t,e))===0||!isFinite(u))return[];if(u>0){let c=Math.round(n/u),s=Math.round(t/u);for(c*u<n&&++c,s*u>t&&--s,a=new Array(o=s-c+1);++i<o;)a[i]=(c+i)*u}else{u=-u;let c=Math.round(n*u),s=Math.round(t*u);for(c/u<n&&++c,s/u>t&&--s,a=new Array(o=s-c+1);++i<o;)a[i]=(c+i)/u}return r&&a.reverse(),a}function Ht(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Cn?10:o>=Sn?5:o>=An?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Cn?10:o>=Sn?5:o>=An?2:1)}function Fn(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Cn?i*=10:o>=Sn?i*=5:o>=An&&(i*=2),t<n?-i:i}function Cr(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function jn(){var n=Xe().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,u=!1,c=0,s=0,l=.5;delete n.unknown;function g(){var f=t().length,h=i<r,m=h?i:r,d=h?r:i;o=(d-m)/Math.max(1,f-c+s*2),u&&(o=Math.floor(o)),m+=(d-m-o*(f-c))*l,a=o*(1-c),u&&(m=Math.round(m),a=Math.round(a));var v=Cr(f).map(function(M){return m+o*M});return e(h?v.reverse():v)}return n.domain=function(f){return arguments.length?(t(f),g()):t()},n.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,g()):[r,i]},n.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,u=!0,g()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(f){return arguments.length?(u=!!f,g()):u},n.padding=function(f){return arguments.length?(c=Math.min(1,s=+f),g()):c},n.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),g()):c},n.paddingOuter=function(f){return arguments.length?(s=+f,g()):s},n.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),g()):l},n.copy=function(){return jn(t(),[r,i]).round(u).paddingInner(c).paddingOuter(s).align(l)},rn.apply(g(),arguments)}function Rt(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Rt(t())},n}function Sr(){return Rt(jn.apply(null,arguments).paddingInner(1))}function Ar(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function $r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Fr(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Nn(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Dr(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function on(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function _r(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=Nn(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pn=new RegExp(Dn.source,"g");function Ur(n){return function(){return n}}function Pr(n){return function(t){return n(t)+""}}function Er(n,t){var e=Dn.lastIndex=pn.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(n=n+"",t=t+"";(r=Dn.exec(n))&&(i=pn.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:on(r,i)})),e=pn.lastIndex;return e<t.length&&(o=t.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?Pr(c[0].x):Ur(t):(t=c.length,function(s){for(var l=0,g;l<t;++l)u[(g=c[l]).i]=g.x(s);return u.join("")})}function Nn(n,t){var e=typeof t,r;return t==null||e==="boolean"?Ge(t):(e==="number"?on:e==="string"?(r=Gn(t))?(t=r,Kn):Er:t instanceof Gn?Kn:t instanceof Date?Dr:$r(t)?Ar:Array.isArray(t)?Fr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_r:on)(n,t)}function Or(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function Yr(n){return function(){return n}}function jr(n){return+n}var Zn=[0,1];function Q(n){return n}function _n(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Yr(isNaN(t)?NaN:.5)}function Nr(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Br(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=_n(i,r),o=e(a,o)):(r=_n(r,i),o=e(o,a)),function(u){return o(r(u))}}function Ir(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=_n(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(u){var c=wr(n,u,1,r)-1;return o[c](i[c](u))}}function mn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Bn(){var n=Zn,t=Zn,e=Nn,r,i,o,a=Q,u,c,s;function l(){var f=Math.min(n.length,t.length);return a!==Q&&(a=Nr(n[0],n[f-1])),u=f>2?Ir:Br,c=s=null,g}function g(f){return f==null||isNaN(f=+f)?o:(c||(c=u(n.map(r),t,e)))(r(a(f)))}return g.invert=function(f){return a(i((s||(s=u(t,n.map(r),on)))(f)))},g.domain=function(f){return arguments.length?(n=Array.from(f,jr),l()):n.slice()},g.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},g.rangeRound=function(f){return t=Array.from(f),e=Or,l()},g.clamp=function(f){return arguments.length?(a=f?!0:Q,l()):a!==Q},g.interpolate=function(f){return arguments.length?(e=f,l()):e},g.unknown=function(f){return arguments.length?(o=f,g):o},function(f,h){return r=f,i=h,l()}}function Wt(){return Bn()(Q,Q)}function Hr(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function un(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function tn(n){return n=un(Math.abs(n)),n?n[1]:NaN}function Rr(n,t){return function(e,r){for(var i=e.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(t)}}function Wr(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cn(n){if(!(t=Lr.exec(n)))throw new Error("invalid format: "+n);var t;return new In({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cn.prototype=In.prototype;function In(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}In.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qr(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Lt;function zr(n,t){var e=un(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(Lt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+un(n,Math.max(0,t+o-1))[0]}function nt(n,t){var e=un(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Hr,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>nt(n*100,t),r:nt,s:zr,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function et(n){return n}var rt=Array.prototype.map,it=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xr(n){var t=n.grouping===void 0||n.thousands===void 0?et:Rr(rt.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?et:Wr(rt.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function s(g){g=cn(g);var f=g.fill,h=g.align,m=g.sign,d=g.symbol,v=g.zero,M=g.width,p=g.comma,b=g.precision,w=g.trim,k=g.type;k==="n"?(p=!0,k="g"):tt[k]||(b===void 0&&(b=12),w=!0,k="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var y=d==="$"?e:d==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",$=d==="$"?r:/[%p]/.test(k)?a:"",A=tt[k],R=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function V(x){var _=y,S=$,O,N,j;if(k==="c")S=A(x)+S,x="";else{x=+x;var B=x<0||1/x<0;if(x=isNaN(x)?c:A(Math.abs(x),b),w&&(x=qr(x)),B&&+x==0&&m!=="+"&&(B=!1),_=(B?m==="("?m:u:m==="-"||m==="("?"":m)+_,S=(k==="s"?it[8+Lt/3]:"")+S+(B&&m==="("?")":""),R){for(O=-1,N=x.length;++O<N;)if(j=x.charCodeAt(O),48>j||j>57){S=(j===46?i+x.slice(O+1):x.slice(O))+S,x=x.slice(0,O);break}}}p&&!v&&(x=t(x,1/0));var U=_.length+x.length+S.length,T=U<M?new Array(M-U+1).join(f):"";switch(p&&v&&(x=t(T+x,T.length?M-S.length:1/0),T=""),h){case"<":x=_+x+S+T;break;case"=":x=_+T+x+S;break;case"^":x=T.slice(0,U=T.length>>1)+_+x+S+T.slice(U);break;default:x=T+_+x+S;break}return o(x)}return V.toString=function(){return g+""},V}function l(g,f){var h=s((g=cn(g),g.type="f",g)),m=Math.max(-8,Math.min(8,Math.floor(tn(f)/3)))*3,d=Math.pow(10,-m),v=it[8+m/3];return function(M){return h(d*M)+v}}return{format:s,formatPrefix:l}}var an,Hn,qt;Gr({thousands:",",grouping:[3],currency:["$",""]});function Gr(n){return an=Xr(n),Hn=an.format,qt=an.formatPrefix,an}function Kr(n){return Math.max(0,-tn(Math.abs(n)))}function Vr(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tn(t)/3)))*3-tn(Math.abs(n)))}function Jr(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,tn(t)-tn(n))+1}function Qr(n,t,e,r){var i=Fn(n,t,e),o;switch(r=cn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=Vr(i,a))&&(r.precision=o),qt(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jr(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Kr(i))&&(r.precision=o-(r.type==="%")*2);break}}return Hn(r)}function zt(n){var t=n.domain;return n.ticks=function(e){var r=t();return $n(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Qr(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],u=r[o],c,s,l=10;for(u<a&&(s=a,a=u,u=s,s=i,i=o,o=s);l-- >0;){if(s=Ht(a,u,e),s===c)return r[i]=a,r[o]=u,t(r);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;c=s}return n},n}function Xt(){var n=Wt();return n.copy=function(){return mn(n,Xt())},rn.apply(n,arguments),zt(n)}function Gt(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function at(n){return Math.log(n)}function ot(n){return Math.exp(n)}function Zr(n){return-Math.log(-n)}function ni(n){return-Math.exp(-n)}function ti(n){return isFinite(n)?+("1e"+n):n<0?0:n}function ei(n){return n===10?ti:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}function ri(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}function ut(n){return function(t){return-n(-t)}}function ii(n){var t=n(at,ot),e=t.domain,r=10,i,o;function a(){return i=ri(r),o=ei(r),e()[0]<0?(i=ut(i),o=ut(o),n(Zr,ni)):n(at,ot),t}return t.base=function(u){return arguments.length?(r=+u,a()):r},t.domain=function(u){return arguments.length?(e(u),a()):e()},t.ticks=function(u){var c=e(),s=c[0],l=c[c.length-1],g;(g=l<s)&&(f=s,s=l,l=f);var f=i(s),h=i(l),m,d,v,M=u==null?10:+u,p=[];if(!(r%1)&&h-f<M){if(f=Math.floor(f),h=Math.ceil(h),s>0){for(;f<=h;++f)for(d=1,m=o(f);d<r;++d)if(v=m*d,!(v<s)){if(v>l)break;p.push(v)}}else for(;f<=h;++f)for(d=r-1,m=o(f);d>=1;--d)if(v=m*d,!(v<s)){if(v>l)break;p.push(v)}p.length*2<M&&(p=$n(s,l,M))}else p=$n(f,h,Math.min(h-f,M)).map(o);return g?p.reverse():p},t.tickFormat=function(u,c){if(c==null&&(c=r===10?".0e":","),typeof c!="function"&&(c=Hn(c)),u===1/0)return c;u==null&&(u=10);var s=Math.max(1,r*u/t.ticks().length);return function(l){var g=l/o(Math.round(i(l)));return g*r<r-.5&&(g*=r),g<=s?c(l):""}},t.nice=function(){return e(Gt(e(),{floor:function(u){return o(Math.floor(i(u)))},ceil:function(u){return o(Math.ceil(i(u)))}}))},t}function Kt(){var n=ii(Bn()).domain([1,10]);return n.copy=function(){return mn(n,Kt()).base(n.base())},rn.apply(n,arguments),n}function ct(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function st(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function ai(n){var t=1,e=n(ct(t),st(t));return e.constant=function(r){return arguments.length?n(ct(t=+r),st(t)):t},zt(e)}function Vt(){var n=ai(Bn());return n.copy=function(){return mn(n,Vt()).constant(n.constant())},rn.apply(n,arguments)}var sn=H(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});sn.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?H(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):sn};const oi=sn;sn.range;var Jt=H(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*q)},function(n,t){return(t-n)/q},function(n){return n.getUTCSeconds()});const Z=Jt;Jt.range;var Qt=H(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*q)},function(n,t){n.setTime(+n+t*I)},function(n,t){return(t-n)/I},function(n){return n.getMinutes()});const Zt=Qt;Qt.range;var ne=H(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*q-n.getMinutes()*I)},function(n,t){n.setTime(+n+t*z)},function(n,t){return(t-n)/z},function(n){return n.getHours()});const te=ne;ne.range;var ee=H(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const re=ee;ee.range;var ie=H(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*I)},function(n,t){return(t-n)/I},function(n){return n.getUTCMinutes()});const ae=ie;ie.range;var oe=H(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*z)},function(n,t){return(t-n)/z},function(n){return n.getUTCHours()});const ue=oe;oe.range;var ce=H(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const se=ce;ce.range;function fe(n,t,e,r,i,o){const a=[[Z,1,q],[Z,5,5*q],[Z,15,15*q],[Z,30,30*q],[o,1,I],[o,5,5*I],[o,15,15*I],[o,30,30*I],[i,1,z],[i,3,3*z],[i,6,6*z],[i,12,12*z],[r,1,Vn],[r,2,2*Vn],[e,1,Ke],[t,1,Jn],[t,3,3*Jn],[n,1,xn]];function u(s,l,g){const f=l<s;f&&([s,l]=[l,s]);const h=g&&typeof g.range=="function"?g:c(s,l,g),m=h?h.range(s,+l+1):[];return f?m.reverse():m}function c(s,l,g){const f=Math.abs(l-s)/g,h=Yn(([,,v])=>v).right(a,f);if(h===a.length)return n.every(Fn(s/xn,l/xn,g));if(h===0)return oi.every(Math.max(Fn(s,l,g),1));const[m,d]=a[f/a[h-1][2]<a[h][2]/f?h-1:h];return m.every(d)}return[u,c]}const[ui,ci]=fe(kt,se,wt,bt,ue,ae),[si,fi]=fe(Tt,re,St,Ct,te,Zt);function li(n){return new Date(n)}function gi(n){return n instanceof Date?+n:+new Date(+n)}function Rn(n,t,e,r,i,o,a,u,c,s){var l=Wt(),g=l.invert,f=l.domain,h=s(".%L"),m=s(":%S"),d=s("%I:%M"),v=s("%I %p"),M=s("%a %d"),p=s("%b %d"),b=s("%B"),w=s("%Y");function k(y){return(c(y)<y?h:u(y)<y?m:a(y)<y?d:o(y)<y?v:r(y)<y?i(y)<y?M:p:e(y)<y?b:w)(y)}return l.invert=function(y){return new Date(g(y))},l.domain=function(y){return arguments.length?f(Array.from(y,gi)):f().map(li)},l.ticks=function(y){var $=f();return n($[0],$[$.length-1],y??10)},l.tickFormat=function(y,$){return $==null?k:s($)},l.nice=function(y){var $=f();return(!y||typeof y.range!="function")&&(y=t($[0],$[$.length-1],y??10)),y?f(Gt($,y)):l},l.copy=function(){return mn(l,Rn(n,t,e,r,i,o,a,u,c,s))},l}function hi(){return rn.apply(Rn(si,fi,Tt,re,St,Ct,te,Zt,Z,At).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mi(){return rn.apply(Rn(ui,ci,kt,se,wt,bt,ue,ae,Z,Ve).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function di(){}var vi=di,Mn=Je,yi=vi,xi=$t,pi=1/0,Mi=Mn&&1/xi(new Mn([,-0]))[1]==pi?function(n){return new Mn(n)}:yi,ki=Mi,Ti=Qe,bi=Ze,wi=nr,Ci=tr,Si=ki,Ai=$t,$i=200;function Fi(n,t,e){var r=-1,i=bi,o=n.length,a=!0,u=[],c=u;if(e)a=!1,i=wi;else if(o>=$i){var s=t?null:Si(n);if(s)return Ai(s);a=!1,i=Ci,c=new Ti}else c=t?[]:u;n:for(;++r<o;){var l=n[r],g=t?t(l):l;if(l=e||l!==0?l:0,a&&g===g){for(var f=c.length;f--;)if(c[f]===g)continue n;t&&c.push(g),u.push(l)}else i(c,g,e)||(c!==u&&c.push(g),u.push(l))}return u}var le=Fi,Di=le;function _i(n){return n&&n.length?Di(n):[]}var Ui=_i;const ft=hn(Ui);var Pi=er,Ei=Ft,Oi=1,Yi=2;function ji(n,t,e,r){var i=e.length,o=i,a=!r;if(n==null)return!o;for(n=Object(n);i--;){var u=e[i];if(a&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++i<o;){u=e[i];var c=u[0],s=n[c],l=u[1];if(a&&u[2]){if(s===void 0&&!(c in n))return!1}else{var g=new Pi;if(r)var f=r(s,l,c,n,t,g);if(!(f===void 0?Ei(l,s,Oi|Yi,r,g):f))return!1}}return!0}var Ni=ji,Bi=rr;function Ii(n){return n===n&&!Bi(n)}var ge=Ii,Hi=ge,Ri=Dt;function Wi(n){for(var t=Ri(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,Hi(i)]}return t}var Li=Wi;function qi(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}var he=qi,zi=Ni,Xi=Li,Gi=he;function Ki(n){var t=Xi(n);return t.length==1&&t[0][2]?Gi(t[0][0],t[0][1]):function(e){return e===n||zi(e,n,t)}}var Vi=Ki,Ji=Ft,Qi=ir,Zi=ar,na=_t,ta=ge,ea=he,ra=Ut,ia=1,aa=2;function oa(n,t){return na(n)&&ta(t)?ea(ra(n),t):function(e){var r=Qi(e,n);return r===void 0&&r===t?Zi(e,n):Ji(t,r,ia|aa)}}var ua=oa;function ca(n){return function(t){return t==null?void 0:t[n]}}var sa=ca,fa=Pt;function la(n){return function(t){return fa(t,n)}}var ga=la,ha=sa,ma=ga,da=_t,va=Ut;function ya(n){return da(n)?ha(va(n)):ma(n)}var xa=ya,pa=Vi,Ma=ua,ka=Et,Ta=Ot,ba=xa;function wa(n){return typeof n=="function"?n:n==null?ka:typeof n=="object"?Ta(n)?Ma(n[0],n[1]):pa(n):ba(n)}var me=wa,Ca=me,Sa=le;function Aa(n,t){return n&&n.length?Sa(n,Ca(t)):[]}var $a=Aa;const Fa=hn($a);var Da=or,_a=Dt;function Ua(n,t){return n&&Da(n,t,_a)}var Pa=Ua,Ea=Yt;function Oa(n,t){return function(e,r){if(e==null)return e;if(!Ea(e))return n(e,r);for(var i=e.length,o=t?i:-1,a=Object(e);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}var Ya=Oa,ja=Pa,Na=Ya,Ba=Na(ja),Ia=Ba,Ha=Ia,Ra=Yt;function Wa(n,t){var e=-1,r=Ra(n)?Array(n.length):[];return Ha(n,function(i,o,a){r[++e]=t(i,o,a)}),r}var La=Wa;function qa(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}var za=qa,lt=ur;function Xa(n,t){if(n!==t){var e=n!==void 0,r=n===null,i=n===n,o=lt(n),a=t!==void 0,u=t===null,c=t===t,s=lt(t);if(!u&&!s&&!o&&n>t||o&&a&&c&&!u&&!s||r&&a&&c||!e&&c||!i)return 1;if(!r&&!o&&!s&&n<t||s&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!c)return-1}return 0}var Ga=Xa,Ka=Ga;function Va(n,t,e){for(var r=-1,i=n.criteria,o=t.criteria,a=i.length,u=e.length;++r<a;){var c=Ka(i[r],o[r]);if(c){if(r>=u)return c;var s=e[r];return c*(s=="desc"?-1:1)}}return n.index-t.index}var Ja=Va,kn=cr,Qa=Pt,Za=me,no=La,to=za,eo=jt,ro=Ja,io=Et,ao=Ot;function oo(n,t,e){t.length?t=kn(t,function(o){return ao(o)?function(a){return Qa(a,o.length===1?o[0]:o)}:o}):t=[io];var r=-1;t=kn(t,eo(Za));var i=no(n,function(o,a,u){var c=kn(t,function(s){return s(o)});return{criteria:c,index:++r,value:o}});return to(i,function(o,a){return ro(o,a,e)})}var uo=oo,co=fr,so=uo,fo=sr,gt=lr,lo=fo(function(n,t){if(n==null)return[];var e=t.length;return e>1&&gt(n,t[0],t[1])?t=[]:e>2&&gt(t[0],t[1],t[2])&&(t=[t[0]]),so(n,co(t,1),[])}),go=lo;const ho=hn(go);var mo=gr,vo=hr,yo="[object Date]";function xo(n){return vo(n)&&mo(n)==yo}var po=xo,Mo=po,ko=jt,ht=mr,mt=ht&&ht.isDate,To=mt?ko(mt):Mo,bo=To;const wo=hn(bo);var Tn=new Date,bn=new Date;function D(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return n(o=new Date(+o)),o},i.ceil=function(o){return n(o=new Date(o-1)),t(o,1),n(o),o},i.round=function(o){var a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=function(o,a){return t(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,u){var c=[],s;if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;do c.push(s=new Date(+o)),t(o,u),n(o);while(s<o&&o<a);return c},i.filter=function(o){return D(function(a){if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},function(a,u){if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!o(a););else for(;--u>=0;)for(;t(a,1),!o(a););})},e&&(i.count=function(o,a){return Tn.setTime(+o),bn.setTime(+a),n(Tn),n(bn),Math.floor(e(Tn,bn))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var fn=D(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});fn.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?D(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):fn};const dt=fn;fn.range;var ln=1e3,en=6e4,gn=36e5,de=6048e5,ve=D(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*ln)},function(n,t){return(t-n)/ln},function(n){return n.getUTCSeconds()});const vt=ve;ve.range;var ye=D(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ln)},function(n,t){n.setTime(+n+t*en)},function(n,t){return(t-n)/en},function(n){return n.getMinutes()});const Co=ye;ye.range;var xe=D(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ln-n.getMinutes()*en)},function(n,t){n.setTime(+n+t*gn)},function(n,t){return(t-n)/gn},function(n){return n.getHours()});const So=xe;xe.range;function G(n){return D(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e*7)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*en)/de})}var Un=G(0),pe=G(1),Me=G(2),ke=G(3),Te=G(4),be=G(5),we=G(6);Un.range;pe.range;Me.range;ke.range;Te.range;be.range;we.range;var Ce=D(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const Ao=Ce;Ce.range;var Wn=D(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});Wn.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:D(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)})};const $o=Wn;Wn.range;var Se=D(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*en)},function(n,t){return(t-n)/en},function(n){return n.getUTCMinutes()});const Fo=Se;Se.range;var Ae=D(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*gn)},function(n,t){return(t-n)/gn},function(n){return n.getUTCHours()});const Do=Ae;Ae.range;function K(n){return D(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e*7)},function(t,e){return(e-t)/de})}var Pn=K(0),$e=K(1),Fe=K(2),De=K(3),_e=K(4),Ue=K(5),Pe=K(6);Pn.range;$e.range;Fe.range;De.range;_e.range;Ue.range;Pe.range;var Ee=D(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const _o=Ee;Ee.range;var Ln=D(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});Ln.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:D(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})};const Uo=Ln;Ln.range;function X(){return X=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},X.apply(this,arguments)}var J=[function(n){return n.setMilliseconds(0)},function(n){return n.setSeconds(0)},function(n){return n.setMinutes(0)},function(n){return n.setHours(0)},function(n){return n.setDate(1)},function(n){return n.setMonth(0)}],Po={millisecond:[],second:J.slice(0,1),minute:J.slice(0,2),hour:J.slice(0,3),day:J.slice(0,4),month:J.slice(0,5),year:J.slice(0,6)},Eo=function(n){return function(t){return Po[n].forEach(function(e){e(t)}),t}},Oe=function(n){var t=n.format,e=t===void 0?"native":t,r=n.precision,i=r===void 0?"millisecond":r,o=n.useUTC,a=o===void 0||o,u=Eo(i);return function(c){if(c===void 0)return c;if(e==="native"||c instanceof Date)return u(c);var s=a?dr(e):vr(e);return u(s(c))}},Oo=function(n,t,e,r){var i,o,a,u,c=n.min,s=c===void 0?0:c,l=n.max,g=l===void 0?"auto":l,f=n.stacked,h=f!==void 0&&f,m=n.reverse,d=m!==void 0&&m,v=n.clamp,M=v!==void 0&&v,p=n.nice,b=p!==void 0&&p;s==="auto"?i=h===!0?(o=t.minStacked)!=null?o:0:t.min:i=s,g==="auto"?a=h===!0?(u=t.maxStacked)!=null?u:0:t.max:a=g;var w=Xt().rangeRound(r==="x"?[0,e]:[e,0]).domain(d?[a,i]:[i,a]).clamp(M);return b===!0?w.nice():typeof b=="number"&&w.nice(b),Yo(w,h)},Yo=function(n,t){t===void 0&&(t=!1);var e=n;return e.type="linear",e.stacked=t,e},jo=function(n,t,e){var r=Sr().range([0,e]).domain(t.all);return r.type="point",r},No=function(n,t,e,r){var i=n.round,o=i===void 0||i,a=jn().range(r==="x"?[0,e]:[e,0]).domain(t.all).round(o);return Bo(a)},Bo=function(n){var t=n;return t.type="band",t},Io=function(n,t,e){var r,i,o=n.format,a=o===void 0?"native":o,u=n.precision,c=u===void 0?"millisecond":u,s=n.min,l=s===void 0?"auto":s,g=n.max,f=g===void 0?"auto":g,h=n.useUTC,m=h===void 0||h,d=n.nice,v=d!==void 0&&d,M=Oe({format:a,precision:c,useUTC:m});r=l==="auto"?M(t.min):a!=="native"?M(l):l,i=f==="auto"?M(t.max):a!=="native"?M(f):f;var p=m?mi():hi();p.range([0,e]),r&&i&&p.domain([r,i]),v===!0?p.nice():typeof v!="object"&&typeof v!="number"||p.nice(v);var b=p;return b.type="time",b.useUTC=m,b},Ho=function(n,t,e,r){var i,o=n.base,a=o===void 0?10:o,u=n.min,c=u===void 0?"auto":u,s=n.max,l=s===void 0?"auto":s;if(t.all.some(function(d){return d===0}))throw new Error("a log scale domain must not include or cross zero");var g,f,h=!1;if(t.all.filter(function(d){return d!=null}).forEach(function(d){h||(i===void 0?i=Math.sign(d):Math.sign(d)!==i&&(h=!0))}),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");g=c==="auto"?t.min:c,f=l==="auto"?t.max:l;var m=Kt().domain([g,f]).rangeRound(r==="x"?[0,e]:[e,0]).base(a).nice();return m.type="log",m},Ro=function(n,t,e,r){var i,o,a=n.constant,u=a===void 0?1:a,c=n.min,s=c===void 0?"auto":c,l=n.max,g=l===void 0?"auto":l,f=n.reverse,h=f!==void 0&&f;i=s==="auto"?t.min:s,o=g==="auto"?t.max:g;var m=Vt().constant(u).rangeRound(r==="x"?[0,e]:[e,0]).nice();h===!0?m.domain([o,i]):m.domain([i,o]);var d=m;return d.type="symlog",d},Wo=function(n){return n==="x"?"y":"x"},Lo=function(n,t){return n===t},qo=function(n,t){return n.getTime()===t.getTime()};function yt(n,t,e,r){switch(n.type){case"linear":return Oo(n,t,e,r);case"point":return jo(n,t,e);case"band":return No(n,t,e,r);case"time":return Io(n,t,e);case"log":return Ho(n,t,e,r);case"symlog":return Ro(n,t,e,r);default:throw new Error("invalid scale spec")}}var xt=function(n,t,e){var r;if("stacked"in e&&e.stacked){var i=n.data[t==="x"?"xStacked":"yStacked"];return i==null?null:e(i)}return(r=e(n.data[t]))!=null?r:null},uu=function(n,t,e,r,i){var o=n.map(function(l){return function(g){return X({},g,{data:g.data.map(function(f){return{data:X({},f)}})})}(l)}),a=zo(o,t,e);"stacked"in t&&t.stacked===!0&&Xo(a,o),"stacked"in e&&e.stacked===!0&&Go(a,o);var u=yt(t,a.x,r,"x"),c=yt(e,a.y,i,"y"),s=o.map(function(l){return X({},l,{data:l.data.map(function(g){return X({},g,{position:{x:xt(g,"x",u),y:xt(g,"y",c)}})})})});return X({},a,{series:s,xScale:u,yScale:c})},zo=function(n,t,e){return{x:pt(n,"x",t),y:pt(n,"y",e)}},pt=function(n,t,e,r){var i=r===void 0?{}:r,o=i.getValue,a=o===void 0?function(m){return m.data[t]}:o,u=i.setValue,c=u===void 0?function(m,d){m.data[t]=d}:u;if(e.type==="linear")n.forEach(function(m){m.data.forEach(function(d){var v=a(d);v&&c(d,parseFloat(String(v)))})});else if(e.type==="time"&&e.format!=="native"){var s=Oe(e);n.forEach(function(m){m.data.forEach(function(d){var v=a(d);v&&c(d,s(v))})})}var l=[];switch(n.forEach(function(m){m.data.forEach(function(d){l.push(a(d))})}),e.type){case"linear":var g=ho(ft(l).filter(function(m){return m!==null}),function(m){return m});return{all:g,min:Math.min.apply(Math,g),max:Math.max.apply(Math,g)};case"time":var f=Fa(l,function(m){return m.getTime()}).slice(0).sort(function(m,d){return d.getTime()-m.getTime()}).reverse();return{all:f,min:f[0],max:wn(f)};default:var h=ft(l);return{all:h,min:h[0],max:wn(h)}}},Ye=function(n,t,e){var r=Wo(n),i=[];t[r].all.forEach(function(o){var a=wo(o)?qo:Lo,u=[];e.forEach(function(c){var s=c.data.find(function(h){return a(h.data[r],o)}),l=null,g=null;if(s!==void 0){if((l=s.data[n])!==null){var f=wn(u);f===void 0?g=l:f!==null&&(g=f+l)}s.data[n==="x"?"xStacked":"yStacked"]=g}u.push(g),g!==null&&i.push(g)})}),t[n].minStacked=Math.min.apply(Math,i),t[n].maxStacked=Math.max.apply(Math,i)},Xo=function(n,t){return Ye("x",n,t)},Go=function(n,t){return Ye("y",n,t)},je=function(n){var t=n.bandwidth();if(t===0)return n;var e=t/2;return n.round()&&(e=Math.round(e)),function(r){var i;return((i=n(r))!=null?i:0)+e}},Ne={millisecond:[dt,dt],second:[vt,vt],minute:[Co,Fo],hour:[So,Do],day:[D(function(n){return n.setHours(0,0,0,0)},function(n,t){return n.setDate(n.getDate()+t)},function(n,t){return(t.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)}),D(function(n){return n.setUTCHours(0,0,0,0)},function(n,t){return n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)})],week:[Un,Pn],sunday:[Un,Pn],monday:[pe,$e],tuesday:[Me,Fe],wednesday:[ke,De],thursday:[Te,_e],friday:[be,Ue],saturday:[we,Pe],month:[Ao,_o],year:[$o,Uo]},Ko=Object.keys(Ne),Vo=new RegExp("^every\\s*(\\d+)?\\s*("+Ko.join("|")+")s?$","i"),Be=function(n,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in n){var e=t.match(Vo);if(e){var r=e[1],i=e[2],o=Ne[i][n.useUTC?1:0];if(i==="day"){var a,u,c=n.domain(),s=c[0],l=c[1],g=new Date(l);return g.setDate(g.getDate()+1),(a=(u=o.every(Number(r??1)))==null?void 0:u.range(s,g))!=null?a:[]}if(r===void 0)return n.ticks(o);var f=o.every(Number(r));if(f)return n.ticks(f)}throw new Error("Invalid tickValues: "+t)}if("ticks"in n){if(t===void 0)return n.ticks();if(typeof(h=t)=="number"&&isFinite(h)&&Math.floor(h)===h)return n.ticks(t)}var h;return n.domain()};function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y.apply(this,arguments)}var Ie=function(n){var t,e=n.axis,r=n.scale,i=n.ticksPosition,o=n.tickValues,a=n.tickSize,u=n.tickPadding,c=n.tickRotation,s=n.truncateTickAt,l=n.engine,g=l===void 0?"svg":l,f=Be(r,o),h=pr[g],m="bandwidth"in r?je(r):r,d={lineX:0,lineY:0},v={textX:0,textY:0},M=typeof document=="object"&&document.dir==="rtl",p=h.align.center,b=h.baseline.center;return e==="x"?(t=function(w){var k;return{x:(k=m(w))!=null?k:0,y:0}},d.lineY=a*(i==="after"?1:-1),v.textY=(a+u)*(i==="after"?1:-1),b=i==="after"?h.baseline.top:h.baseline.bottom,c===0?p=h.align.center:i==="after"&&c<0||i==="before"&&c>0?(p=h.align[M?"left":"right"],b=h.baseline.center):(i==="after"&&c>0||i==="before"&&c<0)&&(p=h.align[M?"right":"left"],b=h.baseline.center)):(t=function(w){var k;return{x:0,y:(k=m(w))!=null?k:0}},d.lineX=a*(i==="after"?1:-1),v.textX=(a+u)*(i==="after"?1:-1),p=i==="after"?h.align.left:h.align.right),{ticks:f.map(function(w){var k=typeof w=="string"?function(y){var $=String(y).length;return s&&s>0&&$>s?""+String(y).slice(0,s).concat("..."):""+y}(w):w;return Y({key:w instanceof Date?""+w.valueOf():""+w,value:k},t(w),d,v)}),textAlign:p,textBaseline:b}},He=function(n,t){if(n===void 0||typeof n=="function")return n;if(t.type==="time"){var e=At(n);return function(r){return e(r instanceof Date?r:new Date(r))}}return xr(n)},En=function(n){var t,e=n.width,r=n.height,i=n.scale,o=n.axis,a=n.values,u=(t=a,(Array.isArray(t)?a:void 0)||Be(i,a)),c="bandwidth"in i?je(i):i,s=o==="x"?u.map(function(l){var g,f;return{key:l instanceof Date?""+l.valueOf():""+l,x1:(g=c(l))!=null?g:0,x2:(f=c(l))!=null?f:0,y1:0,y2:r}}):u.map(function(l){var g,f;return{key:l instanceof Date?""+l.valueOf():""+l,x1:0,x2:e,y1:(g=c(l))!=null?g:0,y2:(f=c(l))!=null?f:0}});return s},Jo=P.memo(function(n){var t,e=n.value,r=n.format,i=n.lineX,o=n.lineY,a=n.onClick,u=n.textBaseline,c=n.textAnchor,s=n.animatedProps,l=On(),g=l.axis.ticks.line,f=l.axis.ticks.text,h=(t=r==null?void 0:r(e))!=null?t:e,m=P.useMemo(function(){var d={opacity:s.opacity};return a?{style:Y({},d,{cursor:"pointer"}),onClick:function(v){return a(v,h)}}:{style:d}},[s.opacity,a,h]);return F.jsxs(nn.g,Y({transform:s.transform},m,{children:[F.jsx("line",{x1:0,x2:i,y1:0,y2:o,style:g}),f.outlineWidth>0&&F.jsx(nn.text,{dominantBaseline:u,textAnchor:c,transform:s.textTransform,style:f,strokeWidth:2*f.outlineWidth,stroke:f.outlineColor,strokeLinejoin:"round",children:""+h}),F.jsx(nn.text,{dominantBaseline:u,textAnchor:c,transform:s.textTransform,style:f,children:""+h})]}))}),Qo=function(n){var t=n.axis,e=n.scale,r=n.x,i=r===void 0?0:r,o=n.y,a=o===void 0?0:o,u=n.length,c=n.ticksPosition,s=n.tickValues,l=n.tickSize,g=l===void 0?5:l,f=n.tickPadding,h=f===void 0?5:f,m=n.tickRotation,d=m===void 0?0:m,v=n.format,M=n.renderTick,p=M===void 0?Jo:M,b=n.truncateTickAt,w=n.legend,k=n.legendPosition,y=k===void 0?"end":k,$=n.legendOffset,A=$===void 0?0:$,R=n.onClick,V=n.ariaHidden,x=On(),_=x.axis.legend.text,S=P.useMemo(function(){return He(v,e)},[v,e]),O=Ie({axis:t,scale:e,ticksPosition:c,tickValues:s,tickSize:g,tickPadding:h,tickRotation:d,truncateTickAt:b}),N=O.ticks,j=O.textAlign,B=O.textBaseline,U=null;if(w!==void 0){var T,W=0,L=0,dn=0;t==="y"?(dn=-90,W=A,y==="start"?(T="start",L=u):y==="middle"?(T="middle",L=u/2):y==="end"&&(T="end")):(L=A,y==="start"?T="start":y==="middle"?(T="middle",W=u/2):y==="end"&&(T="end",W=u)),U=F.jsxs(F.Fragment,{children:[_.outlineWidth>0&&F.jsx("text",{transform:"translate("+W+", "+L+") rotate("+dn+")",textAnchor:T,style:Y({dominantBaseline:"central"},_),strokeWidth:2*_.outlineWidth,stroke:_.outlineColor,strokeLinejoin:"round",children:w}),F.jsx("text",{transform:"translate("+W+", "+L+") rotate("+dn+")",textAnchor:T,style:Y({dominantBaseline:"central"},_),children:w})]})}var qn=Nt(),zn=qn.animate,Xn=qn.config,vn=yr({transform:"translate("+i+","+a+")",lineX2:t==="x"?u:0,lineY2:t==="x"?0:u,config:Xn,immediate:!zn}),yn=P.useCallback(function(E){return{opacity:1,transform:"translate("+E.x+","+E.y+")",textTransform:"translate("+E.textX+","+E.textY+") rotate("+d+")"}},[d]),We=P.useCallback(function(E){return{opacity:0,transform:"translate("+E.x+","+E.y+")",textTransform:"translate("+E.textX+","+E.textY+") rotate("+d+")"}},[d]),Le=Bt(N,{keys:function(E){return E.key},initial:yn,from:We,enter:yn,update:yn,leave:{opacity:0},config:Xn,immediate:!zn});return F.jsxs(nn.g,{transform:vn.transform,"aria-hidden":V,children:[Le(function(E,qe,ru,ze){return P.createElement(p,Y({tickIndex:ze,format:S,rotate:d,textBaseline:B,textAnchor:j,truncateTickAt:b,animatedProps:E},qe,R?{onClick:R}:{}))}),F.jsx(nn.line,{style:x.axis.domain.line,x1:0,x2:vn.lineX2,y1:0,y2:vn.lineY2}),U]})},Zo=P.memo(Qo),nu={ticksPosition:C.oneOf(["before","after"]),tickValues:C.oneOfType([C.number,C.arrayOf(C.oneOfType([C.number,C.string,C.instanceOf(Date)])),C.string]),rotateOnTickLength:C.shape({angle:C.number,length:C.number}),tickSize:C.number,tickPadding:C.number,tickRotation:C.number,format:C.oneOfType([C.func,C.string]),renderTick:C.func,legend:C.node,legendPosition:C.oneOf(["start","middle","end"]),legendOffset:C.number,ariaHidden:C.bool},cu=C.shape(nu),Re=["top","right","bottom","left"],su=P.memo(function(n){var t=n.xScale,e=n.yScale,r=n.width,i=n.height,o={top:n.top,right:n.right,bottom:n.bottom,left:n.left};return F.jsx(F.Fragment,{children:Re.map(function(a){var u=o[a];if(!u)return null;var c=a==="top"||a==="bottom";return F.jsx(Zo,Y({},u,{axis:c?"x":"y",x:a==="right"?r:0,y:a==="bottom"?i:0,scale:c?t:e,length:c?r:i,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:u.truncateTickAt}),a)})})}),tu=P.memo(function(n){var t=n.animatedProps,e=On();return F.jsx(nn.line,Y({},t,e.grid.line))}),Mt=P.memo(function(n){var t=n.lines,e=Nt(),r=e.animate,i=e.config,o=Bt(t,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:i,immediate:!r});return F.jsx("g",{children:o(function(a,u){return P.createElement(tu,Y({},u,{key:u.key,animatedProps:a}))})})}),fu=P.memo(function(n){var t=n.width,e=n.height,r=n.xScale,i=n.yScale,o=n.xValues,a=n.yValues,u=P.useMemo(function(){return!!r&&En({width:t,height:e,scale:r,axis:"x",values:o})},[r,o,t,e]),c=P.useMemo(function(){return!!i&&En({width:t,height:e,scale:i,axis:"y",values:a})},[e,t,i,a]);return F.jsxs(F.Fragment,{children:[u&&F.jsx(Mt,{lines:u}),c&&F.jsx(Mt,{lines:c})]})}),eu=function(n,t){var e,r=t.axis,i=t.scale,o=t.x,a=o===void 0?0:o,u=t.y,c=u===void 0?0:u,s=t.length,l=t.ticksPosition,g=t.tickValues,f=t.tickSize,h=f===void 0?5:f,m=t.tickPadding,d=m===void 0?5:m,v=t.tickRotation,M=v===void 0?0:v,p=t.format,b=t.legend,w=t.legendPosition,k=w===void 0?"end":w,y=t.legendOffset,$=y===void 0?0:y,A=t.theme,R=Ie({axis:r,scale:i,ticksPosition:l,tickValues:g,tickSize:h,tickPadding:d,tickRotation:M,engine:"canvas"}),V=R.ticks,x=R.textAlign,_=R.textBaseline;n.save(),n.translate(a,c),n.textAlign=x,n.textBaseline=_;var S=A.axis.ticks.text;n.font=(S.fontWeight?S.fontWeight+" ":"")+S.fontSize+"px "+S.fontFamily,((e=A.axis.domain.line.strokeWidth)!=null?e:0)>0&&(n.lineWidth=Number(A.axis.domain.line.strokeWidth),n.lineCap="square",A.axis.domain.line.stroke&&(n.strokeStyle=A.axis.domain.line.stroke),n.beginPath(),n.moveTo(0,0),n.lineTo(r==="x"?s:0,r==="x"?0:s),n.stroke());var O=typeof p=="function"?p:function(T){return""+T};if(V.forEach(function(T){var W;((W=A.axis.ticks.line.strokeWidth)!=null?W:0)>0&&(n.lineWidth=Number(A.axis.ticks.line.strokeWidth),n.lineCap="square",A.axis.ticks.line.stroke&&(n.strokeStyle=A.axis.ticks.line.stroke),n.beginPath(),n.moveTo(T.x,T.y),n.lineTo(T.x+T.lineX,T.y+T.lineY),n.stroke());var L=O(T.value);n.save(),n.translate(T.x+T.textX,T.y+T.textY),n.rotate(Qn(M)),S.outlineWidth>0&&(n.strokeStyle=S.outlineColor,n.lineWidth=2*S.outlineWidth,n.lineJoin="round",n.strokeText(""+L,0,0)),A.axis.ticks.text.fill&&(n.fillStyle=S.fill),n.fillText(""+L,0,0),n.restore()}),b!==void 0){var N=0,j=0,B=0,U="center";r==="y"?(B=-90,N=$,k==="start"?(U="start",j=s):k==="middle"?(U="center",j=s/2):k==="end"&&(U="end")):(j=$,k==="start"?U="start":k==="middle"?(U="center",N=s/2):k==="end"&&(U="end",N=s)),n.translate(N,j),n.rotate(Qn(B)),n.font=(A.axis.legend.text.fontWeight?A.axis.legend.text.fontWeight+" ":"")+A.axis.legend.text.fontSize+"px "+A.axis.legend.text.fontFamily,A.axis.legend.text.fill&&(n.fillStyle=A.axis.legend.text.fill),n.textAlign=U,n.textBaseline="middle",n.fillText(b,0,0)}n.restore()},lu=function(n,t){var e=t.xScale,r=t.yScale,i=t.width,o=t.height,a=t.top,u=t.right,c=t.bottom,s=t.left,l=t.theme,g={top:a,right:u,bottom:c,left:s};Re.forEach(function(f){var h=g[f];if(!h)return null;var m=f==="top"||f==="bottom",d=f==="top"||f==="left"?"before":"after",v=m?e:r,M=He(h.format,v);eu(n,Y({},h,{axis:m?"x":"y",x:f==="right"?i:0,y:f==="bottom"?o:0,scale:v,format:M,length:m?i:o,ticksPosition:d,theme:l}))})},gu=function(n,t){var e=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values;En({width:e,height:r,scale:i,axis:o,values:a}).forEach(function(u){n.beginPath(),n.moveTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.stroke()})};export{gu as D,su as X,Ia as _,me as a,yt as c,uu as d,lu as j,Fa as q,cu as w,fu as z};
