import{r as l,j as e,u as R,R as C,N as F,F as z,T}from"./index-b0d06e2f.js";import{r as W}from"./filterFields-1a4a809b.js";import{F as L,f as N,D as A,a as B}from"./DataContext-fea6fee0.js";import{u as D}from"./usePageTitle-36339b63.js";import{r as H}from"./index-f2054a9f.js";import{R as S,A as M}from"./AdminRoleButton-91541c87.js";import{N as P}from"./NoEntriesCard-bc1f3476.js";import{L as j}from"./Link-420e3228.js";import{a as k,b as g,c as E,d as I,T as U,e as G}from"./TableRow-ca15ddc3.js";import{R as _}from"./RaffleSearchBar-8f5cf3be.js";import{R as K}from"./RaffleHiddenDialog-ce0805cd.js";import{R as O}from"./RaffleHeader-2e4c8b30.js";import{R as V}from"./ReportButton-858346c7.js";import"./rankingRequestData-d3ef79e5.js";import"./useDocumentTitle-3a37a4d4.js";import"./useData-b5d111ea.js";import"./dataUrls-e1e30111.js";import"./setDeep-8470365e.js";import"./LockListContext-78b292a8.js";import"./entryName-fff48022.js";import"./SearchBox-9cc49b28.js";import"./Select-e5b0c040.js";import"./Box-b0cbe9af.js";import"./Chip-96aca3c9.js";import"./Search-0cdf7412.js";import"./Badge-e335712b.js";import"./TextField-e5c3f1c9.js";import"./ViewFilterButtons-fbfcc224.js";import"./ToggleButtonGroup-4ccf0f47.js";import"./Dialog-2784f595.js";function $({children:t}){const{filters:s}=l.useContext(L),{search:c,id:p,tab:f,name:a,sort:o,image:u,...d}=s,{allCharities:m}=l.useContext(S),x=l.useMemo(()=>{const b=Object.keys(d).map(r=>{const i=d[r];return Array.isArray(i)?i.map(n=>({key:r,value:n})):{key:r,value:i}}).flat(),y=m.filter(r=>b.every(({key:i,value:n})=>Array.isArray(r[i])?r[i].includes(n):r[i]===n)).sort((r,i)=>r.fuzzy.localeCompare(i.fuzzy)),v=c?N.go(H(c),y,{keys:q,threshold:-25e3}).map(r=>({...r.obj,score:r.score})):y;return o?v.sort((r,i)=>o==="potName"?r.title.localeCompare(i.title):o==="contributedBy"?r.contributedBy[0].localeCompare(i.contributedBy[0]):r.potNumber<i.potNumber):v},[m,d,c,o]),w=l.useMemo(()=>({allCharities:m,visibleEntries:x}),[m,x]);return e.jsx(A.Provider,{value:w,children:t})}const q=["fuzzy"];function J({charity:t}){const{isMobile:s}=R(),{raflState:c,raffleAdminRole:p}=l.useContext(S),f=["live","post"].includes(c)||p,a=l.useCallback(m=>{const x=window.open(m,"_blank","noopener,noreferrer");x&&(x.opener=null)},[]),o=t.url?e.jsx(j,{onClick:()=>a(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),u=s?"0.95rem":"1.0rem",d=s?{fontSize:u,border:0,padding:"6px 10px"}:{fontSize:u,border:0,padding:"8px 16px"};return e.jsxs(k,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(g,{align:"left",style:d,children:o}),f&&e.jsxs(C.Fragment,{children:[e.jsx(g,{align:"center",style:d,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(g,{align:"center",style:d,children:t.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations)})]})]})}function Q({charities:t}){const{isMobile:s}=R(),c=s?{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:8}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:12},p=t?{borderBottom:"1px #555 solid"}:{},f=l.useCallback(a=>{const o=window.open(a,"_blank","noopener,noreferrer");o&&(o.opener=null)},[]);return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{...c,backgroundColor:"#333",minHeight:72,...p},children:[e.jsx("div",{style:{display:"flex",flexGrow:1,marginLeft:8,fontWeight:700,fontSize:"1.1rem"},children:"Los Angeles Wildfires"}),e.jsx("div",{style:{margin:"12px 20px 0px 8px"},children:"In light of the devastating wildfires in Los Angeles, we have added a number of California-based charities to our list of options. These vetted organizations are providing support to victims of the fires, their families, and the first-responders who are battling the blazes."})]}),e.jsx("div",{style:{padding:"16px 0px 0px 0px",backgroundColor:"#000"}}),t&&t.map(a=>e.jsx("div",{style:{margin:"0px 0px 0px 0px",padding:"3px 0px 2px 20px",backgroundColor:"#000"},children:a.url?e.jsx(j,{onClick:()=>f(a.url),style:{color:"#fff",fontWeight:500},children:a.name}):e.jsx("span",{style:{color:"#ddd"},children:a.name})},a.name)),e.jsx("div",{style:{padding:"24px 0px 0px 0px",backgroundColor:"#000"}})]})}function X(){const{visibleEntries:t}=l.useContext(A),{raflState:s,raffleAdminRole:c}=l.useContext(S),p=["live","post"].includes(s)||c,{isMobile:f}=R(),a=l.useRef(),[o,u]=l.useState("name"),d=l.useCallback(n=>{n!==o&&u(n)},[u,o]),m=t.sort((n,h)=>{switch(o){case"2024":return h.donations2024-n.donations2024;case"2025":return h.donations-n.donations;case"name":return n.name.localeCompare(h.name);default:return n.name.localeCompare(h.name)}}),x=m.filter(n=>n.tags.includes("Los Angeles Wildfires")),w={maxWidth:700,marginLeft:"auto",marginRight:"auto"},b=f?"0.9rem":"1.0rem",y=f?"10px 10px":"16px 16px",v=s==="live"?"Currently":"Contributions",r=f?"2024":"2024 Contributions",i=f?"2025":`2025 ${v}`;return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(Q,{charities:x}),e.jsx(_,{label:"All Approved Charities",sortValues:null}),t.length===0&&e.jsx(P,{label:"Charities"}),t.length>0&&e.jsx(E,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:a,children:e.jsxs(I,{stickyHeader:!0,style:w,children:[e.jsx(U,{children:e.jsxs(k,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:y},children:e.jsx(j,{onClick:()=>d("name"),style:{color:o==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),p&&e.jsxs(C.Fragment,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2024"),style:{color:o==="2024"?"#fff":"#ccc"},children:r})},"2024"),e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2025"),style:{color:o==="2025"?"#fff":"#ccc"},children:i})},"2025")]})]})}),e.jsx(G,{children:m.map((n,h)=>e.jsx(J,{charity:n},h))})]})})]}),e.jsx(K,{})]})}function Fe(){D("RAFL Charities");const{isMobile:t}=R(),s=t?8:0,c={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:s,paddingRight:s},p=e.jsxs(C.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(V,{}),e.jsx(M,{})]});return e.jsx(B,{filterFields:W,children:e.jsx($,{children:e.jsxs("div",{style:c,children:[e.jsx(F,{title:"RAFL Charities",extras:p}),e.jsx(O,{page:"charities"}),e.jsx(X,{}),e.jsx(z,{}),e.jsx(T,{feature:"raflCharities"})]})})})}export{Fe as default};
