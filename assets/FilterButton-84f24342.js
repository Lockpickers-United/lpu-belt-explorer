import{ar as Je,as as Ze,r as a,at as et,au as tt,m as J,j as o,_ as O,o as q,ah as rt,af as Pe,R as Z,P as nt,ak as Re,k as ee,h as oe,s as z,ab as ot,l as se,a8 as st,p as ae,av as at,w as it,u as lt,M as ct,c as ue,a6 as dt,am as ut,x as Y,T as be,I as Ce,S as Ee,f as Oe,i as Te,B as _e,a0 as ft,a1 as gt,a2 as mt,aw as pt,ax as vt,ay as ht,X as xt,ad as yt,v as Lt,az as bt,q as Be,b as Ct}from"./index-7cca8773.js";import"./dayjs.min-ae00ffdc.js";import{g as At,I as It,l as wt,b as St}from"./ImageViewer-bb9449f1.js";import{C as Ae}from"./Chip-9978ea94.js";import{u as Ie}from"./useWindowSize-5451cda8.js";import{F as De,S as Ne,I as kt}from"./InputLabel-34b698ce.js";import{B as Bt}from"./Badge-6ca3489c.js";const jt=["className","component"];function Mt(e={}){const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:b}=e,x=Je("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Ze);return a.forwardRef(function(f,w){const j=et(n),I=tt(f),{className:k,component:l="div"}=I,y=J(I,jt);return o.jsx(x,O({as:l,ref:w,className:q(k,b?b(i):i),theme:t&&j[t]||j},y))})}const Pt={White:{color:"#eee",danPoints:0},Yellow:{color:"#d3d31c",danPoints:0},Orange:{color:"#d95b27",danPoints:0},Green:{color:"#43833e",danPoints:0},Blue:{color:"#3768b1",danPoints:1},Purple:{color:"#6a4b9d",danPoints:3},Brown:{color:"#624e38",danPoints:6},Red:{color:"#b92121",danPoints:10},Black:{color:"#000000",lineColor:"#494949",danPoints:18},"Black 1":{color:"#000000",lineColor:"#494949",danPoints:18},"Black 2":{color:"#000000",lineColor:"#494949",danPoints:24},"Black 3":{color:"#000000",lineColor:"#494949",danPoints:30},"Black 4":{color:"#000000",lineColor:"#494949",danPoints:36},"Black 5":{color:"#000000",lineColor:"#494949",danPoints:50},Unranked:{color:"#000000",lineColor:"#d3d31c",danPoints:0}},Le=Object.keys(Pt),me=[...Le].reverse();me.push(me.shift());const ln=["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],cn=(e,t)=>Le.indexOf(e)-Le.indexOf(t),dn=(e,t)=>me.indexOf(e)-me.indexOf(t);var Fe={exports:{}};(function(e){((t,n)=>{e.exports?e.exports=n():t.fuzzysort=n()})(rt,t=>{var n=(c,r)=>{if(c=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!c||!r)return E;var d=j(c);re(r)||(r=w(r));var g=d.bitflags;return(g&r._bitflags)!==g?E:k(d,r)},i=(c,r,d)=>{if(c=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:r?r[0]:E}];if(!c)return d&&d.all?I(c,r,d):he;var g=j(c),m=g.bitflags;g.containsSpace;var p=d&&d.threshold||ne,v=d&&d.limit||ve,s=0,B=0,C=r.length;if(d&&d.key)for(var P=d.key,_=0;_<C;++_){var F=r[_],T=X(F,P);if(T&&(re(T)||(T=w(T)),(m&T._bitflags)===m)){var $=k(g,T);$!==E&&($.score<p||($={target:$.target,_targetLower:"",_targetLowerCodes:E,_nextBeginningIndexes:E,_bitflags:0,score:$.score,_indexes:$._indexes,obj:F},s<v?(V.add($),++s):(++B,$.score>V.peek().score&&V.replaceTop($))))}}else if(d&&d.keys)for(var Q=d.scoreFn||ie,de=d.keys,fe=de.length,_=0;_<C;++_){for(var F=r[_],U=new Array(fe),G=0;G<fe;++G){var P=de[G],T=X(F,P);if(!T){U[G]=E;continue}re(T)||(T=w(T)),(m&T._bitflags)!==m?U[G]=E:U[G]=k(g,T)}U.obj=F;var D=Q(U);D!==E&&(D<p||(U.score=D,s<v?(V.add(U),++s):(++B,D>V.peek().score&&V.replaceTop(U))))}else for(var _=0;_<C;++_){var T=r[_];if(T&&(re(T)||(T=w(T)),(m&T._bitflags)===m)){var $=k(g,T);$!==E&&($.score<p||(s<v?(V.add($),++s):(++B,$.score>V.peek().score&&V.replaceTop($))))}}if(s===0)return he;for(var le=new Array(s),_=s-1;_>=0;--_)le[_]=V.poll();return le.total=s+B,le},b=(c,r,d)=>{if(typeof r=="function")return x(c,r);if(c===E)return E;r===void 0&&(r="<b>"),d===void 0&&(d="</b>");var g="",m=0,p=!1,v=c.target,s=v.length,B=c._indexes;B=B.slice(0,B.len).sort((_,F)=>_-F);for(var C=0;C<s;++C){var P=v[C];if(B[m]===C){if(++m,p||(p=!0,g+=r),m===B.length){g+=P+d+v.substr(C+1);break}}else p&&(p=!1,g+=d);g+=P}return g},x=(C,r)=>{if(C===E)return E;var d=C.target,g=d.length,m=C._indexes;m=m.slice(0,m.len).sort((F,T)=>F-T);for(var p="",v=0,s=0,B=!1,C=[],P=0;P<g;++P){var _=d[P];if(m[s]===P){if(++s,B||(B=!0,C.push(p),p=""),s===m.length){p+=_,C.push(r(p,v++)),p="",C.push(d.substr(P+1));break}}else B&&(B=!1,C.push(r(p,v++)),p="");p+=_}return C},A=c=>c._indexes.slice(0,c._indexes.len).sort((r,d)=>r-d),u=c=>{typeof c!="string"&&(c="");var r=y(c);return{target:c,_targetLower:r._lower,_targetLowerCodes:r.lowerCodes,_nextBeginningIndexes:E,_bitflags:r.bitflags,score:E,_indexes:[0],obj:E}},f=c=>{typeof c!="string"&&(c=""),c=c.trim();var r=y(c),d=[];if(r.containsSpace){var g=c.split(/\s+/);g=[...new Set(g)];for(var m=0;m<g.length;m++)if(g[m]!==""){var p=y(g[m]);d.push({lowerCodes:p.lowerCodes,_lower:g[m].toLowerCase(),containsSpace:!1})}}return{lowerCodes:r.lowerCodes,bitflags:r.bitflags,containsSpace:r.containsSpace,_lower:r._lower,spaceSearches:d}},w=c=>{if(c.length>999)return u(c);var r=N.get(c);return r!==void 0||(r=u(c),N.set(c,r)),r},j=c=>{if(c.length>999)return f(c);var r=S.get(c);return r!==void 0||(r=f(c),S.set(c,r)),r},I=(c,r,d)=>{var g=[];g.total=r.length;var m=d&&d.limit||ve;if(d&&d.key)for(var p=0;p<r.length;p++){var v=r[p],s=X(v,d.key);if(s){re(s)||(s=w(s)),s.score=ne,s._indexes.len=0;var B=s;if(B={target:B.target,_targetLower:"",_targetLowerCodes:E,_nextBeginningIndexes:E,_bitflags:0,score:s.score,_indexes:E,obj:v},g.push(B),g.length>=m)return g}}else if(d&&d.keys)for(var p=0;p<r.length;p++){for(var v=r[p],C=new Array(d.keys.length),P=d.keys.length-1;P>=0;--P){var s=X(v,d.keys[P]);if(!s){C[P]=E;continue}re(s)||(s=w(s)),s.score=ne,s._indexes.len=0,C[P]=s}if(C.obj=v,C.score=ne,g.push(C),g.length>=m)return g}else for(var p=0;p<r.length;p++){var s=r[p];if(s&&(re(s)||(s=w(s)),s.score=ne,s._indexes.len=0,g.push(s),g.length>=m))return g}return g},k=(c,r,d=!1)=>{if(d===!1&&c.containsSpace)return l(c,r);for(var g=c._lower,m=c.lowerCodes,p=m[0],v=r._targetLowerCodes,s=m.length,B=v.length,F=0,C=0,P=0;;){var _=p===v[C];if(_){if(R[P++]=C,++F,F===s)break;p=m[F]}if(++C,C>=B)return E}var F=0,T=!1,$=0,Q=r._nextBeginningIndexes;Q===E&&(Q=r._nextBeginningIndexes=h(r.target)),C=R[0]===0?0:Q[R[0]-1];var de=0;if(C!==B)for(;;)if(C>=B){if(F<=0||(++de,de>200))break;--F;var fe=W[--$];C=Q[fe]}else{var _=m[F]===v[C];if(_){if(W[$++]=C,++F,F===s){T=!0;break}++C}else C=Q[C]}var U=r._targetLower.indexOf(g,R[0]),G=~U;if(G&&!T)for(var D=0;D<P;++D)R[D]=U+D;var le=!1;G&&(le=r._nextBeginningIndexes[U-1]===U);{if(T)var H=W,xe=$;else var H=R,xe=P;for(var K=0,ke=0,D=1;D<s;++D)H[D]-H[D-1]!==1&&(K-=H[D],++ke);var Ye=H[s-1]-H[0]-(s-1);if(K-=(12+Ye)*ke,H[0]!==0&&(K-=H[0]*H[0]*.2),!T)K*=1e3;else{for(var ye=1,D=Q[0];D<B;D=Q[D])++ye;ye>24&&(K*=(ye-24)*10)}G&&(K/=1+s*s*1),le&&(K/=1+s*s*1),K-=B-s,r.score=K;for(var D=0;D<xe;++D)r._indexes[D]=H[D];return r._indexes.len=xe,r}},l=(c,r)=>{for(var d=new Set,g=0,m=E,p=0,v=c.spaceSearches,P=0;P<v.length;++P){var s=v[P];if(m=k(s,r),m===E)return E;g+=m.score,m._indexes[0]<p&&(g-=p-m._indexes[0]),p=m._indexes[0];for(var B=0;B<m._indexes.len;++B)d.add(m._indexes[B])}var C=k(c,r,!0);if(C!==E&&C.score>g)return C;m.score=g;var P=0;for(let _ of d)m._indexes[P++]=_;return m._indexes.len=P,m},y=c=>{for(var r=c.length,d=c.toLowerCase(),g=[],m=0,p=!1,v=0;v<r;++v){var s=g[v]=d.charCodeAt(v);if(s===32){p=!0;continue}var B=s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31;m|=1<<B}return{lowerCodes:g,bitflags:m,containsSpace:p,_lower:d}},L=c=>{for(var r=c.length,d=[],g=0,m=!1,p=!1,v=0;v<r;++v){var s=c.charCodeAt(v),B=s>=65&&s<=90,C=B||s>=97&&s<=122||s>=48&&s<=57,P=B&&!m||!p||!C;m=B,p=C,P&&(d[g++]=v)}return d},h=c=>{for(var r=c.length,d=L(c),g=[],m=d[0],p=0,v=0;v<r;++v)m>v?g[v]=m:(m=d[++p],g[v]=m===void 0?r:m);return g},M=()=>{N.clear(),S.clear(),R=[],W=[]},N=new Map,S=new Map,R=[],W=[],ie=c=>{for(var r=ne,d=c.length,g=0;g<d;++g){var m=c[g];if(m!==E){var p=m.score;p>r&&(r=p)}}return r===ne?E:r},X=(c,r)=>{var d=c[r];if(d!==void 0)return d;var g=r;Array.isArray(r)||(g=r.split("."));for(var m=g.length,p=-1;c&&++p<m;)c=c[g[p]];return c},re=c=>typeof c=="object",ve=1/0,ne=-ve,he=[];he.total=0;var E=null,Xe=c=>{var r=[],d=0,g={},m=p=>{for(var v=0,s=r[v],B=1;B<d;){var C=B+1;v=B,C<d&&r[C].score<r[B].score&&(v=C),r[v-1>>1]=r[v],B=1+(v<<1)}for(var P=v-1>>1;v>0&&s.score<r[P].score;P=(v=P)-1>>1)r[v]=r[P];r[v]=s};return g.add=p=>{var v=d;r[d++]=p;for(var s=v-1>>1;v>0&&p.score<r[s].score;s=(v=s)-1>>1)r[v]=r[s];r[v]=p},g.poll=p=>{if(d!==0){var v=r[0];return r[0]=r[--d],m(),v}},g.peek=p=>{if(d!==0)return r[0]},g.replaceTop=p=>{r[0]=p,m()},g},V=Xe();return{single:n,go:i,highlight:b,prepare:u,indexes:A,cleanup:M}})})(Fe);var Rt=Fe.exports;const un=Pe(Rt),$e=Z.createContext({}),Et=e=>[...new Set([...(e==null?void 0:e.own)||[],...(e==null?void 0:e.picked)||[],...(e==null?void 0:e.recorded)||[],...(e==null?void 0:e.wishlist)||[]])],te=Z.createContext({});function fn({children:e,filterFields:t=[]}){const[n,i]=nt(),b=a.useMemo(()=>Array.from(n.keys()).reduce((y,L)=>{const h=n.getAll(L);return y[L]=h.length===1?h[0]:h,y},{}),[n]),x=a.useCallback(l=>{Object.keys(l).forEach(y=>{l[y]||delete l[y]}),i(l)},[i]),A=a.useCallback((l,y)=>{l.forEach(({key:L,value:h})=>{!h&&y?n.delete(L):h?y?Array.isArray(h)?(n.delete(L),h.forEach(M=>n.append(L,M))):n.set(L,h):n.has(L)?n.append(L,h):n.set(L,h):h||n.delete(L)}),i(n)},[n,i]),u=a.useCallback((l,y,L)=>A([{key:l,value:y}],L),[A]),f=a.useCallback(l=>{l.forEach(y=>n.delete(y)),i(n)},[n,i]),w=a.useCallback((l,y)=>{const L=n.getAll(l);n.delete(l),Array.isArray(L)&&L.length>1&&L.filter(M=>M!==y).forEach(M=>n.append(l,M)),i(n)},[n,i]),j=a.useCallback(()=>{const{tab:l}=b;x({tab:l})},[b,x]),I=a.useMemo(()=>Array.from(n.keys()).filter(y=>!Ot.includes(y)).length,[n]),k=a.useMemo(()=>({filters:b,filterCount:I,addFilter:u,addFilters:A,removeFilter:w,removeFilters:f,setFilters:x,clearFilters:j,filterFields:t,filterFieldsByFieldName:t.reduce((l,y)=>({...l,[y.fieldName]:y}),{id:{label:"ID"}})}),[u,A,j,I,b,w,f,x,t]);return o.jsx(te.Provider,{value:k,children:e})}const Ot=["id","name","search","tab","sort","image"];var pe={exports:{}},We={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},Ue=Object.keys(We).join("|"),Tt=new RegExp(Ue,"g"),_t=new RegExp(Ue,"");function Dt(e){return We[e]}var ze=function(e){return e.replace(Tt,Dt)},Nt=function(e){return!!e.match(_t)};pe.exports=ze;pe.exports.has=Nt;pe.exports.remove=ze;var Ft=pe.exports;const gn=Pe(Ft),$t=Z.createContext({});function mn({children:e}){const{userId:t}=Re(),{allEntries:n,getEntryFromId:i,getNameFromId:b}=a.useContext($e),{filters:x,addFilter:A,addFilters:u,removeFilters:f}=a.useContext(te),w=x.id,j=a.useCallback((S,R)=>{const W=i(S),ie=b(S);if(S&&S!=="beltreqs"){const X=x.tab==="search"&&!R?"search":W.belt.replace(/\s\d/g,"");u([{key:"id",value:S},{key:"name",value:ie},{key:"tab",value:t?void 0:X}],!0)}else S==="beltreqs"?u([{key:"id",value:S},{key:"name",value:void 0}],!0):f(["id","name"])},[u,x.tab,i,b,f,t]),I=a.useCallback(()=>{f(["id","name"])},[f]),k=a.useCallback(S=>{u([{key:"tab",value:S},{key:"id",value:w==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>y(!1),0)},[u,w]),[l,y]=a.useState(!1),[L,h]=a.useState(!1),M=a.useMemo(()=>{if(!x.tab&&!t){const{id:S}=x;if(S&&!x.tab){const R=n.find(W=>S===W.id);if(R){const W=R.belt.replace(/\s\d/g,"");return A("tab",W),W}}return"White"}return x.tab},[A,n,x,t]),N=a.useMemo(()=>({compact:L,tab:M,setTab:k,expanded:w,setExpanded:j,clearExpanded:I,displayAll:l&&x.tab==="search",setDisplayAll:y,setCompact:h}),[L,l,w,x.tab,I,j,k,M]);return o.jsx($t.Provider,{value:N,children:e})}const pn=[{key:"own",label:"Own"},{key:"picked",label:"Picked"},{key:"recorded",label:"Recorded"},{key:"wishlist",label:"Wishlist"}],Wt=["Own","Picked","Recorded","Wishlist"],Ut=a.createContext({}),Ve=Ut;function zt(e){return oe("MuiAccordion",e)}const Vt=ee("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),ge=Vt,Gt=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Ht=e=>{const{classes:t,square:n,expanded:i,disabled:b,disableGutters:x}=e;return ae({root:["root",!n&&"rounded",i&&"expanded",b&&"disabled",!x&&"gutters"],region:["region"]},zt,t)},qt=z(ot,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ge.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${ge.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${ge.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>O({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${ge.expanded}`]:{margin:"16px 0"}})),Qt=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiAccordion"}),{children:b,className:x,defaultExpanded:A=!1,disabled:u=!1,disableGutters:f=!1,expanded:w,onChange:j,square:I=!1,TransitionComponent:k=at,TransitionProps:l}=i,y=J(i,Gt),[L,h]=st({controlled:w,default:A,name:"Accordion",state:"expanded"}),M=a.useCallback(X=>{h(!L),j&&j(X,!L)},[L,j,h]),[N,...S]=a.Children.toArray(b),R=a.useMemo(()=>({expanded:L,disabled:u,disableGutters:f,toggle:M}),[L,u,f,M]),W=O({},i,{square:I,disabled:u,disableGutters:f,expanded:L}),ie=Ht(W);return o.jsxs(qt,O({className:q(ie.root,x),ref:n,ownerState:W,square:I},y,{children:[o.jsx(Ve.Provider,{value:R,children:N}),o.jsx(k,O({in:L,timeout:"auto"},l,{children:o.jsx("div",{"aria-labelledby":N.props.id,id:N.props["aria-controls"],role:"region",className:ie.region,children:S})}))]}))}),vn=Qt;function Kt(e){return oe("MuiAccordionDetails",e)}ee("MuiAccordionDetails",["root"]);const Xt=["className"],Yt=e=>{const{classes:t}=e;return ae({root:["root"]},Kt,t)},Jt=z("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Zt=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiAccordionDetails"}),{className:b}=i,x=J(i,Xt),A=i,u=Yt(A);return o.jsx(Jt,O({className:q(u.root,b),ref:n,ownerState:A},x))}),hn=Zt;function er(e){return oe("MuiAccordionSummary",e)}const tr=ee("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),ce=tr,rr=["children","className","expandIcon","focusVisibleClassName","onClick"],nr=e=>{const{classes:t,expanded:n,disabled:i,disableGutters:b}=e;return ae({root:["root",n&&"expanded",i&&"disabled",!b&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!b&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},er,t)},or=z(it,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return O({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${ce.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ce.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${ce.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${ce.expanded}`]:{minHeight:64}})}),sr=z("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>O({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${ce.expanded}`]:{margin:"20px 0"}})),ar=z("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${ce.expanded}`]:{transform:"rotate(180deg)"}})),ir=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiAccordionSummary"}),{children:b,className:x,expandIcon:A,focusVisibleClassName:u,onClick:f}=i,w=J(i,rr),{disabled:j=!1,disableGutters:I,expanded:k,toggle:l}=a.useContext(Ve),y=M=>{l&&l(M),f&&f(M)},L=O({},i,{expanded:k,disabled:j,disableGutters:I}),h=nr(L);return o.jsxs(or,O({focusRipple:!1,disableRipple:!0,disabled:j,component:"div","aria-expanded":k,className:q(h.root,x),focusVisibleClassName:q(h.focusVisible,u),onClick:y,ref:n,ownerState:L},w,{children:[o.jsx(sr,{className:h.content,ownerState:L,children:b}),A&&o.jsx(ar,{className:h.expandIconWrapper,ownerState:L,children:A})]}))}),xn=ir;function lr({name:e,value:t,last:n,style:i,headerStyle:b={},textStyle:x={}}){const A=n?{marginLeft:5,...i}:{marginLeft:5,marginBottom:8,...i},u={color:"#666",fontSize:"0.85rem",...b},f={marginLeft:5,...x};return o.jsxs("div",{style:A,children:[o.jsx("div",{style:u,children:e}),o.jsx("div",{style:f,children:t})]})}const cr=Z.memo(lr);function yn({field:e,value:t,label:n=t,...i}){const b=lt(),[x,A]=a.useState(!1),{addFilter:u}=a.useContext(te),f=a.useCallback(l=>{l.preventDefault(),l.stopPropagation(),A(!1)},[]),w=a.useCallback(l=>{l.preventDefault(),l.stopPropagation(),A(!1),u(e,t),window.scrollTo({top:0,behavior:"smooth"})},[u,e,t]),j=a.useCallback(l=>{l.preventDefault(),l.stopPropagation(),A(l.target)},[]),I=a.useCallback(l=>{l.stopPropagation(),A(!1);const y=encodeURI(t);setTimeout(()=>b(`/glossary?term=${y}`),0)},[b,t]),k=a.useMemo(()=>!!At.find(l=>l.term.toLowerCase()===t.toLowerCase()),[t]);return o.jsxs(Z.Fragment,{children:[o.jsx(Ae,{clickable:!0,variant:"outlined",label:n,style:{marginRight:4,marginBottom:4},onClick:j,...i}),o.jsxs(ct,{open:!!x,anchorEl:x,anchorOrigin:{horizontal:"right",vertical:"bottom"},onClose:f,children:[o.jsxs(ue,{disabled:!0,children:["Term: ",t]}),o.jsx(dt,{}),o.jsx(ue,{onClick:w,children:"Add Filter"}),o.jsx(ue,{onClick:I,disabled:!k,children:"Go to Glossary"})]})]})}function dr(e){return oe("MuiAccordionActions",e)}ee("MuiAccordionActions",["root","spacing"]);const ur=["className","disableSpacing"],fr=e=>{const{classes:t,disableSpacing:n}=e;return ae({root:["root",!n&&"spacing"]},dr,t)},gr=z("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>O({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),mr=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiAccordionActions"}),{className:b,disableSpacing:x=!1}=i,A=J(i,ur),u=O({},i,{disableSpacing:x}),f=fr(u);return o.jsx(gr,O({className:q(f.root,b),ref:n,ownerState:u},A))}),Ln=mr;function pr(e){return oe("MuiImageList",e)}ee("MuiImageList",["root","masonry","quilted","standard","woven"]);const vr=a.createContext({}),Ge=vr,hr=["children","className","cols","component","rowHeight","gap","style","variant"],xr=e=>{const{classes:t,variant:n}=e;return ae({root:["root",n]},pr,t)},yr=z("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})(({ownerState:e})=>O({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},e.variant==="masonry"&&{display:"block"})),Lr=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiImageList"}),{children:b,className:x,cols:A=2,component:u="ul",rowHeight:f="auto",gap:w=4,style:j,variant:I="standard"}=i,k=J(i,hr),l=a.useMemo(()=>({rowHeight:f,gap:w,variant:I}),[f,w,I]);a.useEffect(()=>{},[]);const y=I==="masonry"?O({columnCount:A,columnGap:w},j):O({gridTemplateColumns:`repeat(${A}, 1fr)`,gap:w},j),L=O({},i,{component:u,gap:w,rowHeight:f,variant:I}),h=xr(L);return o.jsx(yr,O({as:u,className:q(h.root,h[I],x),ref:n,style:y,ownerState:L},k,{children:o.jsx(Ge.Provider,{value:l,children:b})}))}),br=Lr;function Cr(e){return oe("MuiImageListItem",e)}const Ar=ee("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),je=Ar,Ir=["children","className","cols","component","rows","style"],wr=e=>{const{classes:t,variant:n}=e;return ae({root:["root",n],img:["img"]},Cr,t)},Sr=z("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${je.img}`]:t.img},t.root,t[n.variant]]}})(({ownerState:e})=>O({display:"block",position:"relative"},e.variant==="standard"&&{display:"flex",flexDirection:"column"},e.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${je.img}`]:O({objectFit:"cover",width:"100%",height:"100%",display:"block"},e.variant==="standard"&&{height:"auto",flexGrow:1})})),kr=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiImageListItem"}),{children:b,className:x,cols:A=1,component:u="li",rows:f=1,style:w}=i,j=J(i,Ir),{rowHeight:I="auto",gap:k,variant:l}=a.useContext(Ge);let y="auto";l==="woven"?y=void 0:I!=="auto"&&(y=I*f+k*(f-1));const L=O({},i,{cols:A,component:u,gap:k,rowHeight:I,rows:f,variant:l}),h=wr(L);return o.jsx(Sr,O({as:u,className:q(h.root,h[l],x),ref:n,style:O({height:y,gridColumnEnd:l!=="masonry"?`span ${A}`:void 0,gridRowEnd:l!=="masonry"?`span ${f}`:void 0,marginBottom:l==="masonry"?k:void 0,breakInside:l==="masonry"?"avoid":void 0},w),ownerState:L},j,{children:a.Children.map(b,M=>a.isValidElement(M)?M.type==="img"||ut(M,["Image"])?a.cloneElement(M,{className:q(h.img,M.props.className)}):M:null)}))}),Br=kr;function jr(e){return oe("MuiImageListItemBar",e)}ee("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const Mr=["actionIcon","actionPosition","className","subtitle","title","position"],Pr=e=>{const{classes:t,position:n,actionIcon:i,actionPosition:b}=e,x={root:["root",`position${Y(n)}`],titleWrap:["titleWrap",`titleWrap${Y(n)}`,i&&`titleWrapActionPos${Y(b)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${Y(b)}`]};return ae(x,jr,t)},Rr=z("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Y(n.position)}`]]}})(({theme:e,ownerState:t})=>O({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},t.position==="bottom"&&{bottom:0},t.position==="top"&&{top:0},t.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),Er=z("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.titleWrap,t[`titleWrap${Y(n.position)}`],n.actionIcon&&t[`titleWrapActionPos${Y(n.actionPosition)}`]]}})(({theme:e,ownerState:t})=>O({flexGrow:1,padding:"12px 16px",color:(e.vars||e).palette.common.white,overflow:"hidden"},t.position==="below"&&{padding:"6px 0 12px",color:"inherit"},t.actionIcon&&t.actionPosition==="left"&&{paddingLeft:0},t.actionIcon&&t.actionPosition==="right"&&{paddingRight:0})),Or=z("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(e,t)=>t.title})(({theme:e})=>({fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),Tr=z("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(e,t)=>t.subtitle})(({theme:e})=>({fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),_r=z("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actionIcon,t[`actionIconActionPos${Y(n.actionPosition)}`]]}})(({ownerState:e})=>O({},e.actionPosition==="left"&&{order:-1})),Dr=a.forwardRef(function(t,n){const i=se({props:t,name:"MuiImageListItemBar"}),{actionIcon:b,actionPosition:x="right",className:A,subtitle:u,title:f,position:w="bottom"}=i,j=J(i,Mr),I=O({},i,{position:w,actionPosition:x}),k=Pr(I);return o.jsxs(Rr,O({ownerState:I,className:q(k.root,A),ref:n},j,{children:[o.jsxs(Er,{ownerState:I,className:k.titleWrap,children:[o.jsx(Or,{className:k.title,children:f}),u?o.jsx(Tr,{className:k.subtitle,children:u}):null]}),b?o.jsx(_r,{ownerState:I,className:k.actionIcon,children:b}):null]}))}),Nr=Dr,Fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAACLlBMVEUAAAD/AAD/VVX/Pz/MMzPUKiraJCTfHx/iODjnLi7pKiraNjbdMzPfLy/hLS3iKirkKCjlMzPaMDDcLi7fKirgMzPhMTHjLS3dMzPeMTHfLy/hLS3iMTHfMTHhLy/iLi7eMDDfLy/fLi7gLS3hLS3dLy/eLi7fLS3fMTHgMDDgLy/hLi7hLS3eLS3fLy/fLy/gLi7hMDDfLS3fMDDgLy/hLi7hLS3fLy/fLy/hMDDfLi7gLy/gLi7hLi7eMDDfLy/hLy/fLi7fMDDgLy/gLy/gLi7gLi7fLy/fLy/fLi7hLy/fLi7fLy/gLy/gLi7gLi7gLi7fLy/fLi7gLi7gLy/gLy/fLi7fLi7fLi7gLy/gLi7gLi7fLy/fLi7fLi7gLi7gLy/gLi7fLi7fLi7fLy/gLy/gLi7gLi7gLi7fLy/fLy/fLi7fLi7gLy/gLy/fLi7fLy/fLy/gLy/gLi7gLi7fLy/fLi7gLy/fLi7fLi7fLy/fLy/gLi7gLi7gLi7gLy/fLi7gLi7gLy/gLi7fLi7fLi7fLy/fLy/gLy/gLi7gLi7gLy/fLy/fLy/fLi7gLi7gLy/gLy/gLy/fLi7fLy/fLy/fLy/gLi7gLi7gLi7fLy/fLi7fLi7fLi7gLy/gLy/fLi7fLi7fLy/gLi7gLi7gLi7fLy/fLy/fLi7gLy/gLy/gLy/gLi7fLi7fLi7fLy/fLy/////++Pj74+P2wcHwl5fpbm7kS0vhNjbgLy/Aen0RAAAAsXRSTlMAAQMEBQYHCAkLDA4PEBESExQVFhgZGhweHyAiJCkrLC8wMTIzNjc4OTo7PD0+QEFCRElKS01OUFFVWFtdXl9gZmlqa2xtbnBxcnd5e3x9fn+Ag4SGh4iJio2Oj5GTlJWXmJmanJ2en6ChoqOkpqiqq6ytrq+ztLi6u7y9vr/AwcTGyMnKy8zNzs/Q0dLT1dbX2Nna3N3e3+Dh4+Tl5ufo6+zu7/Dx8/T19/j5+vv8/f4b3nMYAAADa0lEQVR42u2b+1cMYRjHvymVKCX3FUK5pUSSdSuXsEmIIS1qiS5YWmGUSDVd6WbLXe2SJbTrPv+ds1OydarTzLw7zznOfH/bs2fO8zn7fWfe533mu4AuXbp06dKlS9eECowwxCakGNMPmY5wnMVyxXqT5+uEZrtXTx1evRUlOaUPPdIXTUIdz9usZZZCjss2HUw3bk5YboiYNvWqi1IyT5XY7gpdb1wiQ7ledwm8rZjbv2nBZNXjzveIftcT84oJysdXixrpwfpxyoeY3aJmcpunj60/r0XUVLVRo+vPfSxqrPb5vvXD2kTN1RziA1AmEqjwX/0NIolWjwDU0ADwxD+AKK4cBiilAjg/VH+GiwrAGSQBpIlkSpYALtIBmCWALjqARm/9KDcdwJeZALaKIu0iyKUEyAJQTglQBqCeEqAawHNKgA4gYIASwAlEyrzk+y+mBKFYKvMKz9cfvxkCLMZGuQAez7ef7ADiYZQP4PGw8yEVe5UAsPNhNw4rAmDmwwGcVgjAyIdjuKAYgIkP+bAqB2DhwyXcUQOg3gcbatUBqPWhCq0qAVT6UIMO1QCqfBDQzQBAhQ+P8JIFgHIfOtHLBkCpDz14xwpAmQ+v8IEZgCIf+jDIEECBD/0QmQLI9sHFGkCuD34AkOeDXwDk+OAfABk+/KcA1BYQL0Li21D+g4j8UUy+GZFvx+QNyQvqloy4KW2lb8tbVAOoPJg8pD2aVeI27eG0HNdoj+dFKKQdUOSBox3R5CCLdkiViQzaMd1O+kFlonwAlqPaOMTIBWA7rF6ICJlXsB3Xu4MhuyViKgeAZ5QAbYDsQSFTVQG4QQlQCuA4JYAJwBZKgCQAkYQvrz+HeV+ft9MB1Ev5AQsdwBkJgHARJEoAof1U9XsDh2I0RVQA+cM5ojVUAMv+Rqnu0dSvGMmSrSOp7/bJlpLciXk+ecLQZu3r146Klc7WfFNuGBMqDec1bgRmjY3VBux7r+EmlDNe2Dv6pFOj5W+LmSBbHZxaUPfRz9UHm3KXTJpuD4o1ZhffqunsY9kmfOqzN96vuFpwdFdC+NSD9mHRhti1yWnbdqRnmEwnuLOWy9brPM9XCoLQYLfbux0Oh+TZgJTul8L9rYJQ7033l1jOcZzJtCd9e2rSKsOcEP2/Erp06dKlS5euSfQHCEWsD45POXkAAAAASUVORK5CYII=";function bn(e){const{columns:t,media:n,initiallyOpen:i,openIndex:b,onOpenImage:x,onCloseImage:A,onBackButton:u,shareParams:f}=e,{isMobile:w}=Ie(),[j,I]=a.useState(i),k=a.useCallback(h=>()=>window.open(h,"_blank","noopener,noreferrer"),[]),l=a.useCallback(h=>()=>{x(h),I(!0)},[x]),y=a.useCallback(()=>{A(),I(!1)},[A]);a.useEffect(()=>{const h=()=>{if(u){const M=u();return I(M)}return I(!1)};return addEventListener("hashchange",h),()=>removeEventListener("hashchange",h)});const L=t??(w?2:3);return o.jsxs(Z.Fragment,{children:[j&&o.jsx(It,{media:n,openIndex:b,onOpenImage:x,onClose:y,shareParams:f}),o.jsx(br,{variant:"masonry",cols:L,sx:{marginTop:2},children:n.map(({title:h,subtitle:M,thumbnailUrl:N,fullUrl:S,subtitleUrl:R},W)=>o.jsxs(Br,{style:{marginBottom:8},children:[o.jsx("img",{src:N,alt:h,style:{paddingBottom:M?60:48,cursor:"pointer"},onClick:l(W)}),(S==null?void 0:S.match(/youtube\.com/))&&o.jsx("img",{src:Fr,alt:h,style:{alignItems:"center",position:"absolute",top:"calc(50% - 65px)",left:"calc(50% - 40px)",width:80,height:80,cursor:"pointer"},onClick:k(S)}),o.jsx(Nr,{title:h,subtitle:M&&o.jsx("a",{href:R||wt[M],target:"_blank",rel:"noopener noreferrer",children:M}),actionIcon:S&&o.jsx(be,{title:"View Full Size",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{href:S,style:{color:"rgba(255, 255, 255, 0.5)"},target:"_blank",rel:"noopener noreferrer",children:o.jsx(St,{})})})})]},W))})]})}function $r(){const{filters:e,filterCount:t,removeFilter:n,filterFieldsByFieldName:i}=a.useContext(te),b=a.useCallback((u,f)=>()=>{n(u,f)},[n]),x=a.useMemo(()=>{const{search:u,id:f,tab:w,name:j,sort:I,image:k,...l}=e;return Object.keys(l).map(y=>{const L=e[y];return Array.isArray(L)?L.map(h=>({key:y,value:h})):{key:y,value:L}}).flat()},[e]),A=a.useCallback((u,f)=>u==="Belt"?f==="Unranked"?u:f.includes("Black")?f.replace(/(Black)\s(\d+)/,"$1 Belt $2"):f+" Belt":u==="UL Group"?"Group "+f:u==="Wheels"?`${f} Wheels`:f,[]);return t===0?null:o.jsx(cr,{name:"Current Filters",style:{marginBottom:0},value:o.jsx(Ee,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:x.map(({key:u,value:f},w)=>{var j;return o.jsx(Ae,{label:`${A((j=i[u])==null?void 0:j.label,f)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:b(u,f)},w)})})})}var we={},Wr=Te;Object.defineProperty(we,"__esModule",{value:!0});var He=we.default=void 0,Ur=Wr(Oe()),zr=o;He=we.default=(0,Ur.default)((0,zr.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function qe({forceText:e}){const{isMobile:t}=Ie(),{filterCount:n,clearFilters:i}=a.useContext(te);return n===0?null:t&&!e?o.jsx(be,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{onClick:i,children:o.jsx(He,{})})}):o.jsx(_e,{variant:"outlined",color:"inherit",onClick:i,style:{minWidth:120},children:"Clear Filters"})}function Cn({profile:e={}}){const{userId:t}=Re(),{filters:n,filterCount:i,addFilter:b}=a.useContext(te),[x,A]=Z.useState(!1),u=a.useMemo(()=>Et(e),[e]),{collection:f=t&&i===0?"Any":null}=n,{isMobile:w}=Ie(),j=w?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0};let I="";f&&(typeof f=="string"?I=f:I=f[0]);const k=a.useCallback(()=>A(!1),[]),l=a.useCallback(()=>A(!0),[]),y=a.useCallback(N=>{b("collection",N.target.value,!0)},[b]);if(!i&&!t)return null;const L=typeof f=="string"&&(Me.includes(f)||f==="Any")&&i<2,h=e.displayName?e.displayName.toLowerCase().endsWith("s")?`${e.displayName}'`:`${e.displayName}'s`:"Private",M=t?`${h} Collection`:L?"My Collection":"Filters";return o.jsxs(ft,{style:j,sx:{paddingBottom:0,paddingTop:0},children:[o.jsx(gt,{title:M,action:o.jsx(qe,{})}),o.jsxs(mt,{style:{paddingTop:0,paddingLeft:8},children:[L&&o.jsx(De,{fullWidth:!0,size:"small",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:o.jsx(Ne,{open:x,onClose:k,onOpen:l,value:I,onChange:y,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},children:Me.map((N,S)=>{var R;return o.jsxs(ue,{value:N,children:[N," (",N==="Any"?u.length:((R=e[N.toLowerCase()])==null?void 0:R.length)||0,")"]},S)})})}),!L&&o.jsx($r,{})]})]})}const Me=["Any",...Wt],Vr=ee("MuiBox",["root"]),Gr=Vr,Hr=pt(),qr=Mt({themeId:vt,defaultTheme:Hr,defaultClassName:Gr.root,generateClassName:ht.generate}),Qe=qr;var Se={},Qr=Te;Object.defineProperty(Se,"__esModule",{value:!0});var Ke=Se.default=void 0,Kr=Qr(Oe()),Xr=o;Ke=Se.default=(0,Kr.default)((0,Xr.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Yr({label:e,fieldName:t,onFilter:n,sort:i}){const{visibleEntries:b}=a.useContext($e),{filters:x}=a.useContext(te),[A,u]=a.useState(!1),f=a.useCallback(h=>{u(!1),setTimeout(()=>n(t,h.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[t,n]),w=a.useCallback(()=>{u(!1),setTimeout(()=>document.activeElement.blur())},[]),j=a.useCallback(()=>u(!0),[]),{counts:I,options:k}=a.useMemo(()=>{const h=b.map(S=>S[t]).flat().filter(S=>S),M=h.reduce((S,R)=>(S[R]||(S[R]=0),S[R]++,S),{}),N=[...new Set(h)].sort((S,R)=>{if(i)return i(S,R);if(typeof S=="string"&&typeof R=="string")return S.localeCompare(R);if(Number.isInteger(S)&&Number.isInteger(R))return S-R});return{counts:M,options:N}},[t,b,i]),l=a.useDeferredValue(x),y=l[t],L=Array.isArray(y)?l[t]:y?[y]:[];return o.jsxs(De,{style:{minWidth:120,maxWidth:300,marginTop:4},fullWidth:!0,children:[o.jsx(kt,{id:`filter-${t}`,children:e}),o.jsx(Ne,{multiple:!0,label:e,labelId:`filter-${t}`,value:L,onChange:f,style:{marginBottom:8},open:A,onClose:w,onOpen:j,onBlur:w,MenuProps:{PaperProps:{style:{maxHeight:Jr*8+Zr}}},renderValue:h=>o.jsx(Qe,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:h.map(M=>o.jsx(Ae,{label:M},M))}),children:k.map((h,M)=>o.jsx(ue,{value:h,children:`${h} (${I[h]||0})`},M))})]})}const Jr=48,Zr=8;function An({onFiltersChanged:e,extraFilters:t=[]}){const{isLoggedIn:n}=a.useContext(xt),{beta:i}=a.useContext(yt),{filterCount:b,addFilters:x,filterFields:A}=a.useContext(te),[u,f]=a.useState(!1),w=a.useCallback(()=>f(!u),[u]);Lt("f",w);const j=a.useCallback(()=>f(!0),[]),I=a.useCallback(()=>f(!1),[]),k=a.useCallback((l,y)=>{x([{key:l,value:y},{key:"id",value:void 0},{key:"name",value:void 0},...t],!0),e&&e()},[x,e,t]);return o.jsxs(Z.Fragment,{children:[o.jsx(be,{title:"Filter",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{color:"inherit",onClick:j,children:o.jsx(Bt,{badgeContent:b,color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(Ke,{})})})}),o.jsxs(bt,{anchor:"right",open:u,onClose:I,children:[o.jsx(Be,{variant:"dense",onClick:I,children:o.jsx(Ct,{variant:"h6",children:"Filters"})}),o.jsx(Qe,{margin:1,children:o.jsx(Ee,{direction:"column",style:{minWidth:250},children:A.filter(l=>(!l.beta||i)&&(!l.userBased||n)).map((l,y)=>o.jsx(Yr,{...l,onFilter:k},y))})}),o.jsxs(Be,{variant:"dense",children:[o.jsx(qe,{forceText:!0,style:{marginRight:8}}),o.jsx(_e,{variant:"outlined",color:"inherit",onClick:I,children:"Done"})]})]})]})}export{vn as A,Qe as B,$e as D,te as F,Cn as I,$t as L,xn as a,hn as b,Ln as c,An as d,fn as e,mn as f,pn as g,Et as h,Pt as i,un as j,cn as k,dn as l,bn as m,cr as n,yn as o,gn as r,ln as u};
