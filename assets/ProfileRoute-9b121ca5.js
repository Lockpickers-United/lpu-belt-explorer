import{al as p,r as n,X as h,u as j,j as t,T as k,I as P,am as v,R as m,a0 as f,a2 as g,b as C,a3 as E,B as F,a1 as B,J as L,N as T,K as w,O as D}from"./index-3aed1f30.js";import{B as R,L as I,D as S,I as M,j as N,S as W,f as A,d as G,l as H,g as O,h as V,i as q}from"./sortFields-05d154a8.js";import{C as z,E as J,b as K,T as U,D as X}from"./data-2053566e.js";import{u as _,L as Q}from"./useData-61df53c1.js";import{u as y}from"./useWindowSize-f0e89a8c.js";import{C as Y}from"./CopyProfileLinkButton-37c0ff1d.js";import"./dayjs.min-6b7f98f7.js";import"./ImageViewer-3999dad9.js";import"./Link-7a7ede4a.js";import"./LinearProgress-c846b08e.js";import"./Search-4b58b42d.js";import"./InputLabel-8cac8c06.js";import"./Sort-5264a8b4.js";import"./TextField-5da35cc8.js";import"./index-f62d354a.js";import"./index-3604e60d.js";import"./LPU-c3fa7122.js";function Z(){const{userId:o}=p(),{user:r}=n.useContext(h),i=j(),l=n.useCallback(()=>{i("/profile/edit")},[i]);return o!==(r==null?void 0:r.uid)?null:t.jsx(k,{title:"Edit Profile",arrow:!0,disableFocusListener:!0,children:t.jsx(P,{onClick:l,children:t.jsx(v,{})})})}const $="/assets/mycollection-8a0b4848.png";function tt(){const{user:o}=n.useContext(h),{userId:r}=p(),i=j(),{isMobile:l}=y(),e=l?{marginTop:-32,maxWidth:700,marginLeft:8,marginRight:8,borderRadius:0}:{marginTop:-32,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},s=r===(o==null?void 0:o.uid),a=s?t.jsxs(m.Fragment,{children:[t.jsxs("span",{children:["There are no locks in your collection.",t.jsx("br",{}),'Browse the site and use the "My Collection" button to track locks that you own, picked, recorded, or wish to buy.',t.jsx("br",{})]}),t.jsx("img",{alt:"My Collection",src:$})]}):"There are no locks in this collection.",c=s?"Explore":"Go Home",d=n.useCallback(()=>{i("/locks")},[i]);return t.jsx(R,{alignContent:"center",children:t.jsxs(f,{style:e,children:[t.jsx(g,{children:t.jsx(C,{variant:"h6",align:"center",children:a})}),t.jsxs(E,{children:[t.jsx("div",{style:{width:"100%"}}),t.jsx(F,{variant:"outlined",color:"secondary",onClick:d,style:{whiteSpace:"nowrap"},children:c})]})]})})}function et(){const o={marginTop:16,maxWidth:350,marginLeft:"auto",marginRight:"auto",borderRadius:0};return t.jsxs(f,{style:o,children:[t.jsx(B,{title:"Profile Not Found!"}),t.jsx(g,{children:t.jsx(C,{variant:"h6",align:"center",children:"This profile was not found."})})]})}function ot({profile:o}){const{compact:r,expanded:i,setExpanded:l}=n.useContext(I),{visibleEntries:e=[]}=n.useContext(S),s=n.useDeferredValue(i);return t.jsxs("div",{style:{margin:8,paddingBottom:32},children:[t.jsx(M,{profile:o}),r?t.jsx(z,{entries:e}):e.map(a=>t.jsx(J,{entry:a,expanded:a.id===s,onExpand:l},a.id))]})}function yt(){const{userId:o}=p(),{getProfile:r}=n.useContext(L),{isMobile:i}=y(),l=n.useCallback(async()=>{try{return await r(o)}catch(u){return console.error("Error loading profile.",u),null}},[r,o]),{data:e={},loading:s,error:a}=_({loadFn:l}),c=n.useMemo(()=>{if(s||!e)return[];const u=new Set(N.flatMap(({key:x})=>e[x]));return K.filter(x=>u.has(x.id))},[e,s]),d=t.jsxs(m.Fragment,{children:[t.jsx(W,{label:"Collection"}),t.jsx(A,{}),t.jsx(G,{sortValues:H}),!i&&t.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),t.jsx(U,{}),t.jsx(Z,{}),t.jsx(Y,{})]}),b=s?"Loading...":"Profile";return t.jsx(m.Fragment,{children:t.jsx(O,{filterFields:V,children:t.jsx(X,{allEntries:c,profile:e,children:t.jsxs(q,{children:[t.jsx(T,{title:b,extras:d}),s&&t.jsx(Q,{}),!s&&e&&!a&&t.jsx(ot,{profile:e}),!s&&e&&!a&&c.length===0&&t.jsx(tt,{}),!s&&(!e||a)&&t.jsx(et,{}),t.jsx(w,{}),t.jsx(D,{feature:"profile"})]})})})})}export{yt as default};
