import{j as o,R as h,r as e,e as j,B as x}from"./index-d38fe609.js";import{l as w}from"./LPU-c3fa7122.js";import{L as y}from"./LinearProgress-215715b5.js";function R(){return o.jsxs(h.Fragment,{children:[o.jsx(y,{variant:"indeterminate",color:"secondary"}),o.jsx("img",{alt:"Loading",src:w,style:{marginLeft:"auto",marginRight:"auto",display:"block"}})]})}function b({url:r,urls:t,loadFn:n}){const[c,i]=e.useState(!0),[l,p]=e.useState(null),[u,f]=e.useState(!1),s=e.useCallback(async()=>{try{i(!0);let a;if(r)a=await(await fetch(r,{cache:"no-store"})).json();else if(t){a={};const d=Object.keys(t).map(async m=>{const g=await fetch(t[m],{cache:"no-store"});a[m]=await g.json()});await Promise.all(d)}else n&&(a=await n());p(a),i(!1),f(!1)}catch(a){console.error("Error loading data.",a),j("Error loading data. Please reload the page.",{autoHideDuration:null,action:o.jsx(x,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),i(!1),f(!0)}},[r,t,n]);return e.useEffect(()=>{s()},[s]),e.useMemo(()=>({loading:c,data:l,error:u,refresh:s}),[l,u,s,c])}export{R as L,b as u};
