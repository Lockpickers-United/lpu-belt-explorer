import{Y as re,Z as oe,$ as ce,a0 as de,j as e,u as L,R as D,r as p,a7 as Z,A as he,ak as Y,au as xe,W as K,U as Q,D as pe,N as me,h as ge,T as ue}from"./index-1-4DE_pP.js";import{L as be}from"./LoadingDisplay-DHkqkWF0.js";import{u as fe}from"./useData-WMhdmbto.js";import{u as ye}from"./usePageTitle-DMkWIZj6.js";import{L as je}from"./LockViewsLine-D3vGEKvF.js";import{c as N,d as H,T as _,a as M,b as u,e as z}from"./TableRow-Dg7_dWmu.js";import{P as ve}from"./PhotoCamera-BpKpGemC.js";import{C as Se}from"./ChoiceButtonGroup-C6cvB1O3.js";import{X as U}from"./nivo-bar-B-ng8g_P.js";import{p as q,b as V,l as ke,a as X,c as se}from"./chartDefaults-pV7GKcxU.js";import{y as we}from"./nivo-line-DMz56ZNP.js";import{_ as $,N as Le,a as Ce,l as Be}from"./lockStats-X6aYPPNU.js";import{F as ie,I as ae,S as le}from"./Select-BoUI-E1h.js";import{P as We,a as Ae}from"./PlatformBeltCountsTable-BDoTLbBW.js";import{a as Me,d as Re,p as Te,s as Ie,b as De,e as Pe,c as Oe,f as Fe}from"./dataUrls-DkJe4Pqg.js";import{E as Ne}from"./ErrorMessage-CB9wSlmg.js";import"./LPU-DltM2OBF.js";import"./LinearProgress-CiRdMr9u.js";import"./ToggleButtonGroup-uRCTuVvZ.js";import"./nivo-axes-e6WaOsft.js";import"./nivo-legends-DUzqXDVP.js";import"./uniq-CLDFm413.js";import"./_baseClone-BuXXTlsu.js";import"./line-CWaMdR55.js";import"./nivo-arcs-DAKWIess.js";import"./BeltIcon-ClFJHADD.js";var F={},ee;function He(){if(ee)return F;ee=1;var t=re();Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var s=t(oe()),i=ce();return F.default=(0,s.default)((0,i.jsx)("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4z"}),"SsidChart"),F}var ze=He();const Ue=de(ze),J=({tableData:t})=>{const s={padding:"0px",fontWeight:700,backgroundColor:"#000"},i={border:0,padding:"4px 8px 0px 0px",fontWeight:400};return e.jsx(N,{id:"dailyAverages",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(H,{children:[e.jsx(_,{children:e.jsx(M,{children:e.jsx(u,{colSpan:2,style:s,children:t.description})})}),e.jsx(z,{children:t.data.map((a,n)=>e.jsxs(M,{index:n,children:[e.jsx(u,{style:i,children:a.label},n+1),e.jsx(u,{style:i,sx:{textAlign:"left"},children:a.value.toLocaleString()})]},n))})]})})};function Ve({data:t}){const{width:s}=L(),i=s<500,a=s<700,n=a?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},r=a?"26px":"10px",{lockStats:{lockCounts:o},siteFullNew:{dailyAverages:h,totals:l}}=t;return e.jsxs("div",{style:n,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 26px",minWidth:"180px",maxWidth:"306px",height:140},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(Ue,{style:{fontSize:"x-large"}})}),e.jsx(J,{tableData:h})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${r}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:l})}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${r}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:o})})]})}function qe({data:t}){const{width:s}=L(),i=s<500,a=s<700,n=a?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},r=i?"32px":"10px",o=a?255:155,h=a?330:360,l={padding:"0px",fontWeight:700,backgroundColor:"#000"},x={border:0,padding:"4px 8px 0px 0px",fontWeight:400},j={border:0,padding:"4px 8px 0px 0px",fontWeight:700},{photoSegments:d,topPhotographers:c,uniqueImages:S,contributors:g}=t.lockStats.photoStats;return e.jsx(D.Fragment,{children:e.jsxs("div",{style:n,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 32px",minWidth:"300px",maxWidth:h,height:230},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(ve,{style:{fontSize:"x-large"}})}),e.jsx(N,{id:"photoStats",style:{padding:"0px 0px 0px 4px",maxWidth:"240px"},children:e.jsx(H,{children:e.jsxs(z,{children:[e.jsxs(M,{index:1,children:[e.jsx(u,{style:j,sx:{maxWidth:108},children:"Unique Images"},"images"),e.jsx(u,{style:j,children:S},"imageCount")]},1),e.jsxs(M,{index:2,children:[e.jsx(u,{style:j,sx:{maxWidth:108},children:"Individual Contributors"},"contribs"),e.jsx(u,{style:j,children:g},"contribCount")]},2)]})})}),e.jsx("div",{style:{height:16}}),e.jsx(N,{id:"areaList",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(H,{children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:l,children:"Segment"}),e.jsx(u,{style:l,sx:{textAlign:"center"},children:"Count"}),e.jsx(u,{style:l,sx:{textAlign:"center"},children:"w/Media"}),e.jsx(u,{style:l,sx:{textAlign:"center"},children:"Coverage"})]})}),e.jsx(z,{children:d.map((m,f)=>e.jsxs(M,{index:f,children:[e.jsx(u,{style:x,children:m.segment},f+1),e.jsx(u,{style:x,sx:{textAlign:"center"},children:m.count}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:m.media}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:m.coverage})]},f))})]})})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,margin:`10px 0px 0px ${r}`,minWidth:"260px",maxWidth:"330px",height:230},children:e.jsx(N,{sx:{height:200,backgroundColor:"#111",marginLeft:"auto",marginRight:"auto",width:{leaderboardWidth:o}},children:e.jsxs(H,{stickyHeader:!0,children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:l,children:"Top Contributors"}),e.jsx(u,{style:l,sx:{textAlign:"center"},children:"Images"})]})}),e.jsx(z,{children:c.map((m,f)=>e.jsxs(M,{children:[e.jsxs(u,{style:x,sx:{},children:["  ",m.contributor]}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:m.images})]},f))})]})})})]})})}const Ge=({beltDistribution:t})=>{const{width:s}=L(),i=s<500,n=s<700?i?275:325:350,r=i?{top:30,right:5,bottom:55,left:48}:{top:30,right:20,bottom:30,left:50},o=i?-45:0;return e.jsx("div",{style:{height:n},children:e.jsx(U,{data:t,maxValue:.2,margin:r,padding:.15,colors:h=>V[h.index%V.length],animate:!0,enableLabel:!1,axisBottom:{tickRotation:o},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},enableGridY:!1,theme:q,isInteractive:!1})})};function Ee({data:t}){const s=p.useMemo(()=>{const{lockStats:{locksByBelt:r},siteFullNew:{lockViewsByBelt:o},collectionsStatsCurrent:h}=t,l=[...Z,"Unranked"].map(x=>({label:x,id:x,...h.allUsers.savesByBelt[x]}));return[{label:"Site Views",data:o.data},{label:"Locks",data:r},{label:"Collection Saves",data:l}]},[t]),[i,a]=p.useState(s[0]),n=p.useCallback(r=>a(r),[]);return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(Se,{options:s,onChange:n}),e.jsx(Ge,{beltDistribution:i.data})]})}function Ye({data:t}){const{redditGrowth:s}=t,{width:i}=L(),a=i<500,r=i<700?a?220:300:350,o=a?2:3,h=s.map(l=>({total:Object.keys(l).reduce((j,d)=>d==="date"?j:+l[d]+j,0)}));return e.jsxs("div",{style:{height:r},children:[e.jsx(U,{data:s,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],indexBy:"date",groupMode:"stacked",margin:{top:10,right:20,bottom:50,left:55},padding:.1,innerPadding:.5,borderRadius:o,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:8e3,theme:q,colors:V,animate:!0,enableLabel:!0,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0}),e.jsx("div",{style:{height:30,marginTop:-20},children:e.jsx(U,{data:h,indexBy:"total",margin:{top:10,right:20,bottom:40,left:55},maxValue:0,theme:ke,axisLeft:null,enableGridY:!1,enableGridX:!1,animate:!0,isInteractive:!1})})]})}function _e({data:t,lockCollection:s,userText:i,collectionBarHeight:a}){const{isLoggedIn:n}=p.useContext(he),r={aveOwn:t.collectionsStatsCurrent.allUsers.listStats.own.averageSaves,maxOwn:t.collectionsStatsCurrent.allUsers.listStats.own.maxSaves,avePicked:t.collectionsStatsCurrent.allUsers.listStats.picked.averageSaves,maxPicked:t.collectionsStatsCurrent.allUsers.listStats.picked.maxSaves,aveRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.averageSaves,maxRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.maxSaves,aveWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.averageSaves,maxWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.maxSaves,aveScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.averageSaves,maxScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.maxSaves},o=s.own?s.own.length:0,h=s.picked?s.picked.length:0,l=s.recordedLocks?s.recordedLocks.length:0,x=s.wishlist?s.wishlist.length:0,d=o+h+l+x?{own:o,picked:h,scorecard:l,wishlist:x}:{own:0,picked:0,scorecard:0,wishlist:0},c={own:r.aveOwn,picked:r.avePicked,scorecard:r.aveScorecard,wishlist:r.aveWishlist},S={own:r.maxOwn,picked:r.maxPicked,scorecard:r.maxScorecard,wishlist:r.maxWishlist},g={own:Math.min(c.own,d.own),picked:Math.min(c.picked,d.picked),scorecard:Math.min(c.scorecard,d.scorecard),wishlist:Math.min(c.wishlist,d.wishlist)},m={own:d.own>c.own?0:c.own-g.own,picked:d.picked>c.picked?0:c.picked-g.picked,scorecard:d.scorecard>c.scorecard?0:c.scorecard-g.scorecard,wishlist:d.wishlist>c.wishlist?0:c.wishlist-g.wishlist},f={own:2,picked:2,scorecard:2,wishlist:2},I={own:Math.max(d.own-(g.own+m.own+f.own),0),picked:Math.max(d.picked-(g.picked+m.picked+f.picked),0),scorecard:Math.max(d.scorecard-(g.scorecard+m.scorecard+f.scorecard),0),wishlist:Math.max(d.wishlist-(g.wishlist+m.wishlist+f.wishlist),0)},b={own:Math.min(S.own-d.own,S.own-c.own-f.own),picked:Math.min(S.picked-d.picked,S.picked-c.picked-f.picked),scorecard:Math.min(S.scorecard-d.scorecard,S.scorecard-c.scorecard-f.scorecard),wishlist:Math.min(S.wishlist-d.wishlist,S.wishlist-c.wishlist-f.wishlist)},y=["own","picked","scorecard","wishlist"],W=y.map((B,R)=>({row:y[R],"Average A":g[B],"Average B":m[B],Average:f[B],USER:I[B],"Top 10":b[B]})),{width:k}=L(),A=k<=560,P=a,G=A?{top:10,right:20,bottom:50,left:55}:{top:10,right:20,bottom:50,left:55},C=["#3c90c5","#aaa","#000","#3c90c5","#aaa"],w=n&&s?[{title:i,color:"#3c90c5",width:"14px"}]:[];w.push({title:"Average",color:"#000",width:"35px"},{title:"Max",color:"#aaaaaa",width:"120px"});const O=({items:B})=>e.jsxs("div",{className:"chart-legend",style:{display:"flex",fontSize:".9rem",color:"#ddd",marginTop:13},children:[e.jsx("div",{style:{width:"100%"}}),B.map(R=>e.jsxs("div",{style:{display:"flex",padding:"0px 18px 24px 18px"},children:[e.jsx("div",{style:{backgroundColor:R.color,height:15,width:15,margin:"2px 6px 0px 0px",border:"1px solid #555"}}),e.jsx("div",{style:{textAlign:"left",width:R.width},children:R.title})]},R.title)),e.jsx("div",{style:{width:"100%"}})]});return e.jsxs(D.Fragment,{children:[e.jsx("div",{style:{height:P},children:e.jsx(U,{data:W,keys:["Average A","Average B","Average","USER","Top 10"],theme:q,indexBy:"row",margin:G,padding:.2,valueScale:{type:"linear"},colors:C,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:"00",legend:"Saves",legendPosition:"middle",legendOffset:-45,legendOpacity:.9},enableGridY:!1,isInteractive:!1,animate:!1})}),e.jsx(O,{items:w})]})}const E=({dataset:t,title:s})=>{const i={border:0,padding:"4px 8px 0px 0px",fontWeight:400,textOverflow:"ellipsis"};return e.jsxs("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,align:"center",margin:"0px 15px 16px 15px",width:300,height:490,marginLeft:"auto",marginRight:"auto"},children:[e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,width:"100%",textAlign:"left",marginBottom:10,paddingLeft:6},children:s}),e.jsx(N,{id:"areaList",sx:{height:420,backgroundColor:"#111",margin:"auto"},children:e.jsxs(H,{stickyHeader:!0,children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:{padding:"4px 10px 4px 12px",fontWeight:700,textAlign:"right"},children:"#"}),e.jsx(u,{style:{padding:"4px 0px",fontWeight:700},children:"Lock"})]})}),e.jsx(z,{children:t.map((a,n)=>e.jsxs(M,{index:n,children:[e.jsx(u,{style:i,sx:{textAlign:"right",padding:"0px",width:34,verticalAlign:"top"},children:n+1},n+1),e.jsx(u,{style:i,sx:{textOverflow:"ellipsis"},children:a.name},a.name)]},n))})]})})]})};function Xe({data:t}){const s=t.collectionsStatsCurrent.allUsers.listStats.own.topItems,i=t.collectionsStatsCurrent.allUsers.listStats.picked.topItems,a=t.collectionsStatsCurrent.allUsers.listStats.wishlist.topItems,n=t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.topItems.slice(0,25),{width:r}=L(),o=r<=560,x={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...o?{}:{display:"flex"}};return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:x,children:[e.jsx(E,{dataset:s,title:"Owned"}),e.jsx(E,{dataset:i,title:"Picked"})]}),e.jsxs("div",{style:x,children:[e.jsx(E,{dataset:a,title:"Wishlist"}),e.jsx(E,{dataset:n,title:"Scorecard"})]})]})}function $e({data:t}){const{hourlyRequests:s}=t.siteFullNew,{width:i}=L(),a=i<=360,n=i<=395,r=i<=560,o=a?230:n?270:r?290:350,h=r?["midnight","2 am","4 am","6 am","8 am","10 am","noon","2 pm","4 pm","6 pm","8 pm","10 pm"]:["midnight","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","noon","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"];return e.jsx("div",{style:{height:o},children:e.jsx(we,{theme:Ze,data:s,colors:["#007de2","#16325d"],lineWidth:3,margin:{top:10,right:20,bottom:70,left:58},curve:"natural",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.0f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},axisBottom:{tickValues:h,tickSize:5,tickPadding:5,tickRotation:-45,direction:"row"},legends:[{anchor:"bottom",itemTextColor:"#ddd",text:{fontSize:18},direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})}const Je={grid:{line:{stroke:"#333",strokeWidth:1}}},Ze={...q,...Je},te=({dataset:t,pieColors:s})=>{const{width:i}=L(),a=i<=360,n=i<=395,r=i<=428,o=i<=560,h=o?{top:20,right:50,bottom:20,left:80}:{top:-50,right:50,bottom:20,left:80};let l=320;a?l=165:n?l=180:r?l=230:o&&(l=240);const x=o?6:4,j=o?4:0,d=o?4:8;return e.jsx("div",{style:{height:l,padding:"0px 8px 0px 8px",width:"100%",backgroundColor:"#000"},children:e.jsx($,{data:t,theme:X,colors:s,margin:h,startAngle:-45,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:x,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:c=>c.label,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:d,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:j,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")};function Ke({data:t}){const{trafficTotals:{platform:s,browser:i}}=t.siteFullNew,a=["#007de2","#0367ba","#005ba0","#004fa4","#063b87","#062f6b"],n=["#c34100","#b33600","#a02d01","#7d2900","#6a2200","#621d00","#581d00"],{width:r}=L(),o=r<=560,x={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...o?{}:{display:"flex"}};return e.jsx(D.Fragment,{children:e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:x,children:[e.jsx(te,{dataset:s,pieColors:a}),e.jsx(te,{dataset:i,pieColors:n})]})})})}function Qe({beltData:t}){const{width:s}=L(),i=s<=360,a=s<=560,n=i?170:a?200:180,r=50,o=a?{top:0,right:20,bottom:r,left:20}:{top:0,right:10,bottom:r,left:10},h=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#ddd"];return e.jsx("div",{style:{height:n,padding:"0px 8px 0px 8px",width:"100%"},children:e.jsx(U,{data:t,margin:o,padding:.15,colors:l=>V[l.index%V.length],animate:!0,axisBottom:{tickRotation:-45},axisLeft:null,enableGridY:!1,theme:q,isInteractive:!1,enableLabel:!0,label:l=>l.data.count,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:l=>h[l.index%h.length]})},"bar")}function et({beltData:t}){const{width:s}=L(),i=s<=360,a=s<=395,n=s<=428,r=s<=560,o={top:12,right:40,bottom:20,left:40},h=i?120:a?140:n||r?180:120,l=r?5:4,x=r?10:8,j=r?0:8,d=["#949494","#6b6b6b","#565656","#3e3e3e","#333333","#2a2a2a"];return e.jsx("div",{style:{height:h,padding:"0px 0px 0px 0px",width:"100%",backgroundColor:"#000"},children:e.jsx($,{data:t,theme:X,colors:d,margin:o,startAngle:-90,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:l,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:c=>c.label,arcLinkLabelsDiagonalLength:6,arcLinkLabelsStraightLength:j,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:x,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")}function tt({data:t}){const{brandBelts:s,brandMechanisms:i}=t.brandDistribution,a=s.map(v=>v.brandName),[n,r]=p.useState(2),[o,h]=p.useState(s[n].brandName),l=i.map(v=>v.brandName),[x,j]=p.useState(2),d=s[n].data,c=i[x].data,[S,g]=p.useState(!1),m=p.useCallback(()=>g(!1),[]),f=p.useCallback(()=>g(!0),[]),I=p.useCallback(v=>{r(a.findIndex(T=>T===v.target.value)),j(l.findIndex(T=>T===v.target.value)),h(v.target.value),m(),document.getElementById("brandPulldown").classList.remove("active"),document.getElementById("brandSelect").classList.remove("active")},[a,l,m]),{width:b}=L(),y=b<=360,W=b<=395,k=b<=428,A=b<=560,P=A?10:20,w={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...A?{}:{display:"flex"}},O=A?"100%":"55%",B=A?"100%":"45%",R=y?200:A?210:180,ne=y||W?120:k?170:A?180:160;return e.jsxs(D.Fragment,{children:[e.jsx("div",{style:{marginTop:24,textAlign:"center"},children:e.jsxs(ie,{id:"brandPulldown",size:"small",style:{marginBottom:P,minWidth:200,textAlign:"left"},children:[e.jsx(ae,{children:"Brand"}),e.jsx(le,{id:"brandSelect",value:o,label:"Brand",open:S,onClose:m,onOpen:f,onChange:I,style:{fontWeight:700,color:"#eee"},children:a.map((v,T)=>v==="Top Brands"&&e.jsx(Y,{disabled:!0,value:v,children:v},T)||v==="All Brands"&&e.jsx(Y,{disabled:!0,value:v,children:v},T)||v==="divider"&&e.jsx(xe,{},T)||e.jsx(Y,{value:v,children:v},T))})]})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:w,children:[e.jsx("div",{style:{width:O,verticalAlign:"top",height:R},children:e.jsx(Qe,{beltData:d,brandName:o})}),e.jsx("div",{style:{width:B,height:ne},children:e.jsx(et,{beltData:c,brandName:o})})]})})]})}function st({data:t,belt:s}){const{pickStatsData:i}=t,a=Object.keys(i.byBeltByMechanism).reduce((b,y)=>(b[y]=Object.keys(i.byBeltByMechanism[y]).reduce((W,k)=>(W.push({id:k,label:k,value:i.byBeltByMechanism[y][k]}),W),[]),b),{}),n=Object.keys(i.byMechanism).map(b=>({id:b,label:b,value:i.byMechanism[b]})),r=p.useMemo(()=>["All Belts",...Z],[]),o=p.useMemo(()=>{const b={...a,"All Belts":n},y=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return b[r[s]].sort((W,k)=>y.indexOf(W.label)-y.indexOf(k.label))},[a,n,r,s]),h=p.useMemo(()=>o.reduce((b,y)=>b+y.value,0),[o]),{width:l}=L(),x=l<=360,j=l<=395,d=l<=428,c=l<=560,S={top:30,right:0,bottom:30,left:0};let g=320;x?g=145:j?g=180:d?g=230:c&&(g=240);const m=c?5:4,f=c?10:8,I=c?0:8;return e.jsx(D.Fragment,{children:e.jsxs("div",{style:{height:g,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx($,{data:o,theme:X,colors:se,margin:S,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:m,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:b=>b.label+": "+Math.round(b.value/h*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:I,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:f,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:g/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Picks"})]},"pickPie")})}function it({data:t}){const{lockingMechanismsByBelt:s,lockingMechanisms:i}=t.lockStats,a=p.useMemo(()=>["All Belts",...Z],[]),[n,r]=p.useState(0),o=p.useCallback(()=>{r(n<a.length-1?n+1:0)},[n,a.length]),h=p.useCallback(()=>{r(n>0?n-1:a.length-1)},[n,a.length]),l=p.useMemo(()=>{const C={...s,"All Belts":i},w=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return C[a[n]].sort((O,B)=>w.indexOf(O.label)-w.indexOf(B.label))},[s,i,a,n]),x=p.useMemo(()=>l.reduce((C,w)=>C+w.value,0),[l]),[j,d]=p.useState(!1),c=p.useCallback(()=>d(!1),[]),S=p.useCallback(()=>d(!0),[]),g=p.useCallback(C=>{r(a.findIndex(w=>w===C.target.value)),c()},[c,a]),{width:m}=L(),f=m<=360,I=m<=395,b=m<=428,y=m<=560,W={top:30,right:0,bottom:30,left:0};let k=320;f?k=145:I?k=180:b?k=230:y&&(k=240);const A=y?5:4,P=y?10:8,G=y?0:8;return e.jsxs(D.Fragment,{children:[e.jsx("div",{style:{marginBottom:10,display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{padding:"0px",width:220,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(K,{title:"Previous Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Q,{onClick:h,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(Le,{})})}),e.jsx("div",{style:{padding:"0px",display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"},children:e.jsxs(ie,{id:"beltPulldown",size:"small",variant:"outlined",style:{marginBottom:0,width:140},children:[e.jsx(ae,{style:{color:"#bbb"},children:"Belt"}),e.jsx(le,{id:"beltSelect",value:a[n],label:"Brand",open:j,onClose:c,onOpen:S,onChange:g,style:{fontWeight:700,color:"#eee",fontSize:"1.1rem"},children:a.map((C,w)=>e.jsx(Y,{value:a[w],children:a[w]},w))})]})}),e.jsx(K,{title:"Next Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Q,{onClick:o,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(Ce,{})})})]})}),e.jsxs("div",{style:{height:k,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx($,{data:l,theme:X,colors:se,margin:W,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:A,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:C=>C.label+": "+Math.round(C.value/x*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:G,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:P,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:k/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Locks"})]},"lockPie"),e.jsx(st,{data:t,belt:n})]})}function at({data:t}){const{lockCollection:s}=p.useContext(pe),{width:i,flexStyle:a}=L(),n=i<=360,r=i<560,o=r?"8px 8px 32px 8px":"24px 24px 32px 24px",h=r?n?200:230:320,l={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},x={margin:"0px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return e.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:o,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem"},children:[e.jsx("div",{style:x,role:"heading","aria-label":"Site Stats",children:"Site Stats"}),e.jsx(Ve,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Weekly Lock Views"}),e.jsx(je,{data:t.siteFullNew}),e.jsx("div",{style:l,role:"heading",children:"Photo Stats"}),e.jsx(qe,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Belt Distribution"}),e.jsx(Ee,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Brand Lock Distribution"}),e.jsx(tt,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Locking Mechanisms By Belt"}),e.jsx(it,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Discord & Reddit Belt Distribution"}),e.jsxs("div",{style:{display:a,marginTop:0,justifyItems:"center",backgroundColor:"#000"},children:[e.jsx(We,{data:t}),e.jsx(Ae,{data:t})]}),e.jsx("div",{style:l,role:"heading",children:"Reddit Belts Over Time"}),e.jsx(Ye,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Collection Stats"}),e.jsx(_e,{data:t,lockCollection:s,userText:"You",collectionBarHeight:h}),e.jsx("div",{style:l,role:"heading",children:"Collections Top Locks"}),e.jsx(Xe,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Hourly Traffic"}),e.jsx($e,{data:t}),e.jsx("div",{style:l,role:"heading",children:"Visits by Platform & Browser"}),e.jsx(Ke,{data:t})]})}function Tt(){ye("Stats & Insights");const{data:t,loading:s,error:i,errorMessage:a}=fe({urls:lt});return e.jsxs(D.Fragment,{children:[e.jsx(me,{title:"Stats & Insights"}),i&&e.jsx(Ne,{errorMessage:a}),s&&e.jsx(be,{}),!s&&!i&&!!t&&e.jsx(at,{data:{...t,lockStats:Be}}),e.jsx(ge,{}),e.jsx(ue,{feature:"stats"})]})}const lt={brandDistribution:Fe,collectionsStatsCurrent:Oe,popularAreas:Pe,redditGrowth:De,siteFullNew:Ie,pickStatsData:Te,discordBeltCounts:Re,redditBeltCounts:Me};export{Tt as default};
