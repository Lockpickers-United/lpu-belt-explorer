import{U as wt,r as y,j as D}from"./index-KEgOPFng.js";import{a as kt,aK as St,c as de,aL as Tt,aM as jt,N as it,aN as It,x as sn,p as ot,q as rt,O as lt,t as Et,I as Bt,w as Dt,aO as Yn,v as Lt,z as Pn,aP as At,aQ as Ft,T as Pt,C as Xn,G as Wt,H as qn,aR as $t,aS as Gt,aT as st,F as at,n as ut,S as Ot,u as Ut,L as Ht,Q as zt,P as Rt}from"./nivo-legends-DXx_9nXf.js";import{R as Vt,C as Yt,l as Xt,W as Nn,E as qt}from"./nivo-axes-Bj-Te_6x.js";import{w as Nt,x as Kt,y as Qt,F as ct}from"./line-CXvI4br8.js";function Jt(e,n,t){var o=null,i=de(!0),r=null,l=St,s=null,a=Nt(c);e=typeof e=="function"?e:e===void 0?Kt:de(+e),n=typeof n=="function"?n:n===void 0?de(0):de(+n),t=typeof t=="function"?t:t===void 0?Qt:de(+t);function c(u){var h,d,v,g=(u=kt(u)).length,m,b=!1,_,w=new Array(g),k=new Array(g);for(r==null&&(s=l(_=a())),h=0;h<=g;++h){if(!(h<g&&i(m=u[h],h,u))===b)if(b=!b)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=d;--v)s.point(w[v],k[v]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+e(m,h,u),k[h]=+n(m,h,u),s.point(o?+o(m,h,u):w[h],t?+t(m,h,u):k[h]))}if(_)return s=null,_+""||null}function f(){return ct().defined(i).curve(l).context(r)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:de(+u),o=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:de(+u),c):e},c.x1=function(u){return arguments.length?(o=u==null?null:typeof u=="function"?u:de(+u),c):o},c.y=function(u){return arguments.length?(n=typeof u=="function"?u:de(+u),t=null,c):n},c.y0=function(u){return arguments.length?(n=typeof u=="function"?u:de(+u),c):n},c.y1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:de(+u),c):t},c.lineX0=c.lineY0=function(){return f().x(e).y(n)},c.lineY1=function(){return f().x(e).y(t)},c.lineX1=function(){return f().x(o).y(n)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:de(!!u),c):i},c.curve=function(u){return arguments.length?(l=u,r!=null&&(s=l(r)),c):l},c.context=function(u){return arguments.length?(u==null?r=s=null:s=l(r=u),c):r},c}var Dn,Kn;function Zt(){if(Kn)return Dn;Kn=1;var e=Tt(),n=0;function t(o){var i=++n;return e(o)+i}return Dn=t,Dn}var ei=Zt();const ni=wt(ei),De=11102230246251565e-32,ee=134217729,ti=(3+8*De)*De;function Ln(e,n,t,o,i){let r,l,s,a,c=n[0],f=o[0],u=0,h=0;f>c==f>-c?(r=c,c=n[++u]):(r=f,f=o[++h]);let d=0;if(u<e&&h<t)for(f>c==f>-c?(l=c+r,s=r-(l-c),c=n[++u]):(l=f+r,s=r-(l-f),f=o[++h]),r=l,s!==0&&(i[d++]=s);u<e&&h<t;)f>c==f>-c?(l=r+c,a=l-r,s=r-(l-a)+(c-a),c=n[++u]):(l=r+f,a=l-r,s=r-(l-a)+(f-a),f=o[++h]),r=l,s!==0&&(i[d++]=s);for(;u<e;)l=r+c,a=l-r,s=r-(l-a)+(c-a),c=n[++u],r=l,s!==0&&(i[d++]=s);for(;h<t;)l=r+f,a=l-r,s=r-(l-a)+(f-a),f=o[++h],r=l,s!==0&&(i[d++]=s);return(r!==0||d===0)&&(i[d++]=r),d}function ii(e,n){let t=n[0];for(let o=1;o<e;o++)t+=n[o];return t}function an(e){return new Float64Array(e)}const oi=(3+16*De)*De,ri=(2+12*De)*De,li=(9+64*De)*De*De,Ne=an(4),Qn=an(8),Jn=an(12),Zn=an(16),ie=an(4);function si(e,n,t,o,i,r,l){let s,a,c,f,u,h,d,v,g,m,b,_,w,k,L,M,P,A;const x=e-i,I=t-i,S=n-r,B=o-r;k=x*B,h=ee*x,d=h-(h-x),v=x-d,h=ee*B,g=h-(h-B),m=B-g,L=v*m-(k-d*g-v*g-d*m),M=S*I,h=ee*S,d=h-(h-S),v=S-d,h=ee*I,g=h-(h-I),m=I-g,P=v*m-(M-d*g-v*g-d*m),b=L-P,u=L-b,Ne[0]=L-(b+u)+(u-P),_=k+b,u=_-k,w=k-(_-u)+(b-u),b=w-M,u=w-b,Ne[1]=w-(b+u)+(u-M),A=_+b,u=A-_,Ne[2]=_-(A-u)+(b-u),Ne[3]=A;let $=ii(4,Ne),O=ri*l;if($>=O||-$>=O||(u=e-x,s=e-(x+u)+(u-i),u=t-I,c=t-(I+u)+(u-i),u=n-S,a=n-(S+u)+(u-r),u=o-B,f=o-(B+u)+(u-r),s===0&&a===0&&c===0&&f===0)||(O=li*l+ti*Math.abs($),$+=x*f+B*s-(S*c+I*a),$>=O||-$>=O))return $;k=s*B,h=ee*s,d=h-(h-s),v=s-d,h=ee*B,g=h-(h-B),m=B-g,L=v*m-(k-d*g-v*g-d*m),M=a*I,h=ee*a,d=h-(h-a),v=a-d,h=ee*I,g=h-(h-I),m=I-g,P=v*m-(M-d*g-v*g-d*m),b=L-P,u=L-b,ie[0]=L-(b+u)+(u-P),_=k+b,u=_-k,w=k-(_-u)+(b-u),b=w-M,u=w-b,ie[1]=w-(b+u)+(u-M),A=_+b,u=A-_,ie[2]=_-(A-u)+(b-u),ie[3]=A;const T=Ln(4,Ne,4,ie,Qn);k=x*f,h=ee*x,d=h-(h-x),v=x-d,h=ee*f,g=h-(h-f),m=f-g,L=v*m-(k-d*g-v*g-d*m),M=S*c,h=ee*S,d=h-(h-S),v=S-d,h=ee*c,g=h-(h-c),m=c-g,P=v*m-(M-d*g-v*g-d*m),b=L-P,u=L-b,ie[0]=L-(b+u)+(u-P),_=k+b,u=_-k,w=k-(_-u)+(b-u),b=w-M,u=w-b,ie[1]=w-(b+u)+(u-M),A=_+b,u=A-_,ie[2]=_-(A-u)+(b-u),ie[3]=A;const p=Ln(T,Qn,4,ie,Jn);k=s*f,h=ee*s,d=h-(h-s),v=s-d,h=ee*f,g=h-(h-f),m=f-g,L=v*m-(k-d*g-v*g-d*m),M=a*c,h=ee*a,d=h-(h-a),v=a-d,h=ee*c,g=h-(h-c),m=c-g,P=v*m-(M-d*g-v*g-d*m),b=L-P,u=L-b,ie[0]=L-(b+u)+(u-P),_=k+b,u=_-k,w=k-(_-u)+(b-u),b=w-M,u=w-b,ie[1]=w-(b+u)+(u-M),A=_+b,u=A-_,ie[2]=_-(A-u)+(b-u),ie[3]=A;const C=Ln(p,Jn,4,ie,Zn);return Zn[C-1]}function xn(e,n,t,o,i,r){const l=(n-r)*(t-i),s=(e-i)*(o-r),a=l-s,c=Math.abs(l+s);return Math.abs(a)>=oi*c?a:-si(e,n,t,o,i,r,c)}const et=Math.pow(2,-52),Mn=new Uint32Array(512);class _n{static from(n,t=di,o=fi){const i=n.length,r=new Float64Array(i*2);for(let l=0;l<i;l++){const s=n[l];r[2*l]=t(s),r[2*l+1]=o(s)}return new _n(r)}constructor(n){const t=n.length>>1;if(t>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const o=Math.max(2*t-5,0);this._triangles=new Uint32Array(o*3),this._halfedges=new Int32Array(o*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:n,_hullPrev:t,_hullNext:o,_hullTri:i,_hullHash:r}=this,l=n.length>>1;let s=1/0,a=1/0,c=-1/0,f=-1/0;for(let x=0;x<l;x++){const I=n[2*x],S=n[2*x+1];I<s&&(s=I),S<a&&(a=S),I>c&&(c=I),S>f&&(f=S),this._ids[x]=x}const u=(s+c)/2,h=(a+f)/2;let d,v,g;for(let x=0,I=1/0;x<l;x++){const S=An(u,h,n[2*x],n[2*x+1]);S<I&&(d=x,I=S)}const m=n[2*d],b=n[2*d+1];for(let x=0,I=1/0;x<l;x++){if(x===d)continue;const S=An(m,b,n[2*x],n[2*x+1]);S<I&&S>0&&(v=x,I=S)}let _=n[2*v],w=n[2*v+1],k=1/0;for(let x=0;x<l;x++){if(x===d||x===v)continue;const I=ci(m,b,_,w,n[2*x],n[2*x+1]);I<k&&(g=x,k=I)}let L=n[2*g],M=n[2*g+1];if(k===1/0){for(let S=0;S<l;S++)this._dists[S]=n[2*S]-n[0]||n[2*S+1]-n[1];Qe(this._ids,this._dists,0,l-1);const x=new Uint32Array(l);let I=0;for(let S=0,B=-1/0;S<l;S++){const $=this._ids[S],O=this._dists[$];O>B&&(x[I++]=$,B=O)}this.hull=x.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(xn(m,b,_,w,L,M)<0){const x=v,I=_,S=w;v=g,_=L,w=M,g=x,L=I,M=S}const P=hi(m,b,_,w,L,M);this._cx=P.x,this._cy=P.y;for(let x=0;x<l;x++)this._dists[x]=An(n[2*x],n[2*x+1],P.x,P.y);Qe(this._ids,this._dists,0,l-1),this._hullStart=d;let A=3;o[d]=t[g]=v,o[v]=t[d]=g,o[g]=t[v]=d,i[d]=0,i[v]=1,i[g]=2,r.fill(-1),r[this._hashKey(m,b)]=d,r[this._hashKey(_,w)]=v,r[this._hashKey(L,M)]=g,this.trianglesLen=0,this._addTriangle(d,v,g,-1,-1,-1);for(let x=0,I,S;x<this._ids.length;x++){const B=this._ids[x],$=n[2*B],O=n[2*B+1];if(x>0&&Math.abs($-I)<=et&&Math.abs(O-S)<=et||(I=$,S=O,B===d||B===v||B===g))continue;let T=0;for(let X=0,oe=this._hashKey($,O);X<this._hashSize&&(T=r[(oe+X)%this._hashSize],!(T!==-1&&T!==o[T]));X++);T=t[T];let p=T,C;for(;C=o[p],xn($,O,n[2*p],n[2*p+1],n[2*C],n[2*C+1])>=0;)if(p=C,p===T){p=-1;break}if(p===-1)continue;let W=this._addTriangle(p,B,o[p],-1,-1,i[p]);i[B]=this._legalize(W+2),i[p]=W,A++;let U=o[p];for(;C=o[U],xn($,O,n[2*U],n[2*U+1],n[2*C],n[2*C+1])<0;)W=this._addTriangle(U,B,C,i[B],-1,i[U]),i[B]=this._legalize(W+2),o[U]=U,A--,U=C;if(p===T)for(;C=t[p],xn($,O,n[2*C],n[2*C+1],n[2*p],n[2*p+1])<0;)W=this._addTriangle(C,B,p,-1,i[p],i[C]),this._legalize(W+2),i[C]=W,o[p]=p,A--,p=C;this._hullStart=t[B]=p,o[p]=t[U]=B,o[B]=U,r[this._hashKey($,O)]=B,r[this._hashKey(n[2*p],n[2*p+1])]=p}this.hull=new Uint32Array(A);for(let x=0,I=this._hullStart;x<A;x++)this.hull[x]=I,I=o[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,t){return Math.floor(ai(n-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:t,_halfedges:o,coords:i}=this;let r=0,l=0;for(;;){const s=o[n],a=n-n%3;if(l=a+(n+2)%3,s===-1){if(r===0)break;n=Mn[--r];continue}const c=s-s%3,f=a+(n+1)%3,u=c+(s+2)%3,h=t[l],d=t[n],v=t[f],g=t[u];if(ui(i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*v],i[2*v+1],i[2*g],i[2*g+1])){t[n]=g,t[s]=h;const b=o[u];if(b===-1){let w=this._hullStart;do{if(this._hullTri[w]===u){this._hullTri[w]=n;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(n,b),this._link(s,o[l]),this._link(l,u);const _=c+(s+1)%3;r<Mn.length&&(Mn[r++]=_)}else{if(r===0)break;n=Mn[--r]}}return l}_link(n,t){this._halfedges[n]=t,t!==-1&&(this._halfedges[t]=n)}_addTriangle(n,t,o,i,r,l){const s=this.trianglesLen;return this._triangles[s]=n,this._triangles[s+1]=t,this._triangles[s+2]=o,this._link(s,i),this._link(s+1,r),this._link(s+2,l),this.trianglesLen+=3,s}}function ai(e,n){const t=e/(Math.abs(e)+Math.abs(n));return(n>0?3-t:1+t)/4}function An(e,n,t,o){const i=e-t,r=n-o;return i*i+r*r}function ui(e,n,t,o,i,r,l,s){const a=e-l,c=n-s,f=t-l,u=o-s,h=i-l,d=r-s,v=a*a+c*c,g=f*f+u*u,m=h*h+d*d;return a*(u*m-g*d)-c*(f*m-g*h)+v*(f*d-u*h)<0}function ci(e,n,t,o,i,r){const l=t-e,s=o-n,a=i-e,c=r-n,f=l*l+s*s,u=a*a+c*c,h=.5/(l*c-s*a),d=(c*f-s*u)*h,v=(l*u-a*f)*h;return d*d+v*v}function hi(e,n,t,o,i,r){const l=t-e,s=o-n,a=i-e,c=r-n,f=l*l+s*s,u=a*a+c*c,h=.5/(l*c-s*a),d=e+(c*f-s*u)*h,v=n+(l*u-a*f)*h;return{x:d,y:v}}function Qe(e,n,t,o){if(o-t<=20)for(let i=t+1;i<=o;i++){const r=e[i],l=n[r];let s=i-1;for(;s>=t&&n[e[s]]>l;)e[s+1]=e[s--];e[s+1]=r}else{const i=t+o>>1;let r=t+1,l=o;ln(e,i,r),n[e[t]]>n[e[o]]&&ln(e,t,o),n[e[r]]>n[e[o]]&&ln(e,r,o),n[e[t]]>n[e[r]]&&ln(e,t,r);const s=e[r],a=n[s];for(;;){do r++;while(n[e[r]]<a);do l--;while(n[e[l]]>a);if(l<r)break;ln(e,r,l)}e[t+1]=e[l],e[l]=s,o-r+1>=l-t?(Qe(e,n,r,o),Qe(e,n,t,l-1)):(Qe(e,n,t,l-1),Qe(e,n,r,o))}}function ln(e,n,t){const o=e[n];e[n]=e[t],e[t]=o}function di(e){return e[0]}function fi(e){return e[1]}const nt=1e-6;class qe{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,t){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,t){this._+=`L${this._x1=+n},${this._y1=+t}`}arc(n,t,o){n=+n,t=+t,o=+o;const i=n+o,r=t;if(o<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>nt||Math.abs(this._y1-r)>nt)&&(this._+="L"+i+","+r),o&&(this._+=`A${o},${o},0,1,1,${n-o},${t}A${o},${o},0,1,1,${this._x1=i},${this._y1=r}`)}rect(n,t,o,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${+o}v${+i}h${-o}Z`}value(){return this._||null}}class Fn{constructor(){this._=[]}moveTo(n,t){this._.push([n,t])}closePath(){this._.push(this._[0].slice())}lineTo(n,t){this._.push([n,t])}value(){return this._.length?this._:null}}class gi{constructor(n,[t,o,i,r]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((r=+r)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=t,this.ymax=r,this.ymin=o,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:t,triangles:o},vectors:i}=this;let r,l;const s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2);for(let g=0,m=0,b=o.length,_,w;g<b;g+=3,m+=2){const k=o[g]*2,L=o[g+1]*2,M=o[g+2]*2,P=n[k],A=n[k+1],x=n[L],I=n[L+1],S=n[M],B=n[M+1],$=x-P,O=I-A,T=S-P,p=B-A,C=($*p-O*T)*2;if(Math.abs(C)<1e-9){if(r===void 0){r=l=0;for(const U of t)r+=n[U*2],l+=n[U*2+1];r/=t.length,l/=t.length}const W=1e9*Math.sign((r-P)*p-(l-A)*T);_=(P+S)/2-W*p,w=(A+B)/2+W*T}else{const W=1/C,U=$*$+O*O,X=T*T+p*p;_=P+(p*U-O*X)*W,w=A+($*X-T*U)*W}s[m]=_,s[m+1]=w}let a=t[t.length-1],c,f=a*4,u,h=n[2*a],d,v=n[2*a+1];i.fill(0);for(let g=0;g<t.length;++g)a=t[g],c=f,u=h,d=v,f=a*4,h=n[2*a],v=n[2*a+1],i[c+2]=i[f]=d-v,i[c+3]=i[f+1]=h-u}render(n){const t=n==null?n=new qe:void 0,{delaunay:{halfedges:o,inedges:i,hull:r},circumcenters:l,vectors:s}=this;if(r.length<=1)return null;for(let f=0,u=o.length;f<u;++f){const h=o[f];if(h<f)continue;const d=Math.floor(f/3)*2,v=Math.floor(h/3)*2,g=l[d],m=l[d+1],b=l[v],_=l[v+1];this._renderSegment(g,m,b,_,n)}let a,c=r[r.length-1];for(let f=0;f<r.length;++f){a=c,c=r[f];const u=Math.floor(i[c]/3)*2,h=l[u],d=l[u+1],v=a*4,g=this._project(h,d,s[v+2],s[v+3]);g&&this._renderSegment(h,d,g[0],g[1],n)}return t&&t.value()}renderBounds(n){const t=n==null?n=new qe:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(n,t){const o=t==null?t=new qe:void 0,i=this._clip(n);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let l=2;l<r;l+=2)(i[l]!==i[l-2]||i[l+1]!==i[l-1])&&t.lineTo(i[l],i[l+1]);return t.closePath(),o&&o.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let t=0,o=n.length/2;t<o;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(n){const t=new Fn;return this.renderCell(n,t),t.value()}_renderSegment(n,t,o,i,r){let l;const s=this._regioncode(n,t),a=this._regioncode(o,i);s===0&&a===0?(r.moveTo(n,t),r.lineTo(o,i)):(l=this._clipSegment(n,t,o,i,s,a))&&(r.moveTo(l[0],l[1]),r.lineTo(l[2],l[3]))}contains(n,t,o){return t=+t,t!==t||(o=+o,o!==o)?!1:this.delaunay._step(n,t,o)===n}*neighbors(n){const t=this._clip(n);if(t)for(const o of this.delaunay.neighbors(n)){const i=this._clip(o);if(i){e:for(let r=0,l=t.length;r<l;r+=2)for(let s=0,a=i.length;s<a;s+=2)if(t[r]===i[s]&&t[r+1]===i[s+1]&&t[(r+2)%l]===i[(s+a-2)%a]&&t[(r+3)%l]===i[(s+a-1)%a]){yield o;break e}}}}_cell(n){const{circumcenters:t,delaunay:{inedges:o,halfedges:i,triangles:r}}=this,l=o[n];if(l===-1)return null;const s=[];let a=l;do{const c=Math.floor(a/3);if(s.push(t[c*2],t[c*2+1]),a=a%3===2?a-2:a+1,r[a]!==n)break;a=i[a]}while(a!==l&&a!==-1);return s}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(n);if(t===null)return null;const{vectors:o}=this,i=n*4;return this._simplify(o[i]||o[i+1]?this._clipInfinite(n,t,o[i],o[i+1],o[i+2],o[i+3]):this._clipFinite(n,t))}_clipFinite(n,t){const o=t.length;let i=null,r,l,s=t[o-2],a=t[o-1],c,f=this._regioncode(s,a),u,h=0;for(let d=0;d<o;d+=2)if(r=s,l=a,s=t[d],a=t[d+1],c=f,f=this._regioncode(s,a),c===0&&f===0)u=h,h=0,i?i.push(s,a):i=[s,a];else{let v,g,m,b,_;if(c===0){if((v=this._clipSegment(r,l,s,a,c,f))===null)continue;[g,m,b,_]=v}else{if((v=this._clipSegment(s,a,r,l,f,c))===null)continue;[b,_,g,m]=v,u=h,h=this._edgecode(g,m),u&&h&&this._edge(n,u,h,i,i.length),i?i.push(g,m):i=[g,m]}u=h,h=this._edgecode(b,_),u&&h&&this._edge(n,u,h,i,i.length),i?i.push(b,_):i=[b,_]}if(i)u=h,h=this._edgecode(i[0],i[1]),u&&h&&this._edge(n,u,h,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,t,o,i,r,l){const s=r<l;for(s&&([n,t,o,i,r,l]=[o,i,n,t,l,r]);;){if(r===0&&l===0)return s?[o,i,n,t]:[n,t,o,i];if(r&l)return null;let a,c,f=r||l;f&8?(a=n+(o-n)*(this.ymax-t)/(i-t),c=this.ymax):f&4?(a=n+(o-n)*(this.ymin-t)/(i-t),c=this.ymin):f&2?(c=t+(i-t)*(this.xmax-n)/(o-n),a=this.xmax):(c=t+(i-t)*(this.xmin-n)/(o-n),a=this.xmin),r?(n=a,t=c,r=this._regioncode(n,t)):(o=a,i=c,l=this._regioncode(o,i))}}_clipInfinite(n,t,o,i,r,l){let s=Array.from(t),a;if((a=this._project(s[0],s[1],o,i))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],r,l))&&s.push(a[0],a[1]),s=this._clipFinite(n,s))for(let c=0,f=s.length,u,h=this._edgecode(s[f-2],s[f-1]);c<f;c+=2)u=h,h=this._edgecode(s[c],s[c+1]),u&&h&&(c=this._edge(n,u,h,s,c),f=s.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(n,t,o,i,r){for(;t!==o;){let l,s;switch(t){case 5:t=4;continue;case 4:t=6,l=this.xmax,s=this.ymin;break;case 6:t=2;continue;case 2:t=10,l=this.xmax,s=this.ymax;break;case 10:t=8;continue;case 8:t=9,l=this.xmin,s=this.ymax;break;case 9:t=1;continue;case 1:t=5,l=this.xmin,s=this.ymin;break}(i[r]!==l||i[r+1]!==s)&&this.contains(n,l,s)&&(i.splice(r,0,l,s),r+=2)}return r}_project(n,t,o,i){let r=1/0,l,s,a;if(i<0){if(t<=this.ymin)return null;(l=(this.ymin-t)/i)<r&&(a=this.ymin,s=n+(r=l)*o)}else if(i>0){if(t>=this.ymax)return null;(l=(this.ymax-t)/i)<r&&(a=this.ymax,s=n+(r=l)*o)}if(o>0){if(n>=this.xmax)return null;(l=(this.xmax-n)/o)<r&&(s=this.xmax,a=t+(r=l)*i)}else if(o<0){if(n<=this.xmin)return null;(l=(this.xmin-n)/o)<r&&(s=this.xmin,a=t+(r=l)*i)}return[s,a]}_edgecode(n,t){return(n===this.xmin?1:n===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(n,t){return(n<this.xmin?1:n>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let t=0;t<n.length;t+=2){const o=(t+2)%n.length,i=(t+4)%n.length;(n[t]===n[o]&&n[o]===n[i]||n[t+1]===n[o+1]&&n[o+1]===n[i+1])&&(n.splice(o,2),t-=2)}n.length||(n=null)}return n}}const pi=2*Math.PI,Ke=Math.pow;function vi(e){return e[0]}function mi(e){return e[1]}function bi(e){const{triangles:n,coords:t}=e;for(let o=0;o<n.length;o+=3){const i=2*n[o],r=2*n[o+1],l=2*n[o+2];if((t[l]-t[i])*(t[r+1]-t[i+1])-(t[r]-t[i])*(t[l+1]-t[i+1])>1e-10)return!1}return!0}function yi(e,n,t){return[e+Math.sin(e+n)*t,n+Math.cos(e-n)*t]}class Wn{static from(n,t=vi,o=mi,i){return new Wn("length"in n?xi(n,t,o,i):Float64Array.from(Mi(n,t,o,i)))}constructor(n){this._delaunator=new _n(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,t=this.points;if(n.hull&&n.hull.length>2&&bi(n)){this.collinear=Int32Array.from({length:t.length/2},(h,d)=>d).sort((h,d)=>t[2*h]-t[2*d]||t[2*h+1]-t[2*d+1]);const a=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[t[2*a],t[2*a+1],t[2*c],t[2*c+1]],u=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,d=t.length/2;h<d;++h){const v=yi(t[2*h],t[2*h+1],u);t[2*h]=v[0],t[2*h+1]=v[1]}this._delaunator=new _n(t)}else delete this.collinear;const o=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,l=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let a=0,c=o.length;a<c;++a){const f=r[a%3===2?a-2:a+1];(o[a]===-1||l[f]===-1)&&(l[f]=a)}for(let a=0,c=i.length;a<c;++a)s[i[a]]=a;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],l[i[0]]=1,i.length===2&&(l[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new gi(this,n)}*neighbors(n){const{inedges:t,hull:o,_hullIndex:i,halfedges:r,triangles:l,collinear:s}=this;if(s){const u=s.indexOf(n);u>0&&(yield s[u-1]),u<s.length-1&&(yield s[u+1]);return}const a=t[n];if(a===-1)return;let c=a,f=-1;do{if(yield f=l[c],c=c%3===2?c-2:c+1,l[c]!==n)return;if(c=r[c],c===-1){const u=o[(i[n]+1)%o.length];u!==f&&(yield u);return}}while(c!==a)}find(n,t,o=0){if(n=+n,n!==n||(t=+t,t!==t))return-1;const i=o;let r;for(;(r=this._step(o,n,t))>=0&&r!==o&&r!==i;)o=r;return r}_step(n,t,o){const{inedges:i,hull:r,_hullIndex:l,halfedges:s,triangles:a,points:c}=this;if(i[n]===-1||!c.length)return(n+1)%(c.length>>1);let f=n,u=Ke(t-c[n*2],2)+Ke(o-c[n*2+1],2);const h=i[n];let d=h;do{let v=a[d];const g=Ke(t-c[v*2],2)+Ke(o-c[v*2+1],2);if(g<u&&(u=g,f=v),d=d%3===2?d-2:d+1,a[d]!==n)break;if(d=s[d],d===-1){if(d=r[(l[n]+1)%r.length],d!==v&&Ke(t-c[d*2],2)+Ke(o-c[d*2+1],2)<u)return d;break}}while(d!==h);return f}render(n){const t=n==null?n=new qe:void 0,{points:o,halfedges:i,triangles:r}=this;for(let l=0,s=i.length;l<s;++l){const a=i[l];if(a<l)continue;const c=r[l]*2,f=r[a]*2;n.moveTo(o[c],o[c+1]),n.lineTo(o[f],o[f+1])}return this.renderHull(n),t&&t.value()}renderPoints(n,t){t===void 0&&(!n||typeof n.moveTo!="function")&&(t=n,n=null),t=t==null?2:+t;const o=n==null?n=new qe:void 0,{points:i}=this;for(let r=0,l=i.length;r<l;r+=2){const s=i[r],a=i[r+1];n.moveTo(s+t,a),n.arc(s,a,t,0,pi)}return o&&o.value()}renderHull(n){const t=n==null?n=new qe:void 0,{hull:o,points:i}=this,r=o[0]*2,l=o.length;n.moveTo(i[r],i[r+1]);for(let s=1;s<l;++s){const a=2*o[s];n.lineTo(i[a],i[a+1])}return n.closePath(),t&&t.value()}hullPolygon(){const n=new Fn;return this.renderHull(n),n.value()}renderTriangle(n,t){const o=t==null?t=new qe:void 0,{points:i,triangles:r}=this,l=r[n*=3]*2,s=r[n+1]*2,a=r[n+2]*2;return t.moveTo(i[l],i[l+1]),t.lineTo(i[s],i[s+1]),t.lineTo(i[a],i[a+1]),t.closePath(),o&&o.value()}*trianglePolygons(){const{triangles:n}=this;for(let t=0,o=n.length/3;t<o;++t)yield this.trianglePolygon(t)}trianglePolygon(n){const t=new Fn;return this.renderTriangle(n,t),t.value()}}function xi(e,n,t,o){const i=e.length,r=new Float64Array(i*2);for(let l=0;l<i;++l){const s=e[l];r[l*2]=n.call(o,s,l,e),r[l*2+1]=t.call(o,s,l,e)}return r}function*Mi(e,n,t,o){let i=0;for(const r of e)yield n.call(o,r,i,e),yield t.call(o,r,i,e),++i}var $n=function(e){return[e.x,e.y]},un=jt,ht="cursor",dt="top",_i=function(e){var n=e.points,t=e.getNodePosition,o=t===void 0?$n:t,i=e.margin,r=i===void 0?un:i;return n.map(function(l){var s=o(l),a=s[0],c=s[1];return[a+r.left,c+r.top]})},Ci=function(e){var n=e.points,t=e.width,o=e.height,i=e.margin,r=i===void 0?un:i,l=e.debug,s=Wn.from(n),a=l?s.voronoi([0,0,r.left+t+r.right,r.top+o+r.bottom]):void 0;return{points:n,delaunay:s,voronoi:a}},ft=function(e){var n=e.points,t=e.getNodePosition,o=t===void 0?$n:t,i=e.width,r=e.height,l=e.margin,s=l===void 0?un:l,a=e.debug;return y.useMemo(function(){return Ci({points:_i({points:n,margin:s,getNodePosition:o}),width:i,height:r,margin:s,debug:a})},[o,n,i,r,s,a])},wi=function(e){var n=e.elementRef,t=e.nodes,o=e.getNodePosition,i=o===void 0?$n:o,r=e.delaunay,l=e.setCurrent,s=e.margin,a=s===void 0?un:s,c=e.detectionRadius,f=c===void 0?1/0:c,u=e.isInteractive,h=u===void 0||u,d=e.onMouseEnter,v=e.onMouseMove,g=e.onMouseLeave,m=e.onMouseDown,b=e.onMouseUp,_=e.onClick,w=e.onDoubleClick,k=e.onTouchStart,L=e.onTouchMove,M=e.onTouchEnd,P=e.enableTouchCrosshair,A=P!==void 0&&P,x=e.tooltip,I=e.tooltipPosition,S=I===void 0?ht:I,B=e.tooltipAnchor,$=B===void 0?dt:B,O=y.useState(null),T=O[0],p=O[1],C=y.useRef(null);y.useEffect(function(){C.current=T},[C,T]);var W=y.useCallback(function(F){if(!n.current||t.length===0)return null;var j=it(n.current,F),q=j[0],V=j[1],K=r.find(q,V),N=K!==void 0?t[K]:null;if(N&&f!==1/0){var ye=i(N),Le=ye[0],ze=ye[1];It(q,V,Le+a.left,ze+a.top)>f&&(K=null,N=null)}return K===null||N===null?null:[K,N]},[n,r,t,i,a,f]),U=sn(),X=U.showTooltipAt,oe=U.showTooltipFromEvent,J=U.hideTooltip,te=y.useMemo(function(){if(x)return S==="cursor"?function(F,j){oe(x(F),j,$)}:function(F){var j=i(F),q=j[0],V=j[1];X(x(F),[q+a.left,V+a.top],$)}},[X,oe,x,S,$,i,a]),ue=y.useCallback(function(F){var j=W(F);if(p(j),l==null||l(j?j[1]:null),j){var q=j[1];te==null||te(q,F),d==null||d(j[1],F)}},[W,p,l,te,d]),be=y.useCallback(function(F){var j=W(F);if(p(j),j){var q=j[0],V=j[1];if(l==null||l(V),te==null||te(V,F),C.current){var K=C.current,N=K[0],ye=K[1];q!==N?g==null||g(ye,F):v==null||v(V,F)}else d==null||d(V,F)}else l==null||l(null),J==null||J(),C.current&&(g==null||g(C.current[1],F))},[W,p,l,C,d,v,g,te,J]),fe=y.useCallback(function(F){p(null),l==null||l(null),J(),g&&C.current&&g(C.current[1],F)},[p,l,C,J,g]),ge=y.useCallback(function(F){var j=W(F);p(j),j&&(m==null||m(j[1],F))},[W,p,m]),z=y.useCallback(function(F){var j=W(F);p(j),j&&(b==null||b(j[1],F))},[W,p,b]),Z=y.useCallback(function(F){var j=W(F);p(j),j&&(_==null||_(j[1],F))},[W,p,_]),R=y.useCallback(function(F){var j=W(F);p(j),j&&(w==null||w(j[1],F))},[W,p,w]),re=y.useCallback(function(F){var j=W(F);A&&(p(j),l==null||l(j?j[1]:null)),j&&(k==null||k(j[1],F))},[W,p,l,A,k]),Me=y.useCallback(function(F){var j=W(F);A&&(p(j),l==null||l(j?j[1]:null)),j&&(L==null||L(j[1],F))},[W,p,l,A,L]),_e=y.useCallback(function(F){A&&(p(null),l==null||l(null)),M&&C.current&&M(C.current[1],F)},[A,p,l,M,C]);return{current:T,handleMouseEnter:h?ue:void 0,handleMouseMove:h?be:void 0,handleMouseLeave:h?fe:void 0,handleMouseDown:h?ge:void 0,handleMouseUp:h?z:void 0,handleClick:h?Z:void 0,handleDoubleClick:h?R:void 0,handleTouchStart:h?re:void 0,handleTouchMove:h?Me:void 0,handleTouchEnd:h?_e:void 0}},ki=function(e){var n=e.nodes,t=e.width,o=e.height,i=e.margin,r=i===void 0?un:i,l=e.getNodePosition,s=e.setCurrent,a=e.onMouseEnter,c=e.onMouseMove,f=e.onMouseLeave,u=e.onMouseDown,h=e.onMouseUp,d=e.onClick,v=e.onDoubleClick,g=e.onTouchStart,m=e.onTouchMove,b=e.onTouchEnd,_=e.enableTouchCrosshair,w=_!==void 0&&_,k=e.detectionRadius,L=k===void 0?1/0:k,M=e.tooltip,P=e.tooltipPosition,A=P===void 0?ht:P,x=e.tooltipAnchor,I=x===void 0?dt:x,S=e.debug,B=y.useRef(null),$=ft({points:n,getNodePosition:l,width:t,height:o,margin:r,debug:S}),O=$.delaunay,T=$.voronoi,p=wi({elementRef:B,nodes:n,delaunay:O,margin:r,detectionRadius:L,setCurrent:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:f,onMouseDown:u,onMouseUp:h,onClick:d,onDoubleClick:v,onTouchStart:g,onTouchMove:m,onTouchEnd:b,enableTouchCrosshair:w,tooltip:M,tooltipPosition:A,tooltipAnchor:I}),C=p.current,W=p.handleMouseEnter,U=p.handleMouseMove,X=p.handleMouseLeave,oe=p.handleMouseDown,J=p.handleMouseUp,te=p.handleClick,ue=p.handleDoubleClick,be=p.handleTouchStart,fe=p.handleTouchMove,ge=p.handleTouchEnd,z=y.useMemo(function(){if(S&&T)return T.render()},[S,T]);return D.jsxs("g",{ref:B,transform:"translate("+-r.left+","+-r.top+")",children:[S&&T&&D.jsxs(D.Fragment,{children:[D.jsx("path",{d:z,stroke:"red",strokeWidth:1,opacity:.75}),L<1/0&&D.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:O.renderPoints(void 0,L)}),C&&D.jsx("path",{fill:"pink",opacity:.35,d:T.renderCell(C[0])})]}),D.jsx("rect",{"data-ref":"mesh-interceptor",width:r.left+t+r.right,height:r.top+o+r.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:W,onMouseMove:U,onMouseLeave:X,onMouseDown:oe,onMouseUp:J,onTouchStart:be,onTouchMove:fe,onTouchEnd:ge,onClick:te,onDoubleClick:ue})]})},Si=function(e,n){e.save(),e.globalAlpha=.75,e.beginPath(),n.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},Ti=function(e,n,t){e.save(),e.globalAlpha=.35,e.beginPath(),n.renderCell(t,e),e.fillStyle="pink",e.fill(),e.restore()};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ne.apply(null,arguments)}function gt(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)!==-1)continue;t[o]=e[o]}return t}var tt,Be={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:y.memo(function(e){var n=e.point;return D.jsx(Pt,{id:D.jsxs("span",{children:["x: ",D.jsx("strong",{children:n.data.xFormatted}),", y:"," ",D.jsx("strong",{children:n.data.yFormatted})]}),enableChip:!0,color:n.seriesColor})}),sliceTooltip:y.memo(function(e){var n=e.slice,t=e.axis,o=Pn(),i=t==="x"?"y":"x";return D.jsx(At,{rows:n.points.map(function(r){return[D.jsx(Ft,{color:r.seriesColor,style:o.tooltip.chip},"chip"),r.seriesId,D.jsx("span",{style:o.tooltip.tableCellValue,children:r.data[i+"Formatted"]},"value")]})})}),debugMesh:!1,renderWrapper:!0},G=ne({},Be,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisBottom:{},axisLeft:{},useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),Y=ne({},Be,{pixelRatio:typeof window<"u"&&(tt=window.devicePixelRatio)!=null?tt:1,axisBottom:{},axisLeft:{}});function ji(e){return y.useMemo(function(){return ct().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(st(e))},[e])}function Ii(e){var n=e.curve,t=e.yScale,o=e.areaBaselineValue;return y.useMemo(function(){return Jt().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(st(n)).y0(t(o))},[n,t,o])}var Ei=function(e){var n=e.componentId,t=e.enableSlices,o=e.points,i=e.width,r=e.height;return y.useMemo(function(){if(t==="x"){var l=new Map;return o.forEach(function(a){a.data.x!==null&&a.data.y!==null&&(l.has(a.x)?l.get(a.x).push(a):l.set(a.x,[a]))}),Array.from(l.entries()).sort(function(a,c){return a[0]-c[0]}).map(function(a,c,f){var u,h,d=a[0],v=a[1],g=f[c-1],m=f[c+1];return u=g?d-(d-g[0])/2:d,h=m?d-u+(m[0]-d)/2:i-u,{id:"slice:"+n+":"+d,x0:u,x:d,y0:0,y:0,width:h,height:r,points:v.reverse()}})}if(t==="y"){var s=new Map;return o.forEach(function(a){a.data.x!==null&&a.data.y!==null&&(s.has(a.y)?s.get(a.y).push(a):s.set(a.y,[a]))}),Array.from(s.entries()).sort(function(a,c){return a[0]-c[0]}).map(function(a,c,f){var u,h,d=a[0],v=a[1],g=f[c-1],m=f[c+1];return u=g?d-(d-g[0])/2:d,h=m?d-u+(m[0]-d)/2:r-u,{id:d,x0:0,x:0,y0:u,y:d,width:i,height:h,points:v.reverse()}})}return[]},[n,t,r,o,i])},Bi="line",pt=function(e){var n=e.data,t=e.xScale,o=t===void 0?Be.xScale:t,i=e.xFormat,r=e.yScale,l=r===void 0?Be.yScale:r,s=e.yFormat,a=e.width,c=e.height,f=e.colors,u=f===void 0?Be.colors:f,h=e.curve,d=h===void 0?Be.curve:h,v=e.areaBaselineValue,g=v===void 0?Be.areaBaselineValue:v,m=e.pointColor,b=m===void 0?Be.pointColor:m,_=e.pointBorderColor,w=_===void 0?Be.pointBorderColor:_,k=e.enableSlices,L=k===void 0?G.enableSlices:k,M=e.initialHiddenIds,P=M===void 0?G.initialHiddenIds:M,A=y.useState(ni(Bi))[0],x=Xn(i),I=Xn(s),S=Wt(u,"id"),B=Pn(),$=qn(b,B),O=qn(w,B),T=y.useState(P??[]),p=T[0],C=T[1],W=y.useMemo(function(){return Xt(n.filter(function(z){return p.indexOf(z.id)===-1}),o,l,a,c)},[n,p,o,l,a,c]),U=W.xScale,X=W.yScale,oe=W.series,J=y.useMemo(function(){var z=n.map(function(R){return{id:R.id,label:""+R.id,color:S(R)}}),Z=z.map(function(R){return ne({},oe.find(function(re){return re.id===R.id}),{color:R.color})}).filter(function(R){return!!R.id});return{legendData:z.map(function(R){return ne({},R,{hidden:!Z.find(function(re){return re.id===R.id})})}).reverse(),series:Z}},[n,oe,S]),te=J.legendData,ue=J.series,be=y.useCallback(function(z){C(function(Z){return Z.indexOf(z)>-1?Z.filter(function(R){return R!==z}):[].concat(Z,[z])})},[]),fe=function(z){var Z=z.series,R=z.getPointColor,re=z.getPointBorderColor,Me=z.formatX,_e=z.formatY;return y.useMemo(function(){return Z.reduce(function(F,j,q){return[].concat(F,j.data.filter(function(V){return V.position.x!==null&&V.position.y!==null}).map(function(V,K){var N={id:j.id+"."+K,indexInSeries:K,absIndex:F.length+K,seriesIndex:q,seriesId:j.id,seriesColor:j.color,x:V.position.x,y:V.position.y,data:ne({},V.data,{xFormatted:Me(V.data.x),yFormatted:_e(V.data.y)})};return N.color=R({series:j,point:N}),N.borderColor=re(N),N}))},[])},[Z,R,re,Me,_e])}({series:ue,getPointColor:$,getPointBorderColor:O,formatX:x,formatY:I}),ge=Ei({componentId:A,enableSlices:L,points:fe,width:a,height:c});return{legendData:te,toggleSeries:be,lineGenerator:ji(d),areaGenerator:Ii({curve:d,yScale:X,areaBaselineValue:g}),getColor:S,series:ue,xScale:U,yScale:X,slices:ge,points:fe}},Di=function(e){var n=e.areaBlendMode,t=e.areaOpacity,o=e.color,i=e.fill,r=e.path,l=Ot(),s=l.animate,a=l.config,c=at(r),f=Ut({color:o,config:a,immediate:!s});return D.jsx(ut.path,{d:c,fill:i||f.color,fillOpacity:t,strokeWidth:0,style:{mixBlendMode:n}})},Li=y.memo(function(e){var n=e.areaGenerator,t=e.areaOpacity,o=e.areaBlendMode,i=e.series.slice(0).reverse();return D.jsx("g",{children:i.map(function(r){return D.jsx(Di,ne({path:n(r.data.map(function(l){return l.position}))},ne({areaOpacity:t,areaBlendMode:o},r)),""+r.id)})})}),Ai=y.memo(function(e){var n=e.lineGenerator,t=e.points,o=e.color,i=e.thickness,r=y.useMemo(function(){return n(t)},[n,t]),l=at(r);return D.jsx(ut.path,{d:l,fill:"none",strokeWidth:i,stroke:o})}),Fi=y.memo(function(e){var n=e.series,t=e.lineGenerator,o=e.lineWidth;return D.jsx(D.Fragment,{children:n.slice(0).reverse().map(function(i){var r=i.id,l=i.data,s=i.color;return D.jsx(Ai,{points:l.map(function(a){return a.position}),lineGenerator:t,color:s,thickness:o},r)})})}),Pi=y.memo(function(e){var n=e.slice,t=e.slices,o=e.axis,i=e.debug,r=e.tooltip,l=e.isCurrent,s=e.setCurrent,a=e.onMouseEnter,c=e.onMouseMove,f=e.onMouseLeave,u=e.onMouseDown,h=e.onMouseUp,d=e.onClick,v=e.onDoubleClick,g=e.onTouchStart,m=e.onTouchMove,b=e.onTouchEnd,_=sn(),w=_.showTooltipFromEvent,k=_.hideTooltip,L=y.useCallback(function(T){w(y.createElement(r,{slice:n,axis:o}),T,"right"),s(n),a==null||a(n,T)},[w,r,n,o,s,a]),M=y.useCallback(function(T){w(y.createElement(r,{slice:n,axis:o}),T,"right"),c==null||c(n,T)},[w,r,n,o,c]),P=y.useCallback(function(T){k(),s(null),f==null||f(n,T)},[k,s,f,n]),A=y.useCallback(function(T){u==null||u(n,T)},[n,u]),x=y.useCallback(function(T){h==null||h(n,T)},[n,h]),I=y.useCallback(function(T){d==null||d(n,T)},[n,d]),S=y.useCallback(function(T){v==null||v(n,T)},[n,v]),B=y.useCallback(function(T){w(y.createElement(r,{slice:n,axis:o}),T,"right"),s(n),g==null||g(n,T)},[o,g,s,w,n,r]),$=y.useCallback(function(T){var p=T.touches[0],C=document.elementFromPoint(p.clientX,p.clientY),W=C==null?void 0:C.getAttribute("data-ref");if(W){var U=t.find(function(X){return X.id===W});U&&(w(y.createElement(r,{slice:U,axis:o}),T,"right"),s(U))}m==null||m(n,T)},[o,m,s,w,n,t,r]),O=y.useCallback(function(T){k(),s(null),b==null||b(n,T)},[k,s,b,n]);return D.jsx("rect",{x:n.x0,y:n.y0,width:n.width,height:n.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&i?.35:0,onMouseEnter:L,onMouseMove:M,onMouseLeave:P,onMouseDown:A,onMouseUp:x,onClick:I,onDoubleClick:S,onTouchStart:B,onTouchMove:$,onTouchEnd:O,"data-ref":n.id})}),Wi=y.memo(function(e){var n=e.slices,t=e.axis,o=e.debug,i=e.tooltip,r=e.current,l=e.setCurrent,s=e.onMouseEnter,a=e.onMouseMove,c=e.onMouseLeave,f=e.onMouseDown,u=e.onMouseUp,h=e.onClick,d=e.onDoubleClick,v=e.onTouchStart,g=e.onTouchMove,m=e.onTouchEnd;return D.jsx(D.Fragment,{children:n.map(function(b){return D.jsx(Pi,{slice:b,slices:n,axis:t,debug:o,tooltip:i,setCurrent:l,isCurrent:r!==null&&r.id===b.id,onMouseEnter:s,onMouseMove:a,onMouseLeave:c,onMouseDown:f,onMouseUp:u,onClick:h,onDoubleClick:d,onTouchStart:v,onTouchMove:g,onTouchEnd:m},b.id)})})}),$i=y.memo(function(e){var n=e.points,t=e.symbol,o=e.size,i=e.borderWidth,r=e.enableLabel,l=e.label,s=e.labelYOffset,a=e.isFocusable,c=e.setCurrentPoint,f=e.tooltip,u=e.margin,h=e.ariaLabel,d=e.ariaLabelledBy,v=e.ariaDescribedBy,g=e.ariaHidden,m=e.ariaDisabled,b=$t(l),_=sn(),w=_.showTooltipAt,k=_.hideTooltip,L=n.slice(0).sort(function(M,P){return M.indexInSeries-P.indexInSeries}).sort(function(M,P){return P.seriesIndex-M.seriesIndex}).map(function(M){return{id:M.id,x:M.x,y:M.y,datum:M.data,fill:M.color,stroke:M.borderColor,label:r?b(M):null,ariaLabel:h?h(M):void 0,ariaLabelledBy:d?d(M):void 0,ariaDescribedBy:v?v(M):void 0,ariaHidden:g?g(M):void 0,ariaDisabled:m?m(M):void 0,onFocus:a?function(){c(M),w(y.createElement(f,{point:M}),[u.left+M.x,u.top+M.y],"top")}:void 0,onBlur:a?function(){c(null),k()}:void 0}});return D.jsx("g",{children:L.map(function(M){return D.jsx(Gt,{x:M.x,y:M.y,datum:M.datum,symbol:t,size:o,color:M.fill,borderWidth:i,borderColor:M.stroke,label:M.label,labelYOffset:s,ariaLabel:M.ariaLabel,ariaLabelledBy:M.ariaLabelledBy,ariaDescribedBy:M.ariaDescribedBy,ariaHidden:M.ariaHidden,ariaDisabled:M.ariaDisabled,isFocusable:a,onFocus:M.onFocus,onBlur:M.onBlur,testId:"line.point."+M.id},M.id)})})}),Gi=y.memo(function(e){var n=e.points,t=e.width,o=e.height,i=e.margin,r=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,a=e.onMouseLeave,c=e.onMouseDown,f=e.onMouseUp,u=e.onClick,h=e.onDoubleClick,d=e.onTouchStart,v=e.onTouchMove,g=e.onTouchEnd,m=e.tooltip,b=e.debug,_=e.enableTouchCrosshair,w=sn(),k=w.showTooltipAt,L=w.hideTooltip,M=y.useCallback(function(p,C){k(y.createElement(m,{point:p}),[p.x+i.left,p.y+i.top],"top"),l==null||l(p,C)},[k,m,l,i]),P=y.useCallback(function(p,C){k(y.createElement(m,{point:p}),[p.x+i.left,p.y+i.top],"top"),s==null||s(p,C)},[k,m,i.left,i.top,s]),A=y.useCallback(function(p,C){L(),a==null||a(p,C)},[L,a]),x=y.useCallback(function(p,C){c==null||c(p,C)},[c]),I=y.useCallback(function(p,C){f==null||f(p,C)},[f]),S=y.useCallback(function(p,C){u==null||u(p,C)},[u]),B=y.useCallback(function(p,C){h==null||h(p,C)},[h]),$=y.useCallback(function(p,C){k(y.createElement(m,{point:p}),[p.x+i.left,p.y+i.top],"top"),d==null||d(p,C)},[i.left,i.top,d,k,m]),O=y.useCallback(function(p,C){k(y.createElement(m,{point:p}),[p.x+i.left,p.y+i.top],"top"),v==null||v(p,C)},[i.left,i.top,v,k,m]),T=y.useCallback(function(p,C){L(),g==null||g(p,C)},[g,L]);return D.jsx(ki,{nodes:n,width:t,height:o,setCurrent:r,onMouseEnter:M,onMouseMove:P,onMouseLeave:A,onMouseDown:x,onMouseUp:I,onClick:S,onDoubleClick:B,onTouchStart:$,onTouchMove:O,onTouchEnd:T,enableTouchCrosshair:_,debug:b})}),Oi=["isInteractive","animate","motionConfig","theme","renderWrapper"];function Ui(e){var n=e.data,t=e.xScale,o=t===void 0?G.xScale:t,i=e.xFormat,r=e.yScale,l=r===void 0?G.yScale:r,s=e.yFormat,a=e.curve,c=a===void 0?G.curve:a,f=e.margin,u=e.width,h=e.height,d=e.colors,v=d===void 0?G.colors:d,g=e.lineWidth,m=g===void 0?G.lineWidth:g,b=e.layers,_=b===void 0?G.layers:b,w=e.enableArea,k=w===void 0?G.enableArea:w,L=e.areaBaselineValue,M=L===void 0?G.areaBaselineValue:L,P=e.areaOpacity,A=P===void 0?G.areaOpacity:P,x=e.areaBlendMode,I=x===void 0?G.areaBlendMode:x,S=e.enablePoints,B=S===void 0?G.enablePoints:S,$=e.pointSymbol,O=e.pointSize,T=O===void 0?G.pointSize:O,p=e.pointColor,C=p===void 0?G.pointColor:p,W=e.pointBorderWidth,U=W===void 0?G.pointBorderWidth:W,X=e.pointBorderColor,oe=X===void 0?G.pointBorderColor:X,J=e.enablePointLabel,te=J===void 0?G.enablePointLabel:J,ue=e.pointLabel,be=ue===void 0?G.pointLabel:ue,fe=e.pointLabelYOffset,ge=e.enableGridX,z=ge===void 0?G.enableGridX:ge,Z=e.gridXValues,R=e.enableGridY,re=R===void 0?G.enableGridY:R,Me=e.gridYValues,_e=e.axisTop,F=e.axisRight,j=e.axisBottom,q=j===void 0?G.axisBottom:j,V=e.axisLeft,K=V===void 0?G.axisLeft:V,N=e.defs,ye=N===void 0?G.defs:N,Le=e.fill,ze=Le===void 0?G.fill:Le,Re=e.markers,Je=e.legends,Ze=Je===void 0?G.legends:Je,cn=e.isInteractive,se=cn===void 0?G.isInteractive:cn,Ae=e.useMesh,pe=Ae===void 0?G.useMesh:Ae,le=e.debugMesh,ae=le===void 0?G.debugMesh:le,Fe=e.onMouseEnter,Pe=e.onMouseMove,Ce=e.onMouseLeave,en=e.onMouseDown,ve=e.onMouseUp,we=e.onClick,ke=e.onDoubleClick,We=e.onTouchStart,$e=e.onTouchMove,me=e.onTouchEnd,Ge=e.tooltip,Oe=Ge===void 0?G.tooltip:Ge,xe=e.enableSlices,Se=xe===void 0?G.enableSlices:xe,nn=e.debugSlices,hn=nn===void 0?G.debugSlices:nn,Ve=e.sliceTooltip,ce=Ve===void 0?G.sliceTooltip:Ve,tn=e.enableCrosshair,dn=tn===void 0?G.enableCrosshair:tn,Ye=e.crosshairType,fn=Ye===void 0?G.crosshairType:Ye,gn=e.enableTouchCrosshair,Cn=gn===void 0?G.enableTouchCrosshair:gn,pn=e.role,wn=pn===void 0?G.role:pn,kn=e.ariaLabel,E=e.ariaLabelledBy,H=e.ariaDescribedBy,Ue=e.isFocusable,Te=Ue===void 0?G.isFocusable:Ue,He=e.pointAriaLabel,Sn=e.pointAriaLabelledBy,Q=e.pointAriaDescribedBy,Tn=e.pointAriaHidden,vt=e.pointAriaDisabled,Gn=e.initialHiddenIds,mt=Gn===void 0?G.initialHiddenIds:Gn,on=lt(u,h,f),jn=on.margin,je=on.innerWidth,Ie=on.innerHeight,bt=on.outerWidth,yt=on.outerHeight,Ee=pt({data:n,xScale:o,xFormat:i,yScale:l,yFormat:s,width:je,height:Ie,colors:v,curve:c,areaBaselineValue:M,pointColor:C,pointBorderColor:oe,enableSlices:Se,initialHiddenIds:mt}),xt=Ee.legendData,Mt=Ee.toggleSeries,On=Ee.lineGenerator,Un=Ee.areaGenerator,vn=Ee.series,mn=Ee.xScale,bn=Ee.yScale,Hn=Ee.slices,In=Ee.points,zn=y.useState(null),yn=zn[0],En=zn[1],Rn=y.useState(null),rn=Rn[0],Vn=Rn[1],he={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};_.includes("grid")&&(z||re)&&(he.grid=D.jsx(Vt,{width:je,height:Ie,xScale:z?mn:null,yScale:re?bn:null,xValues:Z,yValues:Me},"grid")),_.includes("markers")&&Array.isArray(Re)&&Re.length>0&&(he.markers=D.jsx(Et,{markers:Re,width:je,height:Ie,xScale:mn,yScale:bn},"markers")),_.includes("axes")&&(he.axes=D.jsx(Yt,{xScale:mn,yScale:bn,width:je,height:Ie,top:_e,right:F,bottom:q,left:K},"axes")),_.includes("lines")&&(he.lines=D.jsx(Fi,{series:vn,lineGenerator:On,lineWidth:m},"lines")),_.includes("legends")&&Ze.length>0&&(he.legends=D.jsx(y.Fragment,{children:Ze.map(function(Xe,Bn){return D.jsx(Bt,ne({},Xe,{containerWidth:je,containerHeight:Ie,data:Xe.data||xt,toggleSerie:Xe.toggleSerie?Mt:void 0}),Bn)})},"legends"));var _t=Dt(ye,vn,ze);k&&(he.areas=D.jsx(Li,{areaGenerator:Un,areaOpacity:A,areaBlendMode:I,series:vn},"areas")),se&&Se!==!1&&(he.slices=D.jsx(Wi,{slices:Hn,axis:Se,debug:hn,tooltip:ce,current:rn,setCurrent:Vn,onMouseEnter:Fe,onMouseMove:Pe,onMouseLeave:Ce,onMouseDown:en,onMouseUp:ve,onClick:we,onDoubleClick:ke,onTouchStart:We,onTouchMove:$e,onTouchEnd:me},"slices")),B&&(he.points=D.jsx($i,{points:In,symbol:$,size:T,borderWidth:U,enableLabel:te,label:be,labelYOffset:fe,isFocusable:Te,setCurrentPoint:En,tooltip:Oe,margin:jn,ariaLabel:He,ariaLabelledBy:Sn,ariaDescribedBy:Q,ariaHidden:Tn,ariaDisabled:vt},"points")),se&&dn&&(yn!==null&&(he.crosshair=D.jsx(Yn,{width:je,height:Ie,x:yn.x,y:yn.y,type:fn},"crosshair")),rn!==null&&Se&&(he.crosshair=D.jsx(Yn,{width:je,height:Ie,x:rn.x,y:rn.y,type:Se},"crosshair"))),se&&pe&&Se===!1&&(he.mesh=D.jsx(Gi,{points:In,width:je,height:Ie,margin:jn,setCurrent:En,onMouseEnter:Fe,onMouseMove:Pe,onMouseLeave:Ce,onMouseDown:en,onMouseUp:ve,onClick:we,onDoubleClick:ke,onTouchStart:We,onTouchMove:$e,onTouchEnd:me,tooltip:Oe,enableTouchCrosshair:Cn,debug:ae},"mesh"));var Ct=ne({},e,{innerWidth:je,innerHeight:Ie,series:vn,slices:Hn,points:In,xScale:mn,yScale:bn,lineGenerator:On,areaGenerator:Un,currentPoint:yn,setCurrentPoint:En,currentSlice:rn,setCurrentSlice:Vn});return D.jsx(Lt,{defs:_t,width:bt,height:yt,margin:jn,role:wn,ariaLabel:kn,ariaLabelledBy:E,ariaDescribedBy:H,isFocusable:Te,children:_.map(function(Xe,Bn){return typeof Xe=="function"?D.jsx(y.Fragment,{children:Xe(Ct)},Bn):he[Xe]})})}function Hi(e){var n=e.isInteractive,t=n===void 0?G.isInteractive:n,o=e.animate,i=o===void 0?G.animate:o,r=e.motionConfig,l=r===void 0?G.motionConfig:r,s=e.theme,a=e.renderWrapper,c=gt(e,Oi);return D.jsx(rt,{animate:i,isInteractive:t,motionConfig:l,renderWrapper:a,theme:s,children:D.jsx(Ui,ne({isInteractive:t},c))})}var Ki=function(e){return D.jsx(ot,{children:function(n){var t=n.width,o=n.height;return D.jsx(Hi,ne({width:t,height:o},e))}})},zi=["isInteractive","renderWrapper","theme"],Ri=function(e){var n=e.width,t=e.height,o=e.margin,i=e.pixelRatio,r=i===void 0?Y.pixelRatio:i,l=e.data,s=e.xScale,a=s===void 0?Y.xScale:s,c=e.xFormat,f=e.yScale,u=f===void 0?Y.yScale:f,h=e.yFormat,d=e.curve,v=d===void 0?Y.curve:d,g=e.layers,m=g===void 0?Y.layers:g,b=e.colors,_=b===void 0?Y.colors:b,w=e.lineWidth,k=w===void 0?Y.lineWidth:w,L=e.enableArea,M=L===void 0?Y.enableArea:L,P=e.areaBaselineValue,A=P===void 0?Y.areaBaselineValue:P,x=e.areaOpacity,I=x===void 0?Y.areaOpacity:x,S=e.enablePoints,B=S===void 0?Y.enablePoints:S,$=e.pointSize,O=$===void 0?Y.pointSize:$,T=e.pointColor,p=T===void 0?Y.pointColor:T,C=e.pointBorderWidth,W=C===void 0?Y.pointBorderWidth:C,U=e.pointBorderColor,X=U===void 0?Y.pointBorderColor:U,oe=e.enableGridX,J=oe===void 0?Y.enableGridX:oe,te=e.gridXValues,ue=e.enableGridY,be=ue===void 0?Y.enableGridY:ue,fe=e.gridYValues,ge=e.axisTop,z=e.axisRight,Z=e.axisBottom,R=Z===void 0?Y.axisBottom:Z,re=e.axisLeft,Me=re===void 0?Y.axisLeft:re,_e=e.legends,F=_e===void 0?Y.legends:_e,j=e.isInteractive,q=j===void 0?Y.isInteractive:j,V=e.debugMesh,K=V===void 0?Y.debugMesh:V,N=e.onMouseLeave,ye=e.onMouseDown,Le=e.onMouseUp,ze=e.onClick,Re=e.onDoubleClick,Je=e.tooltip,Ze=Je===void 0?Y.tooltip:Je,cn=e.forwardedRef,se=y.useRef(null),Ae=lt(n,t,o),pe=Ae.margin,le=Ae.innerWidth,ae=Ae.innerHeight,Fe=Ae.outerWidth,Pe=Ae.outerHeight,Ce=Pn(),en=y.useState(null),ve=en[0],we=en[1],ke=pt({data:l,xScale:a,xFormat:c,yScale:u,yFormat:h,width:le,height:ae,colors:_,curve:v,areaBaselineValue:A,pointColor:p,pointBorderColor:X}),We=ke.lineGenerator,$e=ke.areaGenerator,me=ke.series,Ge=ke.xScale,Oe=ke.yScale,xe=ke.points,Se=y.useMemo(function(){return{innerWidth:le,innerHeight:ae,series:me,points:xe,xScale:Ge,yScale:Oe,lineWidth:k,lineGenerator:We,areaGenerator:$e,currentPoint:ve,setCurrentPoint:we}},[le,ae,me,xe,Ge,Oe,k,We,$e,ve,we]),nn=ft({points:xe,width:le,height:ae,debug:K}),hn=nn.delaunay,Ve=nn.voronoi;y.useEffect(function(){if(se.current!==null){se.current.width=Fe*r,se.current.height=Pe*r;var E=se.current.getContext("2d");E.scale(r,r),E.fillStyle=Ce.background,E.fillRect(0,0,Fe,Pe),E.translate(pe.left,pe.top),m.forEach(function(H){var Ue;typeof H=="function"&&H(E,Se);var Te=(Ue=Ce.grid.line.strokeWidth)!=null?Ue:0;if(H==="grid"&&typeof Te!="string"&&Te>0&&(E.lineWidth=Te,E.strokeStyle=Ce.grid.line.stroke,J&&Nn(E,{width:le,height:ae,scale:Ge,axis:"x",values:te}),be&&Nn(E,{width:le,height:ae,scale:Oe,axis:"y",values:fe})),H==="axes"&&qt(E,{xScale:Ge,yScale:Oe,width:le,height:ae,top:ge,right:z,bottom:R,left:Me,theme:Ce}),H==="areas"&&M===!0){E.save(),E.globalAlpha=I,$e.context(E);for(var He=me.length-1;He>=0;He--)E.fillStyle=me[He].color,E.beginPath(),$e(me[He].data.map(function(Q){return Q.position})),E.fill();E.restore()}if(H==="lines"&&(We.context(E),me.forEach(function(Q){E.strokeStyle=Q.color,E.lineWidth=k,E.beginPath(),We(Q.data.map(function(Tn){return Tn.position})),E.stroke()})),H==="points"&&B===!0&&O>0&&xe.forEach(function(Q){E.fillStyle=Q.color,E.beginPath(),E.arc(Q.x,Q.y,O/2,0,2*Math.PI),E.fill(),W>0&&(E.strokeStyle=Q.borderColor,E.lineWidth=W,E.stroke())}),H==="mesh"&&K===!0&&Ve!==void 0&&(Si(E,Ve),ve&&Ti(E,Ve,ve.absIndex)),H==="legends"){var Sn=me.map(function(Q){return{id:Q.id,label:Q.id,color:Q.color}}).reverse();F.forEach(function(Q){Ht(E,ne({},Q,{data:Q.data||Sn,containerWidth:le,containerHeight:ae,theme:Ce}))})}})}},[se,le,Fe,ae,Pe,pe.left,pe.top,r,m,Ce,We,me,Ge,Oe,J,te,be,fe,ge,z,R,Me,F,xe,B,O,W,ve,Se,K,M,$e,I,k,Ve]);var ce=y.useCallback(function(E){if(!se.current)return null;var H=it(se.current,E),Ue=H[0],Te=H[1];if(!zt(pe.left,pe.top,le,ae,Ue,Te))return null;var He=hn.find(Ue-pe.left,Te-pe.top);return xe[He]},[se,pe,le,ae,hn,xe]),tn=sn(),dn=tn.showTooltipFromEvent,Ye=tn.hideTooltip,fn=y.useCallback(function(E){var H=ce(E);we(H),H?dn(y.createElement(Ze,{point:H}),E):Ye()},[ce,we,dn,Ye,Ze]),gn=y.useCallback(function(E){Ye(),we(null),ve&&(N==null||N(ve,E))},[Ye,we,N,ve]),Cn=y.useCallback(function(E){if(ye){var H=ce(E);H&&ye(H,E)}},[ce,ye]),pn=y.useCallback(function(E){if(Le){var H=ce(E);H&&Le(H,E)}},[ce,Le]),wn=y.useCallback(function(E){if(ze){var H=ce(E);H&&ze(H,E)}},[ce,ze]),kn=y.useCallback(function(E){if(Re){var H=ce(E);H&&Re(H,E)}},[ce,Re]);return D.jsx("canvas",{ref:Rt(se,cn),width:Fe*r,height:Pe*r,style:{width:Fe,height:Pe,cursor:q?"auto":"normal"},onMouseEnter:q?fn:void 0,onMouseMove:q?fn:void 0,onMouseLeave:q?gn:void 0,onMouseDown:q?Cn:void 0,onMouseUp:q?pn:void 0,onClick:q?wn:void 0,onDoubleClick:q?kn:void 0})},Vi=y.forwardRef(function(e,n){var t=e.isInteractive,o=e.renderWrapper,i=e.theme,r=gt(e,zi);return D.jsx(rt,{isInteractive:t,renderWrapper:o,theme:i,animate:!1,children:D.jsx(Ri,ne({},r,{forwardedRef:n}))})});y.forwardRef(function(e,n){return D.jsx(ot,{children:function(t){var o=t.width,i=t.height;return D.jsx(Vi,ne({width:o,height:i},e,{ref:n}))}})});export{Ki as y};
