import{aH as jt,r as k,j as c}from"./index-5323a9bc.js";import{_ as bn,a as gn,C as vn,R as mn,W as Ft,E as xn,s as Bt,q as zt}from"./nivo-axes-9d91485a.js";import{c as St,a as yn,_ as pn,i as kn,b as Sn,d as wn,e as Cn,f as Jt,l as Wn,g as Ln,h as Mn,j as On,k as Vn,m as Pn,D as En,S as Tn,z as Ae,n as yt,u as wt,o as ye,F as jn,E as Bn,Y as In,p as Ut,q as Zt,r as Qt,t as Ht,s as Rn,O as en,v as tn,w as Fn,x as zn,y as Hn,C as nn,A as At,B as An,G as Dt,H as Ot,I as Dn,J as _n,T as $n,K as Vt,L as Yn,M as _t,N as Xn,P as Gn}from"./nivo-legends-cc60174f.js";import{_ as Nn,a as qn}from"./_baseClone-373117ed.js";function $t(e,n){if((l=e.length)>1)for(var i=1,a,t,o=e[n[0]],l,r=o.length;i<l;++i)for(t=o,o=e[n[i]],a=0;a<r;++a)o[a][1]+=o[a][0]=isNaN(t[a][1])?t[a][0]:t[a][1]}function Yt(e){for(var n=e.length,i=new Array(n);--n>=0;)i[n]=n;return i}function Kn(e,n){return e[n]}function Jn(e){const n=[];return n.key=e,n}function Un(){var e=St([]),n=Yt,i=$t,a=Kn;function t(o){var l=Array.from(e.apply(this,arguments),Jn),r,d=l.length,s=-1,h;for(const f of o)for(r=0,++s;r<d;++r)(l[r][s]=[0,+a(f,l[r].key,s,o)]).data=f;for(r=0,h=yn(n(l));r<d;++r)l[h[r]].index=r;return i(l,h),l}return t.keys=function(o){return arguments.length?(e=typeof o=="function"?o:St(Array.from(o)),t):e},t.value=function(o){return arguments.length?(a=typeof o=="function"?o:St(+o),t):a},t.order=function(o){return arguments.length?(n=o==null?Yt:typeof o=="function"?o:St(Array.from(o)),t):n},t.offset=function(o){return arguments.length?(i=o??$t,t):i},t}function Zn(e,n){if((d=e.length)>0)for(var i,a=0,t,o,l,r,d,s=e[n[0]].length;a<s;++a)for(l=r=0,i=0;i<d;++i)(o=(t=e[n[i]][a])[1]-t[0])>0?(t[0]=l,t[1]=l+=o):o<0?(t[1]=r,t[0]=r+=o):(t[0]=0,t[1]=o)}var Qn=bn;function ea(e,n){var i=[];return Qn(e,function(a,t,o){n(a,t,o)&&i.push(a)}),i}var ta=ea,na=pn,aa=ta,ia=gn,oa=kn;function ra(e,n){var i=oa(e)?na:aa;return i(e,ia(n))}var la=ra;const da=jt(la);var sa=Sn,ua=wn,ca="[object Number]";function ha(e){return typeof e=="number"||ua(e)&&sa(e)==ca}var fa=ha;const Xt=jt(fa);function ba(e,n,i){var a=-1,t=e.length;n<0&&(n=-n>t?0:t+n),i=i>t?t:i,i<0&&(i+=t),t=n>i?0:i-n>>>0,n>>>=0;for(var o=Array(t);++a<t;)o[a]=e[a+n];return o}var ga=ba,va=Cn,ma=ga;function xa(e,n){return n.length<2?e:va(e,ma(n,0,-1))}var ya=xa,pa=Jt,ka=Wn,Sa=ya,wa=Ln;function Ca(e,n){return n=pa(n,e),e=Sa(e,n),e==null||delete e[wa(ka(n))]}var Wa=Ca,La=Mn;function Ma(e){return La(e)?void 0:e}var Oa=Ma,Va=Vn,Pa=qn,Ea=Wa,Ta=Jt,ja=Pn,Ba=Oa,Ia=On,Ra=Nn,Fa=1,za=2,Ha=4,Aa=Ia(function(e,n){var i={};if(e==null)return i;var a=!1;n=Va(n,function(o){return o=Ta(o,e),a||(a=o.length>1),o}),ja(e,Ra(e),i),a&&(i=Pa(i,Fa|za|Ha,Ba));for(var t=n.length;t--;)Ea(i,n[t]);return i}),Da=Aa;const an=jt(Da);function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Be.apply(null,arguments)}var Et={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},_a=function(e){var n=typeof e;return k.isValidElement(e)||n==="string"||n==="function"||n==="object"},$a=function(e){var n=typeof e;return n==="string"||n==="function"},mt=function(e){return e.type==="circle"},Tt=function(e){return e.type==="dot"},xt=function(e){return e.type==="rect"},Ya=function(e){var n=e.data,i=e.annotations,a=e.getPosition,t=e.getDimensions;return i.reduce(function(o,l){var r=l.offset||0;return[].concat(o,da(n,l.match).map(function(d){var s=a(d),h=t(d);return(mt(l)||xt(l))&&(h.size=h.size+2*r,h.width=h.width+2*r,h.height=h.height+2*r),Be({},an(l,["match","offset"]),s,h,{size:l.size||h.size,datum:d})}))},[])},Xa=function(e,n,i,a){var t=Math.atan2(a-n,i-e);return Bn(In(t))},on=function(e){var n,i,a=e.x,t=e.y,o=e.noteX,l=e.noteY,r=e.noteWidth,d=r===void 0?Et.noteWidth:r,s=e.noteTextOffset,h=s===void 0?Et.noteTextOffset:s;if(Xt(o))n=a+o;else{if(o.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");n=o.abs}if(Xt(l))i=t+l;else{if(l.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");i=l.abs}var f=a,m=t,g=Xa(a,t,n,i);if(mt(e)){var W=En(Tn(g),e.size/2);f+=W.x,m+=W.y}if(xt(e)){var v=Math.round((g+90)/45)%8;v===0&&(m-=e.height/2),v===1&&(f+=e.width/2,m-=e.height/2),v===2&&(f+=e.width/2),v===3&&(f+=e.width/2,m+=e.height/2),v===4&&(m+=e.height/2),v===5&&(f-=e.width/2,m+=e.height/2),v===6&&(f-=e.width/2),v===7&&(f-=e.width/2,m-=e.height/2)}var w=n,S=n;return(g+90)%360>180?(w-=d,S-=d):S+=d,{points:[[f,m],[n,i],[S,i]],text:[w,i-h],angle:g+90}},rn=function(e){var n=e.data,i=e.annotations,a=e.getPosition,t=e.getDimensions;return k.useMemo(function(){return Ya({data:n,annotations:i,getPosition:a,getDimensions:t})},[n,i,a,t])},Ga=function(e){var n=e.annotations;return k.useMemo(function(){return n.map(function(i){return Be({},i,{computed:on(Be({},i))})})},[n])},Na=function(e){return k.useMemo(function(){return on(e)},[e])},qa=function(e){var n=e.datum,i=e.x,a=e.y,t=e.note,o=Ae(),l=yt(),r=l.animate,d=l.config,s=wt({x:i,y:a,config:d,immediate:!r});return typeof t=="function"?k.createElement(t,{x:i,y:a,datum:n}):c.jsxs(c.Fragment,{children:[o.annotations.text.outlineWidth>0&&c.jsx(ye.text,{x:s.x,y:s.y,style:Be({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:t}),c.jsx(ye.text,{x:s.x,y:s.y,style:an(o.annotations.text,["outlineWidth","outlineColor"]),children:t})]})},Gt=function(e){var n=e.points,i=e.isOutline,a=i!==void 0&&i,t=Ae(),o=k.useMemo(function(){var d=n[0];return n.slice(1).reduce(function(s,h){return s+" L"+h[0]+","+h[1]},"M"+d[0]+","+d[1])},[n]),l=jn(o);if(a&&t.annotations.link.outlineWidth<=0)return null;var r=Be({},t.annotations.link);return a&&(r.strokeLinecap="square",r.strokeWidth=t.annotations.link.strokeWidth+2*t.annotations.link.outlineWidth,r.stroke=t.annotations.link.outlineColor,r.opacity=t.annotations.link.outlineOpacity),c.jsx(ye.path,{fill:"none",d:l,style:r})},Ka=function(e){var n=e.x,i=e.y,a=e.size,t=Ae(),o=yt(),l=o.animate,r=o.config,d=wt({x:n,y:i,radius:a/2,config:r,immediate:!l});return c.jsxs(c.Fragment,{children:[t.annotations.outline.outlineWidth>0&&c.jsx(ye.circle,{cx:d.x,cy:d.y,r:d.radius,style:Be({},t.annotations.outline,{fill:"none",strokeWidth:t.annotations.outline.strokeWidth+2*t.annotations.outline.outlineWidth,stroke:t.annotations.outline.outlineColor,opacity:t.annotations.outline.outlineOpacity})}),c.jsx(ye.circle,{cx:d.x,cy:d.y,r:d.radius,style:t.annotations.outline})]})},Ja=function(e){var n=e.x,i=e.y,a=e.size,t=a===void 0?Et.dotSize:a,o=Ae(),l=yt(),r=l.animate,d=l.config,s=wt({x:n,y:i,radius:t/2,config:d,immediate:!r});return c.jsxs(c.Fragment,{children:[o.annotations.outline.outlineWidth>0&&c.jsx(ye.circle,{cx:s.x,cy:s.y,r:s.radius,style:Be({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),c.jsx(ye.circle,{cx:s.x,cy:s.y,r:s.radius,style:o.annotations.symbol})]})},Ua=function(e){var n=e.x,i=e.y,a=e.width,t=e.height,o=e.borderRadius,l=o===void 0?6:o,r=Ae(),d=yt(),s=d.animate,h=d.config,f=wt({x:n-a/2,y:i-t/2,width:a,height:t,config:h,immediate:!s});return c.jsxs(c.Fragment,{children:[r.annotations.outline.outlineWidth>0&&c.jsx(ye.rect,{x:f.x,y:f.y,rx:l,ry:l,width:f.width,height:f.height,style:Be({},r.annotations.outline,{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor,opacity:r.annotations.outline.outlineOpacity})}),c.jsx(ye.rect,{x:f.x,y:f.y,rx:l,ry:l,width:f.width,height:f.height,style:r.annotations.outline})]})},Za=function(e){var n=e.datum,i=e.x,a=e.y,t=e.note,o=Na(e);if(!_a(t))throw new Error("note should be a valid react element");return c.jsxs(c.Fragment,{children:[c.jsx(Gt,{points:o.points,isOutline:!0}),mt(e)&&c.jsx(Ka,{x:i,y:a,size:e.size}),Tt(e)&&c.jsx(Ja,{x:i,y:a,size:e.size}),xt(e)&&c.jsx(Ua,{x:i,y:a,width:e.width,height:e.height,borderRadius:e.borderRadius}),c.jsx(Gt,{points:o.points}),c.jsx(qa,{datum:n,x:o.text[0],y:o.text[1],note:t})]})},Nt=function(e,n){n.forEach(function(i,a){var t=i[0],o=i[1];a===0?e.moveTo(t,o):e.lineTo(t,o)})},Qa=function(e,n){var i=n.annotations,a=n.theme;i.length!==0&&(e.save(),i.forEach(function(t){if(!$a(t.note))throw new Error("note is invalid for canvas implementation");a.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=a.annotations.link.outlineColor,e.lineWidth=a.annotations.link.strokeWidth+2*a.annotations.link.outlineWidth,e.beginPath(),Nt(e,t.computed.points),e.stroke(),e.lineCap="butt"),mt(t)&&a.annotations.outline.outlineWidth>0&&(e.strokeStyle=a.annotations.outline.outlineColor,e.lineWidth=a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),Tt(t)&&a.annotations.symbol.outlineWidth>0&&(e.strokeStyle=a.annotations.symbol.outlineColor,e.lineWidth=2*a.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),xt(t)&&a.annotations.outline.outlineWidth>0&&(e.strokeStyle=a.annotations.outline.outlineColor,e.lineWidth=a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=a.annotations.link.stroke,e.lineWidth=a.annotations.link.strokeWidth,e.beginPath(),Nt(e,t.computed.points),e.stroke(),mt(t)&&(e.strokeStyle=a.annotations.outline.stroke,e.lineWidth=a.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),Tt(t)&&(e.fillStyle=a.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),xt(t)&&(e.strokeStyle=a.annotations.outline.stroke,e.lineWidth=a.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),typeof t.note=="function"?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:a}):(e.font=a.annotations.text.fontSize+"px "+a.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=a.annotations.text.fill,e.strokeStyle=a.annotations.text.outlineColor,e.lineWidth=2*a.annotations.text.outlineWidth,a.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))}),e.restore())},ei=function(e,n,i,a,t,o){o>0?(e.moveTo(n+o,i),e.lineTo(n+a-o,i),e.quadraticCurveTo(n+a,i,n+a,i+o),e.lineTo(n+a,i+t-o),e.quadraticCurveTo(n+a,i+t,n+a-o,i+t),e.lineTo(n+o,i+t),e.quadraticCurveTo(n,i+t,n,i+t-o),e.lineTo(n,i+o),e.quadraticCurveTo(n,i,n+o,i),e.closePath()):e.rect(n,i,a,t)};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},C.apply(null,arguments)}function bt(e,n){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.indexOf(a)!==-1)continue;i[a]=e[a]}return i}var qt,ti=function(e){var n=e.bars,i=e.annotations,a=rn({data:n,annotations:i,getPosition:function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},getDimensions:function(t){var o=t.height,l=t.width;return{width:l,height:o,size:Math.max(l,o)}}});return c.jsx(c.Fragment,{children:a.map(function(t,o){return c.jsx(Za,C({},t),o)})})},ni=function(e){var n=e.width,i=e.height,a=e.legends,t=e.toggleSerie;return c.jsx(c.Fragment,{children:a.map(function(o,l){var r,d=o[0],s=o[1];return c.jsx(_n,C({},d,{containerWidth:n,containerHeight:i,data:(r=d.data)!=null?r:s,toggleSerie:d.toggleSerie&&d.dataFrom==="keys"?t:void 0}),l)})})},ai=["data"],ii=function(e){var n,i=e.bar,a=i.data,t=bt(i,ai),o=e.style,l=o.borderColor,r=o.color,d=o.height,s=o.labelColor,h=o.labelOpacity,f=o.labelX,m=o.labelY,g=o.transform,W=o.width,v=o.textAnchor,w=e.borderRadius,S=e.borderWidth,y=e.label,O=e.shouldRenderLabel,p=e.isInteractive,B=e.onClick,E=e.onMouseEnter,I=e.onMouseLeave,T=e.tooltip,L=e.isFocusable,V=e.ariaLabel,H=e.ariaLabelledBy,R=e.ariaDescribedBy,A=e.ariaDisabled,Z=e.ariaHidden,q=Ae(),X=Qt(),_=X.showTooltipFromEvent,N=X.showTooltipAt,se=X.hideTooltip,K=k.useMemo(function(){return function(){return k.createElement(T,C({},t,a))}},[T,t,a]),fe=k.useCallback(function(ee){B==null||B(C({color:t.color},a),ee)},[t,a,B]),be=k.useCallback(function(ee){return _(K(),ee)},[_,K]),De=k.useCallback(function(ee){E==null||E(a,ee),_(K(),ee)},[a,E,_,K]),pe=k.useCallback(function(ee){I==null||I(a,ee),se()},[a,se,I]),Ie=k.useCallback(function(){N(K(),[t.absX+t.width/2,t.absY])},[N,K,t]),ke=k.useCallback(function(){se()},[se]);return c.jsxs(ye.g,{transform:g,children:[c.jsx(ye.rect,{width:Ht(W,function(ee){return Math.max(ee,0)}),height:Ht(d,function(ee){return Math.max(ee,0)}),rx:w,ry:w,fill:(n=a.fill)!=null?n:r,strokeWidth:S,stroke:l,focusable:L,tabIndex:L?0:void 0,"aria-label":V?V(a):void 0,"aria-labelledby":H?H(a):void 0,"aria-describedby":R?R(a):void 0,"aria-disabled":A?A(a):void 0,"aria-hidden":Z?Z(a):void 0,onMouseEnter:p?De:void 0,onMouseMove:p?be:void 0,onMouseLeave:p?pe:void 0,onClick:p?fe:void 0,onFocus:p&&L?Ie:void 0,onBlur:p&&L?ke:void 0,"data-testid":"bar.item."+a.id+"."+a.index}),O&&c.jsx(Rn,{x:f,y:m,textAnchor:v,dominantBaseline:"central",fillOpacity:h,style:C({},q.labels.text,{pointerEvents:"none",fill:s}),children:y})]})},oi=["color","label"],ri=function(e){var n=e.color,i=e.label,a=bt(e,oi);return c.jsx($n,{id:i,value:a.formattedValue,enableChip:!0,color:n})},P={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:ri,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},D=C({},P,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:ii,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),ne=C({},P,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(qt=window.devicePixelRatio)!=null?qt:1}),ln=function(e,n,i,a,t,o){return Bt(a,{all:e.map(n),min:0,max:0},t,o).padding(i)},dn=function(e,n){return e.map(function(i){return C({},n.reduce(function(a,t){return a[t]=null,a},{}),i)})},Ct=function(e){return Object.keys(e).reduce(function(n,i){return e[i]&&(n[i]=e[i]),n},{})},Wt=function(e){return[e,Number(e)]};function sn(e,n,i,a){return e===void 0&&(e=P.layout),n===void 0&&(n=P.reverse),i===void 0&&(i=P.labelPosition),a===void 0&&(a=P.labelOffset),function(t,o){var l=a*(n?-1:1);if(e==="horizontal"){var r=t/2;return i==="start"?r=n?t:0:i==="end"&&(r=n?0:t),{labelX:r+l,labelY:o/2,textAnchor:i==="middle"?"middle":n?"end":"start"}}var d=o/2;return i==="start"?d=n?0:o:i==="end"&&(d=n?o:0),{labelX:t/2,labelY:d-l,textAnchor:"middle"}}}var li=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],It=function(e,n){return e>n},un=function(e,n){return e<n},cn=function(e,n){return Array.from(" ".repeat(n-e),function(i,a){return e+a})},di=function(e){return It(e,0)?0:e},si=function(e,n,i,a){var t=e.data,o=e.formatValue,l=e.getColor,r=e.getIndex,d=e.getTooltipLabel,s=e.innerPadding,h=s===void 0?0:s,f=e.keys,m=e.xScale,g=e.yScale,W=e.margin,v=i?un:It,w=t.map(Ct),S=[];return f.forEach(function(y,O){return cn(0,m.domain().length).forEach(function(p){var B,E,I,T=Wt(t[p][y]),L=T[0],V=T[1],H=r(t[p]),R=((B=m(H))!=null?B:0)+n*O+h*O,A=v(E=V,0)?(I=g(E))!=null?I:0:a,Z=function(X,_){var N;return v(X,0)?a-_:((N=g(X))!=null?N:0)-a}(V,A),q={id:y,value:L===null?L:V,formattedValue:o(V),hidden:!1,index:p,indexValue:H,data:w[p]};S.push({key:y+"."+q.indexValue,index:S.length,data:q,x:R,y:A,absX:W.left+R,absY:W.top+A,width:n,height:Z,color:l(q),label:d(q)})})}),S},ui=function(e,n,i,a){var t=e.data,o=e.formatValue,l=e.getIndex,r=e.getColor,d=e.getTooltipLabel,s=e.keys,h=e.innerPadding,f=h===void 0?0:h,m=e.xScale,g=e.yScale,W=e.margin,v=i?un:It,w=t.map(Ct),S=[];return s.forEach(function(y,O){return cn(0,g.domain().length).forEach(function(p){var B,E,I,T=Wt(t[p][y]),L=T[0],V=T[1],H=l(t[p]),R=v(E=V,0)?a:(I=m(E))!=null?I:0,A=((B=g(H))!=null?B:0)+n*O+f*O,Z=function(X,_){var N;return v(X,0)?((N=m(X))!=null?N:0)-a:a-_}(V,R),q={id:y,value:L===null?L:V,formattedValue:o(V),hidden:!1,index:p,indexValue:H,data:w[p]};S.push({key:y+"."+q.indexValue,index:S.length,data:q,x:R,y:A,absX:W.left+R,absY:W.top+A,width:Z,height:n,color:r(q),label:d(q)})})}),S},ci=function(e){var n,i,a=e.layout,t=e.minValue,o=e.maxValue,l=e.reverse,r=e.width,d=e.height,s=e.padding,h=s===void 0?0:s,f=e.innerPadding,m=f===void 0?0:f,g=e.valueScale,W=e.indexScale,v=e.hiddenIds,w=v===void 0?[]:v,S=bt(e,li),y=S.keys.filter(function(K){return!w.includes(K)}),O=dn(S.data,y),p=a==="vertical"?["y","x",r]:["x","y",d],B=p[0],E=p[1],I=p[2],T=ln(O,S.getIndex,h,W,I,E),L=C({max:o,min:t,reverse:l},g),V=L.min==="auto"?di:function(K){return K},H=O.reduce(function(K,fe){return[].concat(K,y.map(function(be){return fe[be]}))},[]).filter(Boolean),R=V(Math.min.apply(Math,H)),A=(i=Math.max.apply(Math,H),isFinite(i)?i:0),Z=Bt(L,{all:H,min:R,max:A},B==="x"?r:d,B),q=a==="vertical"?[T,Z]:[Z,T],X=q[0],_=q[1],N=(T.bandwidth()-m*(y.length-1))/y.length,se=[C({},S,{data:O,keys:y,innerPadding:m,xScale:X,yScale:_}),N,L.reverse,(n=Z(0))!=null?n:0];return{xScale:X,yScale:_,bars:N>0?a==="vertical"?si.apply(void 0,se):ui.apply(void 0,se):[]}},hi=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],hn=function(e){var n;return e.some(Array.isArray)?hn((n=[]).concat.apply(n,e)):e},fi=function(e,n,i){var a=e.formatValue,t=e.getColor,o=e.getIndex,l=e.getTooltipLabel,r=e.innerPadding,d=e.stackedData,s=e.xScale,h=e.yScale,f=e.margin,m=[];return d.forEach(function(g){return s.domain().forEach(function(W,v){var w,S,y=g[v],O=(w=s(o(y.data)))!=null?w:0,p=((S=function(V){return h(V[i?0:1])}(y))!=null?S:0)+.5*r,B=function(V,H){var R;return((R=h(V[i?1:0]))!=null?R:0)-H}(y,p)-r,E=Wt(y.data[g.key]),I=E[0],T=E[1],L={id:g.key,value:I===null?I:T,formattedValue:a(T),hidden:!1,index:v,indexValue:W,data:Ct(y.data)};m.push({key:g.key+"."+W,index:m.length,data:L,x:O,y:p,absX:f.left+O,absY:f.top+p,width:n,height:B,color:t(L),label:l(L)})})}),m},bi=function(e,n,i){var a=e.formatValue,t=e.getColor,o=e.getIndex,l=e.getTooltipLabel,r=e.innerPadding,d=e.stackedData,s=e.xScale,h=e.yScale,f=e.margin,m=[];return d.forEach(function(g){return h.domain().forEach(function(W,v){var w,S,y=g[v],O=(w=h(o(y.data)))!=null?w:0,p=((S=function(V){return s(V[i?1:0])}(y))!=null?S:0)+.5*r,B=function(V,H){var R;return((R=s(V[i?0:1]))!=null?R:0)-H}(y,p)-r,E=Wt(y.data[g.key]),I=E[0],T=E[1],L={id:g.key,value:I===null?I:T,formattedValue:a(T),hidden:!1,index:v,indexValue:W,data:Ct(y.data)};m.push({key:g.key+"."+W,index:m.length,data:L,x:p,y:O,absX:f.left+p,absY:f.top+O,width:B,height:n,color:t(L),label:l(L)})})}),m},gi=function(e){var n,i=e.data,a=e.layout,t=e.minValue,o=e.maxValue,l=e.reverse,r=e.width,d=e.height,s=e.padding,h=s===void 0?0:s,f=e.valueScale,m=e.indexScale,g=e.hiddenIds,W=g===void 0?[]:g,v=bt(e,hi),w=v.keys.filter(function(N){return!W.includes(N)}),S=Un().keys(w).offset(Zn)(dn(i,w)),y=a==="vertical"?["y","x",r]:["x","y",d],O=y[0],p=y[1],B=y[2],E=ln(i,v.getIndex,h,m,B,p),I=C({max:o,min:t,reverse:l},f),T=(n=hn(S),f.type==="log"?n.filter(function(N){return N!==0}):n),L=Math.min.apply(Math,T),V=Math.max.apply(Math,T),H=Bt(I,{all:T,min:L,max:V},O==="x"?r:d,O),R=a==="vertical"?[E,H]:[H,E],A=R[0],Z=R[1],q=v.innerPadding>0?v.innerPadding:0,X=E.bandwidth(),_=[C({},v,{innerPadding:q,stackedData:S,xScale:A,yScale:Z}),X,I.reverse];return{xScale:A,yScale:Z,bars:X>0?a==="vertical"?fi.apply(void 0,_):bi.apply(void 0,_):[]}},vi=function(e){var n=e.bars,i=e.direction,a=e.from,t=e.groupMode,o=e.layout,l=e.legendLabel,r=e.reverse,d=Gn(l??(a==="indexes"?"indexValue":"id"));return a==="indexes"?function(s,h,f){var m=zt(s.map(function(g){var W,v;return{id:(W=g.data.indexValue)!=null?W:"",label:f(g.data),hidden:g.data.hidden,color:(v=g.color)!=null?v:"#000"}}),function(g){return g.id});return h==="horizontal"&&m.reverse(),m}(n,o,d):function(s,h,f,m,g,W){var v=zt(s.map(function(w){var S;return{id:w.data.id,label:W(w.data),hidden:w.data.hidden,color:(S=w.color)!=null?S:"#000"}}),function(w){return w.id});return(h==="vertical"&&m==="stacked"&&f==="column"&&g!==!0||h==="horizontal"&&m==="stacked"&&g===!0)&&v.reverse(),v}(n,o,i,t,r,d)},Kt=function(e,n,i){var a=e.get(n)||0;e.set(n,a+i)},mi=function(e,n,i){var a=e.get(n)||0;e.set(n,a+(i>0?i:0))},xi=function(e,n,i){var a=e.get(n)||0;e.set(n,Math.max(a,Number(i)))},yi=function(e,n){var i=e.get(n)||0;e.set(n,i+1)},fn=function(e){var n=e.indexBy,i=n===void 0?P.indexBy:n,a=e.keys,t=a===void 0?P.keys:a,o=e.label,l=o===void 0?P.label:o,r=e.tooltipLabel,d=r===void 0?P.tooltipLabel:r,s=e.valueFormat,h=e.colors,f=h===void 0?P.colors:h,m=e.colorBy,g=m===void 0?P.colorBy:m,W=e.borderColor,v=W===void 0?P.borderColor:W,w=e.labelTextColor,S=w===void 0?P.labelTextColor:w,y=e.groupMode,O=y===void 0?P.groupMode:y,p=e.layout,B=p===void 0?P.layout:p,E=e.reverse,I=E===void 0?P.reverse:E,T=e.data,L=e.minValue,V=L===void 0?P.minValue:L,H=e.maxValue,R=H===void 0?P.maxValue:H,A=e.margin,Z=e.width,q=e.height,X=e.padding,_=X===void 0?P.padding:X,N=e.innerPadding,se=N===void 0?P.innerPadding:N,K=e.valueScale,fe=K===void 0?P.valueScale:K,be=e.indexScale,De=be===void 0?P.indexScale:be,pe=e.initialHiddenIds,Ie=pe===void 0?P.initialHiddenIds:pe,ke=e.enableLabel,ee=ke===void 0?P.enableLabel:ke,Ne=e.labelSkipWidth,qe=Ne===void 0?P.labelSkipWidth:Ne,Ke=e.labelSkipHeight,Oe=Ke===void 0?P.labelSkipHeight:Ke,_e=e.legends,Re=_e===void 0?P.legends:_e,Je=e.legendLabel,Ue=e.totalsOffset,Ze=Ue===void 0?P.totalsOffset:Ue,Qe=k.useState(Ie??[]),Fe=Qe[0],et=Qe[1],st=k.useCallback(function(x){et(function(j){return j.indexOf(x)>-1?j.filter(function($){return $!==x}):[].concat(j,[x])})},[]),ce=Vt(i),ut=Vt(l),ze=Vt(d),ge=nn(s),Ve=Ae(),Se=Yn(f,g),ct=_t(v,Ve),tt=_t(S,Ve),oe=(O==="grouped"?ci:gi)({layout:B,reverse:I,data:T,getIndex:ce,keys:t,minValue:V,maxValue:R,width:Z,height:q,getColor:Se,padding:_,innerPadding:se,valueScale:fe,indexScale:De,hiddenIds:Fe,formatValue:ge,getTooltipLabel:ze,margin:A}),re=oe.bars,we=oe.xScale,Ce=oe.yScale,ht=k.useMemo(function(){return re.filter(function(x){return x.data.value!==null}).map(function(x,j){return C({},x,{index:j})})},[re]),ft=k.useCallback(function(x){var j=x.width,$=x.height;return!!ee&&!(qe>0&&j<qe)&&!(Oe>0&&$<Oe)},[ee,qe,Oe]),le=k.useMemo(function(){return t.map(function(x){var j=re.find(function($){return $.data.id===x});return C({},j,{data:C({id:x},j==null?void 0:j.data,{hidden:Fe.includes(x)})})})},[Fe,t,re]),de=k.useMemo(function(){return Re.map(function(x){return[x,vi({bars:x.dataFrom==="keys"?le:re,direction:x.direction,from:x.dataFrom,groupMode:O,layout:B,legendLabel:Je,reverse:I})]})},[Re,le,re,O,B,Je,I]),He=k.useMemo(function(){return function(x,j,$,ie,he,Q,ae){ie===void 0&&(ie=P.layout),he===void 0&&(he=P.groupMode);var Pe=[];if(x.length===0)return Pe;var ve=new Map,We=x[0].width,nt=x[0].height;if(he==="stacked"){var $e=new Map;x.forEach(function(te){var Y=te.data,J=Y.indexValue,G=Y.value;Kt(ve,J,Number(G)),mi($e,J,Number(G))}),$e.forEach(function(te,Y){var J,G,me,Ee=ve.get(Y)||0;ie==="vertical"?(J=j(Y),G=$(te),me=$(te/2)):(J=j(te),G=$(Y),me=j(te/2)),J+=ie==="vertical"?We/2:Q,G+=ie==="vertical"?-Q:nt/2,Pe.push({key:"total_"+Y,x:J,y:G,value:Ee,formattedValue:ae(Ee),animationOffset:me})})}else if(he==="grouped"){var at=new Map,it=new Map;x.forEach(function(te){var Y=te.data,J=Y.indexValue,G=Y.value;Kt(ve,J,Number(G)),xi(at,J,Number(G)),yi(it,J)}),at.forEach(function(te,Y){var J,G,me,Ee=ve.get(Y)||0,xe=it.get(Y);ie==="vertical"?(J=j(Y),G=$(te),me=$(te/2)):(J=j(te),G=$(Y),me=j(te/2)),J+=ie==="vertical"?xe*We/2:Q,G+=ie==="vertical"?-Q:xe*nt/2,Pe.push({key:"total_"+Y,x:J,y:G,value:Ee,formattedValue:ae(Ee),animationOffset:me})})}return Pe}(re,we,Ce,B,O,Ze,ge)},[re,we,Ce,B,O,Ze,ge]);return{bars:re,barsWithValue:ht,xScale:we,yScale:Ce,getIndex:ce,getLabel:ut,getTooltipLabel:ze,formatValue:ge,getColor:Se,getBorderColor:ct,getLabelColor:tt,shouldRenderBarLabel:ft,hiddenIds:Fe,toggleSerie:st,legendsWithData:de,barTotals:He}},pi=function(e){var n=e.data,i=e.springConfig,a=e.animate,t=e.layout,o=t===void 0?D.layout:t,l=Ae();return tn(n,{keys:function(r){return r.key},from:function(r){return{x:o==="vertical"?r.x:r.animationOffset,y:o==="vertical"?r.animationOffset:r.y,labelOpacity:0}},enter:function(r){return{x:r.x,y:r.y,labelOpacity:1}},update:function(r){return{x:r.x,y:r.y,labelOpacity:1}},leave:function(r){return{x:o==="vertical"?r.x:r.animationOffset,y:o==="vertical"?r.animationOffset:r.y,labelOpacity:0}},config:i,immediate:!a,initial:a?void 0:null})(function(r,d){return c.jsx(ye.text,{x:r.x,y:r.y,fillOpacity:r.labelOpacity,style:C({},l.labels.text,{pointerEvents:"none"}),fontWeight:"bold",fontSize:l.labels.text.fontSize,fontFamily:l.labels.text.fontFamily,textAnchor:o==="vertical"?"middle":"start",alignmentBaseline:o==="vertical"?"alphabetic":"middle",children:d.formattedValue},d.key)})},ki=["isInteractive","animate","motionConfig","theme","renderWrapper"],Si=function(e){var n=e.data,i=e.indexBy,a=e.keys,t=e.margin,o=e.width,l=e.height,r=e.groupMode,d=e.layout,s=e.reverse,h=e.minValue,f=e.maxValue,m=e.valueScale,g=e.indexScale,W=e.padding,v=e.innerPadding,w=e.axisTop,S=e.axisRight,y=e.axisBottom,O=y===void 0?D.axisBottom:y,p=e.axisLeft,B=p===void 0?D.axisLeft:p,E=e.enableGridX,I=E===void 0?D.enableGridX:E,T=e.enableGridY,L=T===void 0?D.enableGridY:T,V=e.gridXValues,H=e.gridYValues,R=e.layers,A=R===void 0?D.layers:R,Z=e.barComponent,q=Z===void 0?D.barComponent:Z,X=e.enableLabel,_=X===void 0?D.enableLabel:X,N=e.label,se=e.labelSkipWidth,K=se===void 0?D.labelSkipWidth:se,fe=e.labelSkipHeight,be=fe===void 0?D.labelSkipHeight:fe,De=e.labelTextColor,pe=e.labelPosition,Ie=pe===void 0?D.labelPosition:pe,ke=e.labelOffset,ee=ke===void 0?D.labelOffset:ke,Ne=e.markers,qe=Ne===void 0?D.markers:Ne,Ke=e.colorBy,Oe=e.colors,_e=e.defs,Re=_e===void 0?D.defs:_e,Je=e.fill,Ue=Je===void 0?D.fill:Je,Ze=e.borderRadius,Qe=Ze===void 0?D.borderRadius:Ze,Fe=e.borderWidth,et=Fe===void 0?D.borderWidth:Fe,st=e.borderColor,ce=e.annotations,ut=ce===void 0?D.annotations:ce,ze=e.legendLabel,ge=e.tooltipLabel,Ve=e.valueFormat,Se=e.isInteractive,ct=Se===void 0?D.isInteractive:Se,tt=e.tooltip,oe=tt===void 0?D.tooltip:tt,re=e.onClick,we=e.onMouseEnter,Ce=e.onMouseLeave,ht=e.legends,ft=e.role,le=ft===void 0?D.role:ft,de=e.ariaLabel,He=e.ariaLabelledBy,x=e.ariaDescribedBy,j=e.isFocusable,$=j===void 0?D.isFocusable:j,ie=e.barAriaLabel,he=e.barAriaLabelledBy,Q=e.barAriaDescribedBy,ae=e.barAriaHidden,Pe=e.barAriaDisabled,ve=e.initialHiddenIds,We=e.enableTotals,nt=We===void 0?D.enableTotals:We,$e=e.totalsOffset,at=$e===void 0?D.totalsOffset:$e,it=e.forwardedRef,te=yt(),Y=te.animate,J=te.config,G=en(o,l,t),me=G.outerWidth,Ee=G.outerHeight,xe=G.margin,Te=G.innerWidth,je=G.innerHeight,ue=fn({indexBy:i,label:N,tooltipLabel:ge,valueFormat:Ve,colors:Oe,colorBy:Ke,borderColor:st,labelTextColor:De,groupMode:r,layout:d,reverse:s,data:n,keys:a,minValue:h,maxValue:f,margin:xe,width:Te,height:je,padding:W,innerPadding:v,valueScale:m,indexScale:g,enableLabel:_,labelSkipWidth:K,labelSkipHeight:be,legends:ht,legendLabel:ze,initialHiddenIds:ve,totalsOffset:at}),ot=ue.bars,pt=ue.barsWithValue,rt=ue.xScale,lt=ue.yScale,M=ue.getLabel,b=ue.getTooltipLabel,F=ue.getBorderColor,z=ue.getLabelColor,U=ue.shouldRenderBarLabel,Ye=ue.toggleSerie,Le=ue.legendsWithData,Xe=ue.barTotals,kt=ue.getColor,dt=sn(d,s,Ie,ee),gt=tn(pt,{keys:function(u){return u.key},from:function(u){return C({borderColor:F(u),color:u.color,height:0,labelColor:z(u),labelOpacity:0},dt(u.width,u.height),{transform:"translate("+u.x+", "+(u.y+u.height)+")",width:u.width},d==="vertical"?{}:{height:u.height,transform:"translate("+u.x+", "+u.y+")",width:0})},enter:function(u){return C({borderColor:F(u),color:u.color,height:u.height,labelColor:z(u),labelOpacity:1},dt(u.width,u.height),{transform:"translate("+u.x+", "+u.y+")",width:u.width})},update:function(u){return C({borderColor:F(u),color:u.color,height:u.height,labelColor:z(u),labelOpacity:1},dt(u.width,u.height),{transform:"translate("+u.x+", "+u.y+")",width:u.width})},leave:function(u){return C({borderColor:F(u),color:u.color,height:0,labelColor:z(u),labelOpacity:0},dt(u.width,u.height),{labelY:0,transform:"translate("+u.x+", "+(u.y+u.height)+")",width:u.width},d==="vertical"?{}:C({},dt(u.width,u.height),{labelX:0,height:u.height,transform:"translate("+u.x+", "+u.y+")",width:0}))},config:J,immediate:!Y,initial:Y?void 0:null}),vt=k.useMemo(function(){return{borderRadius:Qe,borderWidth:et,enableLabel:_,isInteractive:ct,labelSkipWidth:K,labelSkipHeight:be,onClick:re,onMouseEnter:we,onMouseLeave:Ce,getTooltipLabel:b,tooltip:oe,isFocusable:$,ariaLabel:ie,ariaLabelledBy:he,ariaDescribedBy:Q,ariaHidden:ae,ariaDisabled:Pe}},[Qe,et,_,b,ct,be,K,re,we,Ce,oe,$,ie,he,Q,ae,Pe]),Lt=Fn(Re,ot,Ue,{dataKey:"data",targetKey:"data.fill"}),Me={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};A.includes("annotations")&&(Me.annotations=c.jsx(ti,{bars:ot,annotations:ut},"annotations")),A.includes("axes")&&(Me.axes=c.jsx(vn,{xScale:rt,yScale:lt,width:Te,height:je,top:w,right:S,bottom:O,left:B},"axes")),A.includes("bars")&&(Me.bars=c.jsx(k.Fragment,{children:gt(function(u,Ge){return k.createElement(q,C({},vt,{bar:Ge,style:u,shouldRenderLabel:U(Ge),label:M(Ge.data)}))})},"bars")),A.includes("grid")&&(Me.grid=c.jsx(mn,{width:Te,height:je,xScale:I?rt:null,yScale:L?lt:null,xValues:V,yValues:H},"grid")),A.includes("legends")&&(Me.legends=c.jsx(ni,{width:Te,height:je,legends:Le,toggleSerie:Ye},"legends")),A.includes("markers")&&(Me.markers=c.jsx(zn,{markers:qe,width:Te,height:je,xScale:rt,yScale:lt},"markers")),A.includes("totals")&&nt&&(Me.totals=c.jsx(pi,{data:Xe,springConfig:J,animate:Y,layout:d},"totals"));var Mt=k.useMemo(function(){return C({},vt,{margin:xe,width:o,height:l,innerWidth:Te,innerHeight:je,bars:ot,legendData:Le,enableLabel:_,xScale:rt,yScale:lt,tooltip:oe,getTooltipLabel:b,onClick:re,onMouseEnter:we,onMouseLeave:Ce,getColor:kt})},[vt,xe,o,l,Te,je,ot,Le,_,rt,lt,oe,b,re,we,Ce,kt]);return c.jsx(Hn,{width:me,height:Ee,margin:xe,defs:Lt,role:le,ariaLabel:de,ariaLabelledBy:He,ariaDescribedBy:x,isFocusable:$,ref:it,children:A.map(function(u,Ge){var Rt;return typeof u=="function"?c.jsx(k.Fragment,{children:k.createElement(u,Mt)},Ge):(Rt=Me==null?void 0:Me[u])!=null?Rt:null})})},wi=k.forwardRef(function(e,n){var i=e.isInteractive,a=i===void 0?D.isInteractive:i,t=e.animate,o=t===void 0?D.animate:t,l=e.motionConfig,r=l===void 0?D.motionConfig:l,d=e.theme,s=e.renderWrapper,h=bt(e,ki);return c.jsx(Ut,{animate:o,isInteractive:a,motionConfig:r,renderWrapper:s,theme:d,children:c.jsx(Si,C({isInteractive:a},h,{forwardedRef:n}))})}),Ci=["isInteractive","renderWrapper","theme"],Pt=function(e,n,i,a){return e.find(function(t){return Xn(t.x+n.left,t.y+n.top,t.width,t.height,i,a)})},Wi=function(e){var n=e.data,i=e.indexBy,a=e.keys,t=e.margin,o=e.width,l=e.height,r=e.groupMode,d=e.layout,s=e.reverse,h=e.minValue,f=e.maxValue,m=e.valueScale,g=e.indexScale,W=e.padding,v=e.innerPadding,w=e.axisTop,S=e.axisRight,y=e.axisBottom,O=y===void 0?ne.axisBottom:y,p=e.axisLeft,B=p===void 0?ne.axisLeft:p,E=e.enableGridX,I=E===void 0?ne.enableGridX:E,T=e.enableGridY,L=T===void 0?ne.enableGridY:T,V=e.gridXValues,H=e.gridYValues,R=e.labelPosition,A=R===void 0?ne.labelPosition:R,Z=e.labelOffset,q=Z===void 0?ne.labelOffset:Z,X=e.layers,_=X===void 0?ne.layers:X,N=e.renderBar,se=N===void 0?function(M,b){var F=b.bar,z=F.color,U=F.height,Ye=F.width,Le=F.x,Xe=F.y,kt=b.borderColor,dt=b.borderRadius,gt=b.borderWidth,vt=b.label,Lt=b.shouldRenderLabel,Me=b.labelStyle,Mt=b.labelX,u=b.labelY,Ge=b.textAnchor;M.fillStyle=z,gt>0&&(M.strokeStyle=kt,M.lineWidth=gt),M.beginPath(),ei(M,Le,Xe,Ye,U,Math.min(dt,U)),M.fill(),gt>0&&M.stroke(),Lt&&(M.textBaseline="middle",M.textAlign=Ge==="middle"?"center":Ge,Dt(M,Me,vt,Le+Mt,Xe+u))}:N,K=e.enableLabel,fe=K===void 0?ne.enableLabel:K,be=e.label,De=e.labelSkipWidth,pe=De===void 0?ne.labelSkipWidth:De,Ie=e.labelSkipHeight,ke=Ie===void 0?ne.labelSkipHeight:Ie,ee=e.labelTextColor,Ne=e.colorBy,qe=e.colors,Ke=e.borderRadius,Oe=Ke===void 0?ne.borderRadius:Ke,_e=e.borderWidth,Re=_e===void 0?ne.borderWidth:_e,Je=e.borderColor,Ue=e.annotations,Ze=Ue===void 0?ne.annotations:Ue,Qe=e.legendLabel,Fe=e.tooltipLabel,et=e.valueFormat,st=e.isInteractive,ce=st===void 0?ne.isInteractive:st,ut=e.tooltip,ze=ut===void 0?ne.tooltip:ut,ge=e.onClick,Ve=e.onMouseEnter,Se=e.onMouseLeave,ct=e.legends,tt=e.pixelRatio,oe=tt===void 0?ne.pixelRatio:tt,re=e.forwardedRef,we=e.enableTotals,Ce=we===void 0?ne.enableTotals:we,ht=e.totalsOffset,ft=ht===void 0?ne.totalsOffset:ht,le=k.useRef(null),de=Ae(),He=en(o,l,t),x=He.margin,j=He.innerWidth,$=He.innerHeight,ie=He.outerWidth,he=He.outerHeight,Q=fn({indexBy:i,label:be,tooltipLabel:Fe,valueFormat:et,colors:qe,colorBy:Ne,borderColor:Je,labelTextColor:ee,groupMode:r,layout:d,reverse:s,data:n,keys:a,minValue:h,maxValue:f,margin:x,width:j,height:$,padding:W,innerPadding:v,valueScale:m,indexScale:g,enableLabel:fe,labelSkipWidth:pe,labelSkipHeight:ke,legends:ct,legendLabel:Qe,totalsOffset:ft}),ae=Q.bars,Pe=Q.barsWithValue,ve=Q.xScale,We=Q.yScale,nt=Q.getLabel,$e=Q.getTooltipLabel,at=Q.getBorderColor,it=Q.getLabelColor,te=Q.shouldRenderBarLabel,Y=Q.legendsWithData,J=Q.barTotals,G=Q.getColor,me=Qt(),Ee=me.showTooltipFromEvent,xe=me.hideTooltip,Te=Ga({annotations:rn({data:ae,annotations:Ze,getPosition:function(M){return{x:M.x,y:M.y}},getDimensions:function(M){var b=M.width,F=M.height;return{width:b,height:F,size:Math.max(b,F)}}})}),je=k.useMemo(function(){return{borderRadius:Oe,borderWidth:Re,isInteractive:ce,isFocusable:!1,labelSkipWidth:pe,labelSkipHeight:ke,margin:x,width:o,height:l,innerWidth:j,innerHeight:$,bars:ae,legendData:Y,enableLabel:fe,xScale:ve,yScale:We,tooltip:ze,getTooltipLabel:$e,onClick:ge,onMouseEnter:Ve,onMouseLeave:Se,getColor:G}},[Oe,Re,ce,pe,ke,x,o,l,j,$,ae,Y,fe,ve,We,ze,$e,ge,Ve,Se,G]),ue=nn(et),ot=sn(d,s,A,q);k.useEffect(function(){var M,b=(M=le.current)==null?void 0:M.getContext("2d");le.current&&b&&(le.current.width=ie*oe,le.current.height=he*oe,b.scale(oe,oe),b.fillStyle=de.background,b.fillRect(0,0,ie,he),b.translate(x.left,x.top),_.forEach(function(F){F==="grid"?typeof de.grid.line.strokeWidth=="number"&&de.grid.line.strokeWidth>0&&(b.lineWidth=de.grid.line.strokeWidth,b.strokeStyle=de.grid.line.stroke,I&&Ft(b,{width:j,height:$,scale:ve,axis:"x",values:V}),L&&Ft(b,{width:j,height:$,scale:We,axis:"y",values:H})):F==="axes"?xn(b,{xScale:ve,yScale:We,width:j,height:$,top:w,right:S,bottom:O,left:B,theme:de}):F==="bars"?(At(b,de.text),Pe.forEach(function(z){se(b,C({bar:z,borderColor:at(z),borderRadius:Oe,borderWidth:Re,label:nt(z.data),shouldRenderLabel:te(z),labelStyle:C({},de.labels.text,{fill:it(z)})},ot(z.width,z.height)))})):F==="legends"?Y.forEach(function(z){var U=z[0],Ye=z[1];An(b,C({},U,{data:Ye,containerWidth:j,containerHeight:$,theme:de}))}):F==="annotations"?Qa(b,{annotations:Te,theme:de}):F==="totals"&&Ce?function(z,U,Ye,Le){Le===void 0&&(Le=ne.layout),At(z,Ye.labels.text),z.textBaseline=Le==="vertical"?"alphabetic":"middle",z.textAlign=Le==="vertical"?"center":"start",U.forEach(function(Xe){Dt(z,Ye.labels.text,Xe.formattedValue,Xe.x,Xe.y)})}(b,J,de,d):typeof F=="function"&&F(b,je)}),b.save())},[O,B,S,w,Pe,Oe,Re,Te,I,L,at,nt,it,V,H,r,l,$,j,je,_,d,Y,x.left,x.top,he,ie,oe,se,ve,We,s,te,de,o,J,Ce,ue,ot]);var pt=k.useCallback(function(M){if(ae&&le.current){var b=Ot(le.current,M),F=b[0],z=b[1],U=Pt(ae,x,F,z);U!==void 0?(Ee(k.createElement(ze,C({},U.data,{color:U.color,label:U.label,value:Number(U.data.value)})),M),M.type==="mouseenter"&&(Ve==null||Ve(U.data,M))):xe()}},[xe,x,Ve,ae,Ee,ze]),rt=k.useCallback(function(M){if(ae&&le.current){xe();var b=Ot(le.current,M),F=b[0],z=b[1],U=Pt(ae,x,F,z);U&&(Se==null||Se(U.data,M))}},[xe,x,Se,ae]),lt=k.useCallback(function(M){if(ae&&le.current){var b=Ot(le.current,M),F=b[0],z=b[1],U=Pt(ae,x,F,z);U!==void 0&&(ge==null||ge(C({},U.data,{color:U.color}),M))}},[x,ge,ae]);return c.jsx("canvas",{ref:Dn(le,re),width:ie*oe,height:he*oe,style:{width:ie,height:he,cursor:ce?"auto":"normal"},onMouseEnter:ce?pt:void 0,onMouseMove:ce?pt:void 0,onMouseLeave:ce?rt:void 0,onClick:ce?lt:void 0})},Li=k.forwardRef(function(e,n){var i=e.isInteractive,a=e.renderWrapper,t=e.theme,o=bt(e,Ci);return c.jsx(Ut,{isInteractive:i,renderWrapper:a,theme:t,animate:!1,children:c.jsx(Wi,C({},o,{forwardedRef:n}))})}),Ei=k.forwardRef(function(e,n){return c.jsx(Zt,{children:function(i){var a=i.width,t=i.height;return c.jsx(wi,C({width:a,height:t},e,{ref:n}))}})});k.forwardRef(function(e,n){return c.jsx(Zt,{children:function(i){var a=i.width,t=i.height;return c.jsx(Li,C({width:a,height:t},e,{ref:n}))}})});export{Ei as X};
