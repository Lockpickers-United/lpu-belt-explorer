import{r as n,j as t,R as E,J as F,I,aa as S}from"./index-577068e1.js";import{d as C,I as M}from"./Search-7d01ed3f.js";import{A as W}from"./Autocomplete-b0f3fa51.js";import{T as w}from"./TextField-97d85516.js";function J({allItems:r,setItemDetails:a,getOptionTitle:d,searchText:p,error:b}){const k={maxWidth:700},{isMobile:l}=!1,f=n.useRef(),R=n.useMemo(()=>{let s=[],e={},j={};return r==null||r.sort((o,i)=>{o.title.localeCompare(i.title)}).map(o=>{const i=d(o);j[i]=o.title,e[i]=o.id,s.push(i)}).filter(o=>o),{options:s,itemIds:e,itemTitles:j}},[r,d]),{options:u,itemIds:m,itemTitles:h}=R,T=n.useCallback((s,e)=>{e?u.includes(e)&&a({itemFullTitle:e,itemTitle:h[e],itemId:m[e]}):a({})},[u,m,h,a]),[c,x]=n.useState(!1),g=n.useCallback(()=>{x(!0),setTimeout(()=>f.current.focus(),15)},[]),y=n.useCallback(()=>x(!1),[]),A=c&&l?{width:"auto",position:"fixed",left:60,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{},B=b?{borderBottom:"#b00 solid 4px"}:{};return t.jsxs(E.Fragment,{children:[!c&&l&&t.jsx(F,{title:"Search",arrow:!0,disableFocusListener:!0,children:t.jsx(I,{color:"inherit",onClick:g,children:t.jsx(C,{})})}),(c||!l)&&t.jsx(W,{selectOnFocus:!0,clearOnEscape:!0,handleHomeEndKeys:!0,fullWidth:!0,style:{...k,...A},options:u,onChange:T,renderInput:s=>t.jsx(w,{...s,placeholder:p||"Search",variant:"standard",color:"info",style:B,inputRef:f,InputProps:{...s.InputProps,startAdornment:t.jsx(M,{position:"start",children:t.jsx(C,{})})}})}),t.jsx(S,{invisible:!0,open:c&&l,onClick:y})]})}export{J as R};
