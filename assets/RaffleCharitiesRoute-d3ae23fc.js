import{r as c,j as e,u as y,R as z,N as F,F as k,T as A}from"./index-936632b5.js";import{F as N,f as T,D as v,a as w,r as W}from"./filterFields-9464c68d.js";import{u as B}from"./usePageTitle-e28037b6.js";import{r as L}from"./index-f92c73a3.js";import{a as D}from"./RaffleContext-77a546b9.js";import{N as H}from"./ViewFilterButtons-459bf720.js";import{L as j}from"./Link-f674d3f8.js";import{a as S,b as x,c as P,d as E,T as M,e as U}from"./TableRow-106f8cf5.js";import{R as I}from"./RaffleSearchBar-c27f9c13.js";import{R as G}from"./RaffleHeader-5e82029b.js";import{R as K,A as O}from"./AdminRoleButton-1431c5ce.js";import{R as V}from"./RaffleComingSoon-cc1912b0.js";import"./useDocumentTitle-ec53cf3d.js";import"./useData-96ffba87.js";import"./dataUrls-4eb203c4.js";import"./LockListContext-5b05c68e.js";import"./entryName-95183558.js";import"./Badge-cac674eb.js";import"./Chip-61b19fb4.js";import"./Select-1a73a774.js";import"./SearchBox-0f600157.js";import"./Box-664c22c4.js";import"./Search-09987aea.js";import"./TextField-533ec4ed.js";import"./ToggleButtonGroup-423f0b34.js";import"./Collapse-38a553d9.js";import"./Dialog-8a4c6975.js";function _({children:t}){const{filters:n}=c.useContext(N),{search:a,id:s,tab:u,name:m,sort:d,image:h,...f}=n,{allCharities:p}=c.useContext(D),g=c.useMemo(()=>{const i=Object.keys(f).map(r=>{const o=f[r];return Array.isArray(o)?o.map(C=>({key:r,value:C})):{key:r,value:o}}).flat(),l=p.filter(r=>i.every(({key:o,value:C})=>Array.isArray(r[o])?r[o].includes(C):r[o]===C)).sort((r,o)=>r.fuzzy.localeCompare(o.fuzzy)),R=a?T.go(L(a),l,{keys:q,threshold:-25e3}).map(r=>({...r.obj,score:r.score})):l;return d?R.sort((r,o)=>d==="potName"?r.title.localeCompare(o.title):d==="contributedBy"?r.contributedBy[0].localeCompare(o.contributedBy[0]):r.potNumber<o.potNumber):R},[p,f,a,d]),b=c.useMemo(()=>({allCharities:p,visibleEntries:g}),[p,g]);return e.jsx(v.Provider,{value:b,children:t})}const q=["fuzzy"];function J({charity:t}){const{isMobile:n}=y(),a=c.useCallback(d=>{const h=window.open(d,"_blank","noopener,noreferrer");h&&(h.opener=null)},[]),s=t.url?e.jsx(j,{onClick:()=>a(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),u=n?"0.95rem":"1.0rem",m=n?{fontSize:u,border:0,padding:"6px 10px"}:{fontSize:u,border:0,padding:"10px 16px"};return e.jsxs(S,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(x,{align:"left",style:m,children:s}),e.jsx(x,{align:"center",style:m,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(x,{align:"center",style:m,children:t.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations)})]})}function Q(){const{visibleEntries:t}=c.useContext(v),{isMobile:n}=y(),a=c.useRef(),[s,u]=c.useState("name"),m=c.useCallback(i=>{i!==s&&u(i)},[u,s]),d=t.sort((i,l)=>{switch(s){case"2024":return l.donations2024-i.donations2024;case"2025":return l.donations-i.donations;case"name":return i.name.localeCompare(l.name);default:return i.name.localeCompare(l.name)}}),h={maxWidth:700,marginLeft:"auto",marginRight:"auto"},f=n?"0.9rem":"1.0rem",p=n?"10px 10px":"16px 16px",g=n?"2024":"2024 Contributions",b=n?"2025":"2025 Currently";return e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(I,{label:"Approved Charities",sortValues:null}),t.length===0&&e.jsx(H,{label:"Charities"}),t.length>0&&e.jsx(P,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:a,children:e.jsxs(E,{stickyHeader:!0,style:h,children:[e.jsx(M,{children:e.jsxs(S,{children:[e.jsx(x,{style:{fontWeight:700,fontSize:f,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:p},children:e.jsx(j,{onClick:()=>m("name"),style:{color:s==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),e.jsx(x,{style:{fontWeight:700,fontSize:f,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>m("2024"),style:{color:s==="2024"?"#fff":"#ccc"},children:g})},"2024"),e.jsx(x,{style:{fontWeight:700,fontSize:f,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>m("2025"),style:{color:s==="2025"?"#fff":"#ccc"},children:b})},"2025")]})}),e.jsx(U,{children:d.map((i,l)=>e.jsx(J,{charity:i},l))})]})})]})}function ve(){B("RAFL Charities");const{isMobile:t}=y(),n=t?8:0,a={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:n,paddingRight:n},s=e.jsxs(z.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(K,{}),e.jsx(O,{})]});return e.jsx(w,{filterFields:W,children:e.jsx(_,{children:e.jsxs("div",{style:a,children:[e.jsx(F,{title:"RAFL Charities",extras:s}),e.jsx(G,{page:"charities"}),e.jsx(Q,{}),e.jsx(k,{}),e.jsx(A,{feature:"raflCharities"}),e.jsx(V,{})]})})})}export{ve as default};
