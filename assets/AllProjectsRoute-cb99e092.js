import{u as B,r as l,a2 as M,ag as R,d,ah as k,j as t,R as y,N as Y,F as w}from"./index-95abc4ed.js";import{u as A}from"./usePageTitle-79abe1f7.js";import{L as E}from"./LeaderboardName-d1811af2.js";import{C as z}from"./ChoiceButtonGroup-0e2fbfb8.js";import{c as O,d as F,T as U,a as N,b as i,e as I}from"./TableRow-1f9ba2f7.js";import{L as G}from"./Link-470a1250.js";import{u as H}from"./useData-6d9c40c0.js";import{L as _}from"./LoadingDisplay-cdc44133.js";import"./useDocumentTitle-dd11f583.js";import"./ToggleButtonGroup-6c02b9d9.js";import"./Box-4f414ee9.js";import"./CircularProgress-7fa539e2.js";function q({projects:o,updated:m}){const{isMobile:x}=B(),p=l.useMemo(()=>[{label:"All"},{label:"Scorecard Only"}],[]),[f,h]=l.useState(p[0]),D=l.useCallback(e=>h(e),[]),[n,C]=M(),s=n.get("sort"),c=s&&s.includes("ev"),[u,j]=l.useState(!1),[a,b]=l.useState(!1),g=l.useCallback(e=>()=>{s&&e!==s?(n.set("sort",e),j(c?u:!1),b(c?!1:a)):s&&e===s?(j(c?u:!u),b(c?!a:a)):e==="date"?(n.set("sort",e),j(!0)):e==="evDate"?(n.set("sort",e),b(!0)):n.set("sort",e),C(n)},[c,a,u,n,C,s]),v=l.useMemo(()=>o.length>1&&s?o.sort((e,r)=>{if(s==="evName")return(e.displayName||"").localeCompare(r.displayName||"");if(s==="evLock")return e.evidenceName.localeCompare(r.evidenceName)||e.displayName.localeCompare(r.displayName);if(s==="evBelt")return R(e.belt.replace(" Belt",""),r.belt.replace(" Belt",""))||e.displayName.localeCompare(r.displayName);if(s==="evDate")return d(r.date).valueOf()-d(e.date).valueOf()}):o.sort((e,r)=>d(r.date).valueOf()-d(e.date).valueOf()),[s,o,a]),T=l.useMemo(()=>{const e=f.label==="Scorecard Only"?v.filter(r=>!r.tabName):v;return a?e.reverse():e},[v,a,f.label]),S=x?"auto":"170px",L=x?16:20,P=l.useCallback(e=>{const r=e.replace(" Belt","");return k[r]?k[r].color:e.includes("Dan")?"#769e49":"#b00"},[]),W=l.useCallback(e=>{const r=window.open(e,"_blank","noopener,noreferrer");r&&(r.opener=null)},[]);return t.jsx(y.Fragment,{children:t.jsxs("div",{style:{justifyItems:"center",marginTop:40},children:[t.jsxs("div",{style:{fontWeight:700,fontSize:"1.2rem",width:"100%",textAlign:"center",margin:"20px 0px"},children:["Recent Projects",t.jsxs("div",{style:{fontWeight:400,fontSize:"0.9rem",width:"100%",textAlign:"center",margin:"0px 0px"},children:["Through ",d(m).format("MMM DD, YYYY")]})]}),t.jsx("div",{style:{marginBottom:20},children:t.jsx(z,{options:p,onChange:D})}),t.jsx(O,{sx:{backgroundColor:"#111",maxWidth:650},children:t.jsxs(F,{sx:{minWidth:360,align:"left"},children:[t.jsx(U,{children:t.jsxs(N,{children:[t.jsx(i,{align:"left",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"4px 0px 4px 16px",backgroundColor:"#222",width:S},children:t.jsx("span",{style:s==="evName"?{}:{cursor:"pointer",color:"#ccc"},onClick:g("evName"),children:"User"})}),t.jsxs(i,{align:"left",colSpan:2,style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"0px 0px 0px 4px",backgroundColor:"#222"},children:[t.jsx("span",{style:s==="evLock"?{}:{cursor:"pointer",color:"#ccc"},onClick:g("evLock"),children:"Project"}),t.jsx("span",{style:s==="evBelt"?{}:{cursor:"pointer",color:"#ccc"},onClick:g("evBelt"),children:"Â (Tier)"})]}),t.jsx(i,{align:"center",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:0,backgroundColor:"#222"},children:t.jsx("span",{style:!c||s==="evDate"?{}:{cursor:"pointer",color:"#ccc"},onClick:g("evDate"),children:"Date"})})]})}),t.jsx(I,{children:T.map((e,r)=>t.jsxs(N,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#000"},"td, th":{padding:"6px 2px",border:0}},children:[t.jsx(i,{align:"left",style:{padding:"0px 0px 0px 16px"},children:t.jsxs("span",{style:{fontWeight:500,width:S},children:[r," ",t.jsx(E,{leader:e,isCurrentUser:e.isCurrentUser,tab:"blackBelts",maxLength:L})]})}),t.jsx(i,{align:"left",style:{backgroundColor:P(e.belt),borderBottom:"1px solid #333",width:4,marginLeft:5}}),t.jsx(i,{align:"left",children:t.jsx("div",{style:{fontWeight:500,marginLeft:5},children:t.jsx(G,{onClick:()=>W(e.evidenceUrl),style:{color:"#fff"},children:e.evidenceName})})}),t.jsx(i,{align:"center",children:t.jsx("nobr",{children:d(e.date).format("MMM DD, YYYY")})})]},r))})]})})]})})}function ne(){var h;A("All Projects");const{data:o,loading:m,error:x}=H({url:J}),p=o?o==null?void 0:o.evidence:[],f=t.jsx(y.Fragment,{});return t.jsxs(y.Fragment,{children:[t.jsx(Y,{title:"All Projects",extras:f}),(m||x)&&t.jsx(_,{}),!m&&p.length>0&&t.jsx(q,{projects:p,updated:(h=o==null?void 0:o.metadata)==null?void 0:h.updatedDateTime}),t.jsx(w,{})]})}const J="https://explore.lpubelts.com/data/allProjects.json";export{ne as default};
