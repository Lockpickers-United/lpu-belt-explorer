import{ar as Je,as as Ze,r as i,at as et,au as tt,m as J,j as o,_ as O,o as q,ah as rt,af as Pe,R as Z,P as nt,ak as Re,k as ee,h as oe,s as z,ab as ot,l as se,a8 as st,p as ae,av as at,w as it,u as lt,M as ct,c as ue,a6 as dt,am as ut,x as Y,T as be,I as Ce,S as Ee,f as Oe,i as Te,B as _e,a0 as ft,a1 as gt,a2 as mt,aw as pt,ax as vt,ay as ht,X as xt,ad as yt,v as Lt,az as bt,q as Be,b as Ct}from"./index-9129824c.js";import"./dayjs.min-9e8c25f8.js";import{g as At,I as It,l as wt,b as St}from"./ImageViewer-a3174688.js";import{C as Ae}from"./Chip-5e19bb4e.js";import{u as Ie}from"./useWindowSize-8ff12780.js";import{F as De,S as Ne,I as kt}from"./InputLabel-2748aebe.js";import{B as Bt}from"./Badge-e8f105cd.js";const jt=["className","component"];function Mt(e={}){const{themeId:t,defaultTheme:n,defaultClassName:a="MuiBox-root",generateClassName:b}=e,h=Je("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Ze);return i.forwardRef(function(d,S){const j=et(n),I=tt(d),{className:L,component:p="div"}=I,y=J(I,jt);return o.jsx(h,O({as:p,ref:S,className:q(L,b?b(a):a),theme:t&&j[t]||j},y))})}const Pt={White:{color:"#eee",danPoints:0},Yellow:{color:"#d3d31c",danPoints:0},Orange:{color:"#d95b27",danPoints:0},Green:{color:"#43833e",danPoints:0},Blue:{color:"#3768b1",danPoints:1},Purple:{color:"#6a4b9d",danPoints:3},Brown:{color:"#624e38",danPoints:6},Red:{color:"#b92121",danPoints:10},Black:{color:"#000000",lineColor:"#494949",danPoints:18},"Black 1":{color:"#000000",lineColor:"#494949",danPoints:18},"Black 2":{color:"#000000",lineColor:"#494949",danPoints:24},"Black 3":{color:"#000000",lineColor:"#494949",danPoints:30},"Black 4":{color:"#000000",lineColor:"#494949",danPoints:36},"Black 5":{color:"#000000",lineColor:"#494949",danPoints:50},Unranked:{color:"#000000",lineColor:"#d3d31c",danPoints:0}},Le=Object.keys(Pt),me=[...Le].reverse();me.push(me.shift());const ln=["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],cn=(e,t)=>Le.indexOf(e)-Le.indexOf(t),dn=(e,t)=>me.indexOf(e)-me.indexOf(t);var Fe={exports:{}};(function(e){((t,n)=>{e.exports?e.exports=n():t.fuzzysort=n()})(rt,t=>{var n=(l,r)=>{if(l=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!l||!r)return E;var c=j(l);re(r)||(r=S(r));var f=c.bitflags;return(f&r._bitflags)!==f?E:L(c,r)},a=(l,r,c)=>{if(l=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:r?r[0]:E}];if(!l)return c&&c.all?I(l,r,c):he;var f=j(l),g=f.bitflags;f.containsSpace;var m=c&&c.threshold||ne,v=c&&c.limit||ve,s=0,B=0,A=r.length;if(c&&c.key)for(var P=c.key,_=0;_<A;++_){var F=r[_],T=X(F,P);if(T&&(re(T)||(T=S(T)),(g&T._bitflags)===g)){var $=L(f,T);$!==E&&($.score<m||($={target:$.target,_targetLower:"",_targetLowerCodes:E,_nextBeginningIndexes:E,_bitflags:0,score:$.score,_indexes:$._indexes,obj:F},s<v?(V.add($),++s):(++B,$.score>V.peek().score&&V.replaceTop($))))}}else if(c&&c.keys)for(var Q=c.scoreFn||ie,de=c.keys,fe=de.length,_=0;_<A;++_){for(var F=r[_],U=new Array(fe),G=0;G<fe;++G){var P=de[G],T=X(F,P);if(!T){U[G]=E;continue}re(T)||(T=S(T)),(g&T._bitflags)!==g?U[G]=E:U[G]=L(f,T)}U.obj=F;var D=Q(U);D!==E&&(D<m||(U.score=D,s<v?(V.add(U),++s):(++B,D>V.peek().score&&V.replaceTop(U))))}else for(var _=0;_<A;++_){var T=r[_];if(T&&(re(T)||(T=S(T)),(g&T._bitflags)===g)){var $=L(f,T);$!==E&&($.score<m||(s<v?(V.add($),++s):(++B,$.score>V.peek().score&&V.replaceTop($))))}}if(s===0)return he;for(var le=new Array(s),_=s-1;_>=0;--_)le[_]=V.poll();return le.total=s+B,le},b=(l,r,c)=>{if(typeof r=="function")return h(l,r);if(l===E)return E;r===void 0&&(r="<b>"),c===void 0&&(c="</b>");var f="",g=0,m=!1,v=l.target,s=v.length,B=l._indexes;B=B.slice(0,B.len).sort((_,F)=>_-F);for(var A=0;A<s;++A){var P=v[A];if(B[g]===A){if(++g,m||(m=!0,f+=r),g===B.length){f+=P+c+v.substr(A+1);break}}else m&&(m=!1,f+=c);f+=P}return f},h=(A,r)=>{if(A===E)return E;var c=A.target,f=c.length,g=A._indexes;g=g.slice(0,g.len).sort((F,T)=>F-T);for(var m="",v=0,s=0,B=!1,A=[],P=0;P<f;++P){var _=c[P];if(g[s]===P){if(++s,B||(B=!0,A.push(m),m=""),s===g.length){m+=_,A.push(r(m,v++)),m="",A.push(c.substr(P+1));break}}else B&&(B=!1,A.push(r(m,v++)),m="");m+=_}return A},w=l=>l._indexes.slice(0,l._indexes.len).sort((r,c)=>r-c),u=l=>{typeof l!="string"&&(l="");var r=y(l);return{target:l,_targetLower:r._lower,_targetLowerCodes:r.lowerCodes,_nextBeginningIndexes:E,_bitflags:r.bitflags,score:E,_indexes:[0],obj:E}},d=l=>{typeof l!="string"&&(l=""),l=l.trim();var r=y(l),c=[];if(r.containsSpace){var f=l.split(/\s+/);f=[...new Set(f)];for(var g=0;g<f.length;g++)if(f[g]!==""){var m=y(f[g]);c.push({lowerCodes:m.lowerCodes,_lower:f[g].toLowerCase(),containsSpace:!1})}}return{lowerCodes:r.lowerCodes,bitflags:r.bitflags,containsSpace:r.containsSpace,_lower:r._lower,spaceSearches:c}},S=l=>{if(l.length>999)return u(l);var r=N.get(l);return r!==void 0||(r=u(l),N.set(l,r)),r},j=l=>{if(l.length>999)return d(l);var r=k.get(l);return r!==void 0||(r=d(l),k.set(l,r)),r},I=(l,r,c)=>{var f=[];f.total=r.length;var g=c&&c.limit||ve;if(c&&c.key)for(var m=0;m<r.length;m++){var v=r[m],s=X(v,c.key);if(s){re(s)||(s=S(s)),s.score=ne,s._indexes.len=0;var B=s;if(B={target:B.target,_targetLower:"",_targetLowerCodes:E,_nextBeginningIndexes:E,_bitflags:0,score:s.score,_indexes:E,obj:v},f.push(B),f.length>=g)return f}}else if(c&&c.keys)for(var m=0;m<r.length;m++){for(var v=r[m],A=new Array(c.keys.length),P=c.keys.length-1;P>=0;--P){var s=X(v,c.keys[P]);if(!s){A[P]=E;continue}re(s)||(s=S(s)),s.score=ne,s._indexes.len=0,A[P]=s}if(A.obj=v,A.score=ne,f.push(A),f.length>=g)return f}else for(var m=0;m<r.length;m++){var s=r[m];if(s&&(re(s)||(s=S(s)),s.score=ne,s._indexes.len=0,f.push(s),f.length>=g))return f}return f},L=(l,r,c=!1)=>{if(c===!1&&l.containsSpace)return p(l,r);for(var f=l._lower,g=l.lowerCodes,m=g[0],v=r._targetLowerCodes,s=g.length,B=v.length,F=0,A=0,P=0;;){var _=m===v[A];if(_){if(R[P++]=A,++F,F===s)break;m=g[F]}if(++A,A>=B)return E}var F=0,T=!1,$=0,Q=r._nextBeginningIndexes;Q===E&&(Q=r._nextBeginningIndexes=x(r.target)),A=R[0]===0?0:Q[R[0]-1];var de=0;if(A!==B)for(;;)if(A>=B){if(F<=0||(++de,de>200))break;--F;var fe=W[--$];A=Q[fe]}else{var _=g[F]===v[A];if(_){if(W[$++]=A,++F,F===s){T=!0;break}++A}else A=Q[A]}var U=r._targetLower.indexOf(f,R[0]),G=~U;if(G&&!T)for(var D=0;D<P;++D)R[D]=U+D;var le=!1;G&&(le=r._nextBeginningIndexes[U-1]===U);{if(T)var H=W,xe=$;else var H=R,xe=P;for(var K=0,ke=0,D=1;D<s;++D)H[D]-H[D-1]!==1&&(K-=H[D],++ke);var Ye=H[s-1]-H[0]-(s-1);if(K-=(12+Ye)*ke,H[0]!==0&&(K-=H[0]*H[0]*.2),!T)K*=1e3;else{for(var ye=1,D=Q[0];D<B;D=Q[D])++ye;ye>24&&(K*=(ye-24)*10)}G&&(K/=1+s*s*1),le&&(K/=1+s*s*1),K-=B-s,r.score=K;for(var D=0;D<xe;++D)r._indexes[D]=H[D];return r._indexes.len=xe,r}},p=(l,r)=>{for(var c=new Set,f=0,g=E,m=0,v=l.spaceSearches,P=0;P<v.length;++P){var s=v[P];if(g=L(s,r),g===E)return E;f+=g.score,g._indexes[0]<m&&(f-=m-g._indexes[0]),m=g._indexes[0];for(var B=0;B<g._indexes.len;++B)c.add(g._indexes[B])}var A=L(l,r,!0);if(A!==E&&A.score>f)return A;g.score=f;var P=0;for(let _ of c)g._indexes[P++]=_;return g._indexes.len=P,g},y=l=>{for(var r=l.length,c=l.toLowerCase(),f=[],g=0,m=!1,v=0;v<r;++v){var s=f[v]=c.charCodeAt(v);if(s===32){m=!0;continue}var B=s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31;g|=1<<B}return{lowerCodes:f,bitflags:g,containsSpace:m,_lower:c}},C=l=>{for(var r=l.length,c=[],f=0,g=!1,m=!1,v=0;v<r;++v){var s=l.charCodeAt(v),B=s>=65&&s<=90,A=B||s>=97&&s<=122||s>=48&&s<=57,P=B&&!g||!m||!A;g=B,m=A,P&&(c[f++]=v)}return c},x=l=>{for(var r=l.length,c=C(l),f=[],g=c[0],m=0,v=0;v<r;++v)g>v?f[v]=g:(g=c[++m],f[v]=g===void 0?r:g);return f},M=()=>{N.clear(),k.clear(),R=[],W=[]},N=new Map,k=new Map,R=[],W=[],ie=l=>{for(var r=ne,c=l.length,f=0;f<c;++f){var g=l[f];if(g!==E){var m=g.score;m>r&&(r=m)}}return r===ne?E:r},X=(l,r)=>{var c=l[r];if(c!==void 0)return c;var f=r;Array.isArray(r)||(f=r.split("."));for(var g=f.length,m=-1;l&&++m<g;)l=l[f[m]];return l},re=l=>typeof l=="object",ve=1/0,ne=-ve,he=[];he.total=0;var E=null,Xe=l=>{var r=[],c=0,f={},g=m=>{for(var v=0,s=r[v],B=1;B<c;){var A=B+1;v=B,A<c&&r[A].score<r[B].score&&(v=A),r[v-1>>1]=r[v],B=1+(v<<1)}for(var P=v-1>>1;v>0&&s.score<r[P].score;P=(v=P)-1>>1)r[v]=r[P];r[v]=s};return f.add=m=>{var v=c;r[c++]=m;for(var s=v-1>>1;v>0&&m.score<r[s].score;s=(v=s)-1>>1)r[v]=r[s];r[v]=m},f.poll=m=>{if(c!==0){var v=r[0];return r[0]=r[--c],g(),v}},f.peek=m=>{if(c!==0)return r[0]},f.replaceTop=m=>{r[0]=m,g()},f},V=Xe();return{single:n,go:a,highlight:b,prepare:u,indexes:w,cleanup:M}})})(Fe);var Rt=Fe.exports;const un=Pe(Rt),$e=Z.createContext({}),Et=e=>[...new Set([...(e==null?void 0:e.own)||[],...(e==null?void 0:e.picked)||[],...(e==null?void 0:e.recorded)||[],...(e==null?void 0:e.wishlist)||[]])],te=Z.createContext({});function fn({children:e,filterFields:t}){const[n,a]=nt(),b=i.useMemo(()=>Array.from(n.keys()).reduce((y,C)=>{const x=n.getAll(C);return y[C]=x.length===1?x[0]:x,y},{}),[n]),h=i.useCallback(p=>{Object.keys(p).forEach(y=>{p[y]||delete p[y]}),a(p)},[a]),w=i.useCallback((p,y)=>{p.forEach(({key:C,value:x})=>{!x&&y?n.delete(C):x&&(y?Array.isArray(x)?(n.delete(C),x.forEach(M=>n.append(C,M))):n.set(C,x):n.has(C)?n.append(C,x):n.set(C,x))}),a(n)},[n,a]),u=i.useCallback((p,y,C)=>w([{key:p,value:y}],C),[w]),d=i.useCallback(p=>{p.forEach(y=>n.delete(y)),a(n)},[n,a]),S=i.useCallback((p,y)=>{const C=n.getAll(p);n.delete(p),Array.isArray(C)&&C.length>1&&C.filter(M=>M!==y).forEach(M=>n.append(p,M)),a(n)},[n,a]),j=i.useCallback(()=>{const{tab:p}=b;h({tab:p})},[b,h]),I=i.useMemo(()=>Array.from(n.keys()).filter(y=>!Ot.includes(y)).length,[n]),L=i.useMemo(()=>({filters:b,filterCount:I,addFilter:u,addFilters:w,removeFilter:S,removeFilters:d,setFilters:h,clearFilters:j,filterFields:t,filterFieldsByFieldName:t.reduce((p,y)=>({...p,[y.fieldName]:y}),{id:{label:"ID"}})}),[u,w,j,I,b,S,d,h,t]);return o.jsx(te.Provider,{value:L,children:e})}const Ot=["id","name","search","tab","sort","image"];var pe={exports:{}},We={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},Ue=Object.keys(We).join("|"),Tt=new RegExp(Ue,"g"),_t=new RegExp(Ue,"");function Dt(e){return We[e]}var ze=function(e){return e.replace(Tt,Dt)},Nt=function(e){return!!e.match(_t)};pe.exports=ze;pe.exports.has=Nt;pe.exports.remove=ze;var Ft=pe.exports;const gn=Pe(Ft),$t=Z.createContext({});function mn({children:e}){const{userId:t}=Re(),{allEntries:n,getEntryFromId:a,getNameFromId:b}=i.useContext($e),{filters:h,addFilter:w,addFilters:u,removeFilters:d}=i.useContext(te),S=h.id,j=i.useCallback((k,R)=>{const W=a(k),ie=b(k);if(k&&k!=="beltreqs"){const X=h.tab==="search"&&!R?"search":W.belt.replace(/\s\d/g,"");u([{key:"id",value:k},{key:"name",value:ie},{key:"tab",value:t?void 0:X}],!0)}else k==="beltreqs"?u([{key:"id",value:k},{key:"name",value:void 0}],!0):d(["id","name"])},[u,h.tab,a,b,d,t]),I=i.useCallback(()=>{d(["id","name"])},[d]),L=i.useCallback(k=>{u([{key:"tab",value:k},{key:"id",value:S==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>y(!1),0)},[u,S]),[p,y]=i.useState(!1),[C,x]=i.useState(!1),M=i.useMemo(()=>{if(!h.tab){const{id:k}=h;if(k&&!h.tab){const R=n.find(W=>k===W.id);if(R){const W=R.belt.replace(/\s\d/g,"");return w("tab",W),W}}return"White"}return h.tab},[w,n,h]),N=i.useMemo(()=>({compact:C,tab:M,setTab:L,expanded:S,setExpanded:j,clearExpanded:I,displayAll:p&&h.tab==="search",setDisplayAll:y,setCompact:x}),[C,p,S,h.tab,I,j,L,M]);return o.jsx($t.Provider,{value:N,children:e})}const pn=[{key:"own",label:"Own"},{key:"picked",label:"Picked"},{key:"recorded",label:"Recorded"},{key:"wishlist",label:"Wishlist"}],Wt=["Own","Picked","Recorded","Wishlist"],Ut=i.createContext({}),Ve=Ut;function zt(e){return oe("MuiAccordion",e)}const Vt=ee("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),ge=Vt,Gt=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Ht=e=>{const{classes:t,square:n,expanded:a,disabled:b,disableGutters:h}=e;return ae({root:["root",!n&&"rounded",a&&"expanded",b&&"disabled",!h&&"gutters"],region:["region"]},zt,t)},qt=z(ot,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ge.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${ge.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${ge.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>O({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${ge.expanded}`]:{margin:"16px 0"}})),Qt=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiAccordion"}),{children:b,className:h,defaultExpanded:w=!1,disabled:u=!1,disableGutters:d=!1,expanded:S,onChange:j,square:I=!1,TransitionComponent:L=at,TransitionProps:p}=a,y=J(a,Gt),[C,x]=st({controlled:S,default:w,name:"Accordion",state:"expanded"}),M=i.useCallback(X=>{x(!C),j&&j(X,!C)},[C,j,x]),[N,...k]=i.Children.toArray(b),R=i.useMemo(()=>({expanded:C,disabled:u,disableGutters:d,toggle:M}),[C,u,d,M]),W=O({},a,{square:I,disabled:u,disableGutters:d,expanded:C}),ie=Ht(W);return o.jsxs(qt,O({className:q(ie.root,h),ref:n,ownerState:W,square:I},y,{children:[o.jsx(Ve.Provider,{value:R,children:N}),o.jsx(L,O({in:C,timeout:"auto"},p,{children:o.jsx("div",{"aria-labelledby":N.props.id,id:N.props["aria-controls"],role:"region",className:ie.region,children:k})}))]}))}),vn=Qt;function Kt(e){return oe("MuiAccordionDetails",e)}ee("MuiAccordionDetails",["root"]);const Xt=["className"],Yt=e=>{const{classes:t}=e;return ae({root:["root"]},Kt,t)},Jt=z("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Zt=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiAccordionDetails"}),{className:b}=a,h=J(a,Xt),w=a,u=Yt(w);return o.jsx(Jt,O({className:q(u.root,b),ref:n,ownerState:w},h))}),hn=Zt;function er(e){return oe("MuiAccordionSummary",e)}const tr=ee("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),ce=tr,rr=["children","className","expandIcon","focusVisibleClassName","onClick"],nr=e=>{const{classes:t,expanded:n,disabled:a,disableGutters:b}=e;return ae({root:["root",n&&"expanded",a&&"disabled",!b&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!b&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},er,t)},or=z(it,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return O({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${ce.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ce.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${ce.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${ce.expanded}`]:{minHeight:64}})}),sr=z("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>O({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${ce.expanded}`]:{margin:"20px 0"}})),ar=z("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${ce.expanded}`]:{transform:"rotate(180deg)"}})),ir=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiAccordionSummary"}),{children:b,className:h,expandIcon:w,focusVisibleClassName:u,onClick:d}=a,S=J(a,rr),{disabled:j=!1,disableGutters:I,expanded:L,toggle:p}=i.useContext(Ve),y=M=>{p&&p(M),d&&d(M)},C=O({},a,{expanded:L,disabled:j,disableGutters:I}),x=nr(C);return o.jsxs(or,O({focusRipple:!1,disableRipple:!0,disabled:j,component:"div","aria-expanded":L,className:q(x.root,h),focusVisibleClassName:q(x.focusVisible,u),onClick:y,ref:n,ownerState:C},S,{children:[o.jsx(sr,{className:x.content,ownerState:C,children:b}),w&&o.jsx(ar,{className:x.expandIconWrapper,ownerState:C,children:w})]}))}),xn=ir;function lr({name:e,value:t,last:n,style:a,headerStyle:b={},textStyle:h={}}){const w=n?{marginLeft:5,...a}:{marginLeft:5,marginBottom:8,...a},u={color:"#666",fontSize:"0.85rem",...b},d={marginLeft:5,...h};return o.jsxs("div",{style:w,children:[o.jsx("div",{style:u,children:e}),o.jsx("div",{style:d,children:t})]})}const cr=Z.memo(lr);function yn({field:e,value:t,...n}){const a=lt(),[b,h]=i.useState(!1),{addFilter:w}=i.useContext(te),u=i.useCallback(L=>{L.preventDefault(),L.stopPropagation(),h(!1)},[]),d=i.useCallback(L=>{L.preventDefault(),L.stopPropagation(),h(!1),w(e,t),window.scrollTo({top:0,behavior:"smooth"})},[w,e,t]),S=i.useCallback(L=>{L.preventDefault(),L.stopPropagation(),h(L.target)},[]),j=i.useCallback(L=>{L.stopPropagation(),h(!1);const p=encodeURI(t);setTimeout(()=>a(`/glossary?term=${p}`),0)},[a,t]),I=i.useMemo(()=>!!At.find(L=>L.term.toLowerCase()===t.toLowerCase()),[t]);return o.jsxs(Z.Fragment,{children:[o.jsx(Ae,{clickable:!0,variant:"outlined",label:t,style:{marginRight:4,marginBottom:4},onClick:S,...n}),o.jsxs(ct,{open:!!b,anchorEl:b,anchorOrigin:{horizontal:"right",vertical:"bottom"},onClose:u,children:[o.jsxs(ue,{disabled:!0,children:["Term: ",t]}),o.jsx(dt,{}),o.jsx(ue,{onClick:d,children:"Add Filter"}),o.jsx(ue,{onClick:j,disabled:!I,children:"Go to Glossary"})]})]})}function dr(e){return oe("MuiAccordionActions",e)}ee("MuiAccordionActions",["root","spacing"]);const ur=["className","disableSpacing"],fr=e=>{const{classes:t,disableSpacing:n}=e;return ae({root:["root",!n&&"spacing"]},dr,t)},gr=z("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>O({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),mr=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiAccordionActions"}),{className:b,disableSpacing:h=!1}=a,w=J(a,ur),u=O({},a,{disableSpacing:h}),d=fr(u);return o.jsx(gr,O({className:q(d.root,b),ref:n,ownerState:u},w))}),Ln=mr;function pr(e){return oe("MuiImageList",e)}ee("MuiImageList",["root","masonry","quilted","standard","woven"]);const vr=i.createContext({}),Ge=vr,hr=["children","className","cols","component","rowHeight","gap","style","variant"],xr=e=>{const{classes:t,variant:n}=e;return ae({root:["root",n]},pr,t)},yr=z("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})(({ownerState:e})=>O({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},e.variant==="masonry"&&{display:"block"})),Lr=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiImageList"}),{children:b,className:h,cols:w=2,component:u="ul",rowHeight:d="auto",gap:S=4,style:j,variant:I="standard"}=a,L=J(a,hr),p=i.useMemo(()=>({rowHeight:d,gap:S,variant:I}),[d,S,I]);i.useEffect(()=>{},[]);const y=I==="masonry"?O({columnCount:w,columnGap:S},j):O({gridTemplateColumns:`repeat(${w}, 1fr)`,gap:S},j),C=O({},a,{component:u,gap:S,rowHeight:d,variant:I}),x=xr(C);return o.jsx(yr,O({as:u,className:q(x.root,x[I],h),ref:n,style:y,ownerState:C},L,{children:o.jsx(Ge.Provider,{value:p,children:b})}))}),br=Lr;function Cr(e){return oe("MuiImageListItem",e)}const Ar=ee("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),je=Ar,Ir=["children","className","cols","component","rows","style"],wr=e=>{const{classes:t,variant:n}=e;return ae({root:["root",n],img:["img"]},Cr,t)},Sr=z("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${je.img}`]:t.img},t.root,t[n.variant]]}})(({ownerState:e})=>O({display:"block",position:"relative"},e.variant==="standard"&&{display:"flex",flexDirection:"column"},e.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${je.img}`]:O({objectFit:"cover",width:"100%",height:"100%",display:"block"},e.variant==="standard"&&{height:"auto",flexGrow:1})})),kr=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiImageListItem"}),{children:b,className:h,cols:w=1,component:u="li",rows:d=1,style:S}=a,j=J(a,Ir),{rowHeight:I="auto",gap:L,variant:p}=i.useContext(Ge);let y="auto";p==="woven"?y=void 0:I!=="auto"&&(y=I*d+L*(d-1));const C=O({},a,{cols:w,component:u,gap:L,rowHeight:I,rows:d,variant:p}),x=wr(C);return o.jsx(Sr,O({as:u,className:q(x.root,x[p],h),ref:n,style:O({height:y,gridColumnEnd:p!=="masonry"?`span ${w}`:void 0,gridRowEnd:p!=="masonry"?`span ${d}`:void 0,marginBottom:p==="masonry"?L:void 0,breakInside:p==="masonry"?"avoid":void 0},S),ownerState:C},j,{children:i.Children.map(b,M=>i.isValidElement(M)?M.type==="img"||ut(M,["Image"])?i.cloneElement(M,{className:q(x.img,M.props.className)}):M:null)}))}),Br=kr;function jr(e){return oe("MuiImageListItemBar",e)}ee("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const Mr=["actionIcon","actionPosition","className","subtitle","title","position"],Pr=e=>{const{classes:t,position:n,actionIcon:a,actionPosition:b}=e,h={root:["root",`position${Y(n)}`],titleWrap:["titleWrap",`titleWrap${Y(n)}`,a&&`titleWrapActionPos${Y(b)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${Y(b)}`]};return ae(h,jr,t)},Rr=z("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Y(n.position)}`]]}})(({theme:e,ownerState:t})=>O({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},t.position==="bottom"&&{bottom:0},t.position==="top"&&{top:0},t.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),Er=z("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.titleWrap,t[`titleWrap${Y(n.position)}`],n.actionIcon&&t[`titleWrapActionPos${Y(n.actionPosition)}`]]}})(({theme:e,ownerState:t})=>O({flexGrow:1,padding:"12px 16px",color:(e.vars||e).palette.common.white,overflow:"hidden"},t.position==="below"&&{padding:"6px 0 12px",color:"inherit"},t.actionIcon&&t.actionPosition==="left"&&{paddingLeft:0},t.actionIcon&&t.actionPosition==="right"&&{paddingRight:0})),Or=z("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(e,t)=>t.title})(({theme:e})=>({fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),Tr=z("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(e,t)=>t.subtitle})(({theme:e})=>({fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),_r=z("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actionIcon,t[`actionIconActionPos${Y(n.actionPosition)}`]]}})(({ownerState:e})=>O({},e.actionPosition==="left"&&{order:-1})),Dr=i.forwardRef(function(t,n){const a=se({props:t,name:"MuiImageListItemBar"}),{actionIcon:b,actionPosition:h="right",className:w,subtitle:u,title:d,position:S="bottom"}=a,j=J(a,Mr),I=O({},a,{position:S,actionPosition:h}),L=Pr(I);return o.jsxs(Rr,O({ownerState:I,className:q(L.root,w),ref:n},j,{children:[o.jsxs(Er,{ownerState:I,className:L.titleWrap,children:[o.jsx(Or,{className:L.title,children:d}),u?o.jsx(Tr,{className:L.subtitle,children:u}):null]}),b?o.jsx(_r,{ownerState:I,className:L.actionIcon,children:b}):null]}))}),Nr=Dr,Fr="data:image/png;base64,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";function bn(e){const{columns:t,media:n,initiallyOpen:a,openIndex:b,onOpenImage:h,onCloseImage:w,onBackButton:u,shareParams:d}=e,{isMobile:S}=Ie(),[j,I]=i.useState(a),L=i.useCallback(x=>()=>window.open(x,"_blank","noopener,noreferrer"),[]),p=i.useCallback(x=>()=>{h(x),I(!0)},[h]),y=i.useCallback(()=>{w(),I(!1)},[w]);i.useEffect(()=>{const x=()=>{if(u){const M=u();return I(M)}return I(!1)};return addEventListener("hashchange",x),()=>removeEventListener("hashchange",x)});const C=t??(S?2:3);return o.jsxs(Z.Fragment,{children:[j&&o.jsx(It,{media:n,openIndex:b,onOpenImage:h,onClose:y,shareParams:d}),o.jsx(br,{variant:"masonry",cols:C,sx:{marginTop:2},children:n.map(({title:x,subtitle:M,thumbnailUrl:N,fullUrl:k,subtitleUrl:R},W)=>o.jsxs(Br,{style:{marginBottom:8},children:[o.jsx("img",{src:N,alt:x,style:{paddingBottom:M?60:48,cursor:"pointer"},onClick:p(W)}),(k==null?void 0:k.match(/youtube\.com/))&&o.jsx("img",{src:Fr,alt:x,style:{alignItems:"center",position:"absolute",top:"calc(50% - 65px)",left:"calc(50% - 40px)",width:80,height:80,cursor:"pointer"},onClick:L(k)}),o.jsx(Nr,{title:x,subtitle:M&&o.jsx("a",{href:R||wt[M],target:"_blank",rel:"noopener noreferrer",children:M}),actionIcon:k&&o.jsx(be,{title:"View Full Size",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{href:k,style:{color:"rgba(255, 255, 255, 0.5)"},target:"_blank",rel:"noopener noreferrer",children:o.jsx(St,{})})})})]},W))})]})}function $r(){const{filters:e,filterCount:t,removeFilter:n,filterFieldsByFieldName:a}=i.useContext(te),b=i.useCallback((u,d)=>()=>{n(u,d)},[n]),h=i.useMemo(()=>{const{search:u,id:d,tab:S,name:j,sort:I,image:L,...p}=e;return Object.keys(p).map(y=>{const C=e[y];return Array.isArray(C)?C.map(x=>({key:y,value:x})):{key:y,value:C}}).flat()},[e]),w=i.useCallback((u,d)=>u==="Belt"?d==="Unranked"?u:d.includes("Black")?d.replace(/(Black)\s(\d+)/,"$1 Belt $2"):d+" Belt":u==="UL Group"?"Group "+d:u==="Wheels"?`${d} Wheels`:d,[]);return t===0?null:o.jsx(cr,{name:"Current Filters",style:{marginBottom:0},value:o.jsx(Ee,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:h.map(({key:u,value:d},S)=>{var j;return o.jsx(Ae,{label:`${w((j=a[u])==null?void 0:j.label,d)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:b(u,d)},S)})})})}var we={},Wr=Te;Object.defineProperty(we,"__esModule",{value:!0});var He=we.default=void 0,Ur=Wr(Oe()),zr=o;He=we.default=(0,Ur.default)((0,zr.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function qe({forceText:e}){const{isMobile:t}=Ie(),{filterCount:n,clearFilters:a}=i.useContext(te);return n===0?null:t&&!e?o.jsx(be,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{onClick:a,children:o.jsx(He,{})})}):o.jsx(_e,{variant:"outlined",color:"inherit",onClick:a,style:{minWidth:120},children:"Clear Filters"})}function Cn({profile:e={}}){const{userId:t}=Re(),{filters:n,filterCount:a,addFilter:b}=i.useContext(te),[h,w]=Z.useState(!1),u=i.useMemo(()=>Et(e),[e]),{collection:d=t&&a===0?"Any":null}=n,{isMobile:S}=Ie(),j=S?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0};let I="";d&&(typeof d=="string"?I=d:I=d[0]);const L=i.useCallback(()=>w(!1),[]),p=i.useCallback(()=>w(!0),[]),y=i.useCallback(N=>{b("collection",N.target.value)},[b]);if(!a&&!t)return null;const C=typeof d=="string"&&(Me.includes(d)||d==="Any")&&a<2,x=e.displayName?e.displayName.toLowerCase().endsWith("s")?`${e.displayName}'`:`${e.displayName}'s`:"Private",M=t?`${x} Collection`:C?"My Collection":"Filters";return o.jsxs(ft,{style:j,sx:{paddingBottom:0,paddingTop:0},children:[o.jsx(gt,{title:M,action:o.jsx(qe,{})}),o.jsxs(mt,{style:{paddingTop:0,paddingLeft:8},children:[C&&o.jsx(De,{fullWidth:!0,size:"small",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:o.jsx(Ne,{open:h,onClose:L,onOpen:p,value:I,onChange:y,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},children:Me.map((N,k)=>{var R;return o.jsxs(ue,{value:N,children:[N," (",N==="Any"?u.length:((R=e[N.toLowerCase()])==null?void 0:R.length)||0,")"]},k)})})}),!C&&o.jsx($r,{})]})]})}const Me=["Any",...Wt],Vr=ee("MuiBox",["root"]),Gr=Vr,Hr=pt(),qr=Mt({themeId:vt,defaultTheme:Hr,defaultClassName:Gr.root,generateClassName:ht.generate}),Qe=qr;var Se={},Qr=Te;Object.defineProperty(Se,"__esModule",{value:!0});var Ke=Se.default=void 0,Kr=Qr(Oe()),Xr=o;Ke=Se.default=(0,Kr.default)((0,Xr.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Yr({label:e,fieldName:t,onFilter:n,sort:a}){const{visibleEntries:b}=i.useContext($e),{filters:h}=i.useContext(te),[w,u]=i.useState(!1),d=i.useCallback(x=>{u(!1),setTimeout(()=>n(t,x.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[t,n]),S=i.useCallback(()=>{u(!1),setTimeout(()=>document.activeElement.blur())},[]),j=i.useCallback(()=>u(!0),[]),{counts:I,options:L}=i.useMemo(()=>{const x=b.map(k=>k[t]).flat().filter(k=>k),M=x.reduce((k,R)=>(k[R]||(k[R]=0),k[R]++,k),{}),N=[...new Set(x)].sort((k,R)=>{if(a)return a(k,R);if(typeof k=="string"&&typeof R=="string")return k.localeCompare(R);if(Number.isInteger(k)&&Number.isInteger(R))return k-R});return{counts:M,options:N}},[t,b,a]),p=i.useDeferredValue(h),y=p[t],C=Array.isArray(y)?p[t]:y?[y]:[];return o.jsxs(De,{style:{minWidth:120,maxWidth:300,marginTop:4},fullWidth:!0,children:[o.jsx(kt,{id:`filter-${t}`,children:e}),o.jsx(Ne,{multiple:!0,label:e,labelId:`filter-${t}`,value:C,onChange:d,style:{marginBottom:8},open:w,onClose:S,onOpen:j,onBlur:S,MenuProps:{PaperProps:{style:{maxHeight:Jr*8+Zr}}},renderValue:x=>o.jsx(Qe,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.map(M=>o.jsx(Ae,{label:M},M))}),children:L.map((x,M)=>o.jsx(ue,{value:x,children:`${x} (${I[x]||0})`},M))})]})}const Jr=48,Zr=8;function An({onFiltersChanged:e,extraFilters:t=[]}){const{isLoggedIn:n}=i.useContext(xt),{beta:a}=i.useContext(yt),{filterCount:b,addFilters:h,filterFields:w}=i.useContext(te),[u,d]=i.useState(!1),S=i.useCallback(()=>d(!u),[u]);Lt("f",S);const j=i.useCallback(()=>d(!0),[]),I=i.useCallback(()=>d(!1),[]),L=i.useCallback((p,y)=>{h([{key:p,value:y},{key:"id",value:void 0},{key:"name",value:void 0},...t],!0),e&&e()},[h,e,t]);return o.jsxs(Z.Fragment,{children:[o.jsx(be,{title:"Filter",arrow:!0,disableFocusListener:!0,children:o.jsx(Ce,{color:"inherit",onClick:j,children:o.jsx(Bt,{badgeContent:b,color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(Ke,{})})})}),o.jsxs(bt,{anchor:"right",open:u,onClose:I,children:[o.jsx(Be,{variant:"dense",onClick:I,children:o.jsx(Ct,{variant:"h6",children:"Filters"})}),o.jsx(Qe,{margin:1,children:o.jsx(Ee,{direction:"column",style:{minWidth:250},children:w.filter(p=>(!p.beta||a)&&(!p.userBased||n)).map((p,y)=>o.jsx(Yr,{...p,onFilter:L},y))})}),o.jsxs(Be,{variant:"dense",children:[o.jsx(qe,{forceText:!0,style:{marginRight:8}}),o.jsx(_e,{variant:"outlined",color:"inherit",onClick:I,children:"Done"})]})]})]})}export{vn as A,Qe as B,$e as D,te as F,Cn as I,$t as L,xn as a,hn as b,Ln as c,An as d,fn as e,mn as f,pn as g,Et as h,Pt as i,un as j,cn as k,dn as l,bn as m,cr as n,yn as o,gn as r,ln as u};
