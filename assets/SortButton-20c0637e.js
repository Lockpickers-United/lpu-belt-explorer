import{K as L,M as E,j as e,r as t,A as I,X as T,V as O,R as F,G as B,I as R,aD as W,P as y,J as _,W as z,B as M,a9 as w,aa as k,ai as q}from"./index-32d4c99f.js";import{F as S}from"./filterFields-4f11352b.js";import{F as H,C as V}from"./SearchBox-254a201d.js";import{B as A}from"./Badge-bc1a2c25.js";import{B as P}from"./Box-eefa0c70.js";import{d as G}from"./Sort-33cadafe.js";import{L as J}from"./LockListContext-e712e49f.js";var b={},K=E;Object.defineProperty(b,"__esModule",{value:!0});var D=b.default=void 0,N=K(L()),X=e;D=b.default=(0,N.default)((0,X.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function re({onFiltersChanged:c,extraFilters:d=[],text:a}){const{isLoggedIn:u}=t.useContext(I),{beta:m}=t.useContext(T),{filterCount:p,addFilters:n,filterFields:C}=t.useContext(S),[s,i]=t.useState(!1),h=t.useCallback(()=>i(!s),[s]);O("f",h);const x=t.useCallback(()=>i(!0),[]),l=t.useCallback(()=>i(!1),[]),f=t.useCallback((o,v)=>{n([{key:o,value:v},{key:"id",value:void 0},{key:"name",value:void 0},...d],!0),c&&c()},[n,c,d]),g=a?e.jsx("div",{style:{fontSize:"0.9rem",fontWeight:700,marginRight:10},children:"FILTER"}):e.jsx(D,{}),j=a?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"right"},r=a?"dot":null;return e.jsxs(F.Fragment,{children:[e.jsx(B,{title:"Filter",arrow:!0,disableFocusListener:!0,children:e.jsx(R,{color:"inherit",onClick:x,children:e.jsx(A,{variant:r,badgeContent:p,color:"secondary",overlap:"circular",anchorOrigin:j,children:g})})}),e.jsxs(W,{anchor:"right",open:s,onClose:l,children:[e.jsx(y,{variant:"dense",onClick:l,children:e.jsx(_,{variant:"h6",children:"Filters"})}),e.jsx(P,{margin:1,children:e.jsx(z,{direction:"column",style:{minWidth:250},children:C.filter(o=>(!o.beta||m)&&(!o.userBased||u)).map((o,v)=>e.jsx(H,{...o,onFilter:f},v))})}),e.jsxs(y,{variant:"dense",children:[e.jsx(V,{forceText:!0,style:{marginRight:8}}),e.jsx(M,{variant:"outlined",color:"inherit",onClick:l,children:"Done"})]})]})]})}function oe({sortValues:c,text:d}){const[a,u]=t.useState(null),m=!!a,p=t.useCallback(r=>u(r.currentTarget),[]),n=t.useCallback(()=>u(null),[]),{filters:C,addFilter:s}=t.useContext(S),{sort:i}=C,{compact:h,setCompact:x}=t.useContext(J),l=t.useCallback(r=>()=>{n(),x(r)},[n,x]),f=t.useCallback(r=>()=>{n(),setTimeout(()=>s("sort",r,!0),0)},[s,n]),g=d?e.jsx("div",{style:{fontSize:"0.9rem",fontWeight:700,marginRight:10},children:"VIEW"}):e.jsx(G,{}),j=d?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"right"};return e.jsxs(F.Fragment,{children:[e.jsx(B,{title:"Sort",arrow:!0,disableFocusListener:!0,children:e.jsx(R,{color:"inherit",onClick:p,children:e.jsx(A,{variant:"dot",color:"secondary",overlap:"circular",invisible:!i,anchorOrigin:j,children:g})})}),e.jsxs(w,{anchorEl:a,open:m,onClose:n,children:[e.jsx("div",{style:{marginLeft:5,padding:5,fontWeight:700},children:"SORT BY"}),c.map(({label:r,value:o})=>e.jsx(k,{onClick:f(o),selected:i===o,children:r},r)),e.jsx(q,{}),e.jsx("div",{style:{marginLeft:5,padding:5,fontWeight:700},children:"MODE"}),e.jsx(k,{onClick:l(!1),selected:!h,children:"Normal"}),e.jsx(k,{onClick:l(!0),selected:h,children:"Compact"})]})]})}export{re as F,oe as S};
