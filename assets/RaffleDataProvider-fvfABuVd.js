import{r as n,F as C,j as I}from"./index-BfcAGizo.js";import{f as x,D as y}from"./DataContext-hf6_tlxO.js";import{r as v}from"./index-DSyS4S3U.js";import{f as z}from"./filterEntries-BBFZIbGW.js";function M({children:d,allEntries:o}){const{filters:u}=n.useContext(C),{search:l,id:A,tab:N,name:P,sort:r,image:g,preview:h,single:j,expandAll:a,...c}=u,p=n.useMemo(()=>{const s=z(c,o).sort((e,t)=>e.potNumber-t.potNumber),i=l?x.go(v(l),s,{keys:k,threshold:-25e3}).map(e=>({...e.obj,score:e.score})):s;return r?i.sort((e,t)=>r==="potName"?e.title.localeCompare(t.title):r==="contributedBy"?e.contributedBy[0].localeCompare(t.contributedBy[0])||e.title.localeCompare(t.title):r==="tickets"?parseInt(t.tickets)-parseInt(e.tickets)||e.title.localeCompare(t.title):r==="donors"?parseInt(t.donors)-parseInt(e.donors)||e.title.localeCompare(t.title):r==="dateAdded"?parseInt(t.dateAdded)-parseInt(e.dateAdded)||e.title.localeCompare(t.title):parseInt(e[r])-parseInt(t[r])||e.title.localeCompare(t.title)):i.sort((e,t)=>parseInt(e.sortPotNumber)-parseInt(t.sortPotNumber)||e.title.localeCompare(t.title))},[o,c,l,r]),m=n.useCallback(s=>o.find(i=>i.id===s),[o]),f=n.useMemo(()=>({allEntries:o,visibleEntries:p,getPotFromId:m,expandAll:a}),[o,p,m,a]);return I.jsx(y.Provider,{value:f,children:d})}const k=["fuzzy"];export{M as R};
