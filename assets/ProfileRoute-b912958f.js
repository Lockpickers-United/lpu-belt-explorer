import{ak as m,r,a0 as p,u as h,j as t,T as k,I as b,al as y,R as x,C as f,c as j,b as g,f as P,B as v,a3 as E,Q as L,U as T,V as F,W as B}from"./index-e16adaf9.js";import{g as w,L as R,D,I,C as M,E as N,h as W,F as S,T as A,c as H,f as U}from"./FilterButton-8945adfa.js";import{e as V,d as q}from"./LockImageGallery-d8d484ce.js";import{u as z,L as G}from"./useData-5ce70909.js";import{C as O}from"./CopyProfileLinkButton-905614ca.js";import{u as Q}from"./useWindowSize-c2cebfea.js";import"./InputLabel-f7fbe339.js";import"./SwitchBase-ed88321b.js";import"./Link-27f180f6.js";import"./index-6008e77d.js";import"./index-dea680da.js";import"./Chip-19486bcd.js";import"./dayjs.min-14167635.js";import"./Badge-c26574a7.js";import"./usePreviousProps-660caa5b.js";import"./ImageViewer-3a45643a.js";import"./LinearProgress-150ec21f.js";import"./LPU-c3fa7122.js";function _(){const{userId:e}=m(),{user:n}=r.useContext(p),i=h(),o=r.useCallback(()=>{i("/profile/edit")},[i]);return e!==(n==null?void 0:n.uid)?null:t.jsx(k,{title:"Edit Profile",arrow:!0,disableFocusListener:!0,children:t.jsx(b,{onClick:o,children:t.jsx(y,{})})})}const J="/assets/mycollection-8a0b4848.png";function K(){const{user:e}=r.useContext(p),{userId:n}=m(),i=h(),{isMobile:o}=Q(),s=o?{marginTop:-32,maxWidth:700,marginLeft:8,marginRight:8,borderRadius:0}:{marginTop:-32,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},a=n===(e==null?void 0:e.uid),l=a?t.jsxs(x.Fragment,{children:[t.jsxs("span",{children:["There are no locks in your collection.",t.jsx("br",{}),'Browse the site and use the "My Collection" button to track locks that you own, picked, recorded, or wish to buy.',t.jsx("br",{})]}),t.jsx("img",{alt:"My Collection",src:J})]}):"There are no locks in this collection.",c=a?"Explore":"Go Home",d=r.useCallback(()=>{i("/locks")},[i]);return t.jsx(w,{alignContent:"center",children:t.jsxs(f,{style:s,children:[t.jsx(j,{children:t.jsx(g,{variant:"h6",align:"center",children:l})}),t.jsxs(P,{children:[t.jsx("div",{style:{width:"100%"}}),t.jsx(v,{variant:"outlined",color:"secondary",onClick:d,style:{whiteSpace:"nowrap"},children:c})]})]})})}function X(){const e={marginTop:16,maxWidth:350,marginLeft:"auto",marginRight:"auto",borderRadius:0};return t.jsxs(f,{style:e,children:[t.jsx(E,{title:"Profile Not Found!"}),t.jsx(j,{children:t.jsx(g,{variant:"h6",align:"center",children:"This profile was not found, or is not public."})})]})}function Y({profile:e}){const{compact:n,expanded:i,setExpanded:o}=r.useContext(R),{visibleEntries:s=[]}=r.useContext(D),a=r.useDeferredValue(i);return t.jsxs("div",{style:{margin:8,paddingBottom:32},children:[t.jsx(I,{profile:e}),n?t.jsx(M,{entries:s}):s.map(l=>t.jsx(N,{entry:l,expanded:l.id===a,onExpand:o},l.id))]})}function ft(){const{userId:e}=m(),{getProfile:n}=r.useContext(L),i=r.useCallback(()=>n(e),[n,e]),{data:o={},loading:s,error:a}=z({loadFn:i}),l=r.useMemo(()=>{if(s)return[];const C=new Set(W.flatMap(({key:u})=>o[u]));return V.filter(u=>C.has(u.id))},[o,s]),c=t.jsxs(x.Fragment,{children:[t.jsx(S,{}),t.jsx(A,{}),t.jsx(_,{}),t.jsx(O,{})]}),d=s?"Loading...":"Profile";return t.jsx(x.Fragment,{children:t.jsx(q,{children:t.jsx(H,{allEntries:l,profile:o,children:t.jsxs(U,{children:[t.jsx(T,{title:d,extras:c}),s&&t.jsx(G,{}),!s&&o&&!a&&t.jsx(Y,{profile:o}),!s&&o&&!a&&l.length===0&&t.jsx(K,{}),!s&&a&&t.jsx(X,{}),t.jsx(F,{}),t.jsx(B,{feature:"profile"})]})})})})}export{ft as default};
