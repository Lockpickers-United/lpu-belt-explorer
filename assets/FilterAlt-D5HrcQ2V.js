import{O as y,P as A,Q as _,U as M,u as T,r as n,F as R,j as s,J as W,I as P,B as b,R as w,ae as H}from"./index-wSkNXhmx.js";import{D as V}from"./DataContext-CgJDYIe4.js";import"./index-CqMM3A2u.js";import{F as z,I as $,S as G}from"./Select-Dxtc4OGh.js";import{B as J}from"./Box-botCRKaU.js";import{C as L}from"./Chip-MDWO1mgf.js";const d={safelocksOwn:"Own",safelockCracked:"Cracked",safelockWishlist:"Wishlist",shippingSplit:"Shipping included",shippingNotSplit:"Winner may pay shipping"};var c={},F;function Q(){if(F)return c;F=1;var i=y();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=i(A()),o=_();return c.default=(0,e.default)((0,o.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll"),c}var U=Q();const K=M(U);function ie({forceText:i}){const{isMobile:e}=T(),{filterCount:o,clearFilters:u}=n.useContext(R);return o===0?null:e&&!i?s.jsx(W,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:s.jsx(P,{onClick:u,children:s.jsx(K,{})})}):s.jsx(b,{variant:"outlined",color:"inherit",onClick:u,style:{minWidth:120,marginRight:8},children:"ClearÂ Filters"})}function oe({label:i,fieldName:e,onFilter:o,sort:u,tab:f}){const{visibleEntries:m}=n.useContext(V),{filters:S}=n.useContext(R),C=n.useMemo(()=>f==="search"||!f?m:m.filter(t=>t.simpleBelt===f),[f,m]),[E,h]=n.useState(!1),k=n.useCallback(t=>{h(!1),setTimeout(()=>o(e,t.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[e,o]),g=n.useCallback(()=>{h(!1),setTimeout(()=>document.activeElement.blur())},[]),q=n.useCallback(()=>h(!0),[]),{counts:B,options:v}=n.useMemo(()=>{const t=C.map(r=>r[e]).flat().filter(r=>r),a=t.reduce((r,l)=>(r[l]||(r[l]=0),r[l]++,r),{}),O=[...new Set(t)].sort((r,l)=>{if(u)return u(r,l);if(typeof r=="string"&&typeof l=="string")return r.localeCompare(l);if(Number.isInteger(r)&&Number.isInteger(l))return r-l});return{counts:a,options:O}},[C,e,u]),j=n.useDeferredValue(S),x=j[e],D=Array.isArray(x)?j[e]:x?[x]:[];return s.jsx(w.Fragment,{children:v.length===0?null:s.jsxs(z,{style:{minWidth:120,maxWidth:300,marginTop:8},fullWidth:!0,children:[s.jsx($,{id:`filter-${e}`,color:"secondary",children:i}),s.jsx(G,{multiple:!0,label:i,labelId:`filter-${e}`,value:D,onChange:k,style:{marginBottom:0},color:"secondary",open:E,onClose:g,onOpen:q,onBlur:g,MenuProps:{PaperProps:{style:{maxHeight:X*8+Y}}},renderValue:t=>s.jsx(J,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(a=>s.jsx(L,{label:d[a]?d[a]:a},a))}),children:v.map((t,a)=>s.jsx(H,{value:t,children:d[t]?d[t]:t+` (${B[t]||0})`},a))})]})})}const X=48,Y=8;var p={},I;function Z(){if(I)return p;I=1;var i=y();Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var e=i(A()),o=_();return p.default=(0,e.default)((0,o.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),p}var N=Z();const ae=M(N);export{ie as C,ae as F,oe as a,d as f};
