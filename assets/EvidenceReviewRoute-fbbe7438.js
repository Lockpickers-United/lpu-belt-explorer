import{u as E,r as l,a2 as Y,ag as z,d as f,ah as M,j as t,R as y,N as A,F}from"./index-64b15533.js";import{u as U}from"./usePageTitle-5ebf3647.js";import{L as O}from"./LeaderboardName-5d8d41f4.js";import{C as I}from"./ChoiceButtonGroup-e372dbb2.js";import{c as G,d as H,T as _,a as N,b as i,e as q}from"./TableRow-ffdb718c.js";import{L as P}from"./Link-9df4b0ca.js";import{u as J}from"./useData-e10af3b3.js";import{L as K}from"./LoadingDisplay-32f4c6d9.js";import"./useDocumentTitle-4145e175.js";import"./ToggleButtonGroup-5db2d630.js";import"./Box-e414b524.js";import"./CircularProgress-d368cc5a.js";function Q({data:o,updated:x}){const{isMobile:h}=E(),u=l.useMemo(()=>[{label:"Scorecard Projects"},{label:"All Projects"},{label:"Modified Picks"},{label:"BB Modified"}],[]),[n,B]=l.useState(u[0]),D=l.useCallback(e=>B(e),[]);let a;switch(n.label){case"Scorecard Projects":a=o.projects.filter(e=>!e.tabName);break;case"All Projects":a=o.projects;break;case"Modified Picks":a=o.modifiers;break;default:a=o.modifiers.filter(e=>e.blackBelt)}const L=n.label.includes("Modified")?"Lock":"Project",T=n.label.includes("Modified")?"Belt":"Tier",[c,k]=Y(),r=c.get("sort"),d=r&&r.includes("ev"),[g,j]=l.useState(!1),[p,b]=l.useState(!1),m=l.useCallback(e=>()=>{r&&e!==r?(c.set("sort",e),j(d?g:!1),b(d?!1:p)):r&&e===r?(j(d?g:!g),b(d?!p:p)):e==="date"?(c.set("sort",e),j(!0)):e==="evDate"?(c.set("sort",e),b(!0)):c.set("sort",e),k(c)},[d,p,g,c,k,r]),v=l.useMemo(()=>a&&r?a.sort((e,s)=>{if(r==="evName")return(e.displayName||"").localeCompare(s.displayName||"");if(r==="evLock")return e.evidenceName.localeCompare(s.evidenceName)||(e.displayName||"").localeCompare(s.displayName||"");if(r==="evBelt")return z(e.belt.replace(" Belt",""),s.belt.replace(" Belt",""))||(e.displayName||"").localeCompare(s.displayName||"");if(r==="evModifier")return e.modifier.localeCompare(s.modifier)||(e.displayName||"").localeCompare(s.displayName||"");if(r==="evDate")return f(s.date).valueOf()-f(e.date).valueOf()}):a.sort((e,s)=>f(s.date).valueOf()-f(e.date).valueOf()),[r,a,p]),W=l.useMemo(()=>p?v.reverse():v,[v,p]),C=h?"auto":"170px",R=h?16:20,w=l.useCallback(e=>{const s=e.replace(" Belt","");return M[s]?M[s].color:e.includes("Dan")?"#769e49":"#b00"},[]),S=l.useCallback(e=>{const s=window.open(e,"_blank","noopener,noreferrer");s&&(s.opener=null)},[]);return t.jsx(y.Fragment,{children:t.jsxs("div",{style:{justifyItems:"center",marginTop:40},children:[t.jsxs("div",{style:{fontWeight:700,fontSize:"1.2rem",width:"100%",textAlign:"center",margin:"20px 0px"},children:["Project & Pick Review",t.jsxs("div",{style:{fontWeight:400,fontSize:"0.9rem",width:"100%",textAlign:"center",margin:"0px 0px"},children:["Through ",f(x).format("MMM DD, YYYY")]})]}),t.jsx("div",{style:{marginBottom:20},children:t.jsx(I,{options:u,onChange:D})}),t.jsx(G,{sx:{backgroundColor:"#111",maxWidth:800,margin:"auto"},children:t.jsxs(H,{sx:{minWidth:360,align:"left"},children:[t.jsx(_,{children:t.jsxs(N,{children:[t.jsx(i,{align:"left",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"4px 0px 4px 16px",backgroundColor:"#222",width:C},children:t.jsx("span",{style:r==="evName"?{}:{cursor:"pointer",color:"#ccc"},onClick:m("evName"),children:"User"})}),t.jsxs(i,{align:"left",colSpan:2,style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"0px 0px 0px 4px",backgroundColor:"#222"},children:[t.jsx("span",{style:r==="evLock"?{}:{cursor:"pointer",color:"#ccc"},onClick:m("evLock"),children:L}),t.jsxs("span",{style:r==="evBelt"?{}:{cursor:"pointer",color:"#ccc"},onClick:m("evBelt"),children:["Â (",T,")"]})]}),n.label==="Modified Picks"&&t.jsx(i,{align:"left",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:0,backgroundColor:"#222"},children:t.jsx("span",{style:!d||r==="evDate"?{}:{cursor:"pointer",color:"#ccc"},onClick:m("evModifier"),children:"Modifier"})}),t.jsx(i,{align:"center",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:0,backgroundColor:"#222"},children:t.jsx("span",{style:!d||r==="evDate"?{}:{cursor:"pointer",color:"#ccc"},onClick:m("evDate"),children:"Date"})})]})}),t.jsx(q,{children:W.map((e,s)=>t.jsxs(N,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#000"},"td, th":{padding:"6px 2px",border:0}},children:[t.jsx(i,{align:"left",style:{padding:"0px 0px 0px 16px"},children:t.jsx("span",{style:{fontWeight:500,width:C},children:t.jsx(O,{leader:e,isCurrentUser:e.isCurrentUser,tab:"blackBelts",maxLength:R})})}),t.jsx(i,{align:"left",style:{backgroundColor:w(e.belt),borderBottom:"1px solid #333",width:4,marginLeft:5}}),t.jsx(i,{align:"left",children:t.jsx("div",{style:{fontWeight:500,marginLeft:5},children:t.jsx(P,{onClick:()=>S(e.evidenceUrl),style:{color:"#fff"},children:e.evidenceName})})}),n.label==="Modified Picks"&&t.jsx(i,{align:"left",children:t.jsx("div",{style:{fontWeight:500,marginLeft:5,marginRight:5},children:t.jsx(P,{onClick:()=>S(e.evidenceUrl),style:{color:"#fff"},children:e.modifier})})}),t.jsx(i,{align:"center",children:t.jsx("nobr",{children:f(e.date).format("MMM DD, YYYY")})})]},s))})]})})]})})}function ce(){var n;U("All Projects");const{data:o,loading:x,error:h}=J({url:V}),u=t.jsx(y.Fragment,{});return t.jsxs(y.Fragment,{children:[t.jsx(A,{title:"All Projects",extras:u}),(x||h)&&t.jsx(K,{}),!x&&o&&t.jsx(Q,{data:o,updated:(n=o==null?void 0:o.metadata)==null?void 0:n.updatedDateTime}),t.jsx(F,{})]})}const V="https://explore.lpubelts.com/data/allProjects.json";export{ce as default};
