import{R as f,b as v,r as a,P as b,j as t,a5 as E,au as k,V as F,F as I,aJ as T,D as L,e as U,a9 as D,N as R,h as S,T as N}from"./index-DUr27NUl.js";import{l as w}from"./filterFields-Cd2WKw7f.js";import{u as B}from"./usePageTitle-CL6b8399.js";import{a as P}from"./LockListContext-CrV6C_rq.js";import{D as W}from"./LockDataProvider-RFnI-s5K.js";import"./filterEntriesAdvanced-CGHt_bR4.js";import{D as M}from"./DataContext-rhzy31h2.js";import"./index-DrkNI6xS.js";import{e as x}from"./entryName-BJhAEJWP.js";import{I as O}from"./IntroCopy-zGBiIBAQ.js";import{B as $}from"./BeltStripe-BL32ntBS.js";import{O as q}from"./OpenInNew-CR7FGgfc.js";import{L as z}from"./ListItem-B95gG2JG.js";import"./collectionStatsById-DY1NVZ7h.js";import"./useData-BSo5UGM7.js";import"./dataUrls-DVxTtpO-.js";import"./setDeep-J6HEwWhX.js";import"./stringUtils-BsiQ3MZ5.js";import"./index-C-4wPg2g.js";import"./index-C0xKeKqL.js";import"./index-CxysKdyd.js";function H({upgradeTree:r=[],baseId:s,expanded:l,onExpand:d}){const p=v(),n=a.useRef(null),[e,o]=a.useState(!1),{id:u}=b.parse(location.search),C=a.useCallback((i,m)=>{d&&d(m?s:!1)},[s,d]);a.useEffect(()=>{if(l&&n&&!e){const m=window.innerWidth<=600?70:74,h=u===s;o(!0),setTimeout(()=>{var j;window.scrollTo({left:0,top:((j=n==null?void 0:n.current)==null?void 0:j.offsetTop)-m,behavior:h?"auto":"smooth"})},h?0:100)}else l||o(!1)},[l,e,s,u]);const g=a.useCallback(i=>()=>{p(`/locks?id=${i.id}`)},[p]),c={maxWidth:700,marginLeft:"auto",marginRight:"auto"},y={color:"#eee",textDecoration:"none",cursor:"pointer","&:hover":{color:"#fff"}};return t.jsxs("div",{ref:n,onChange:C,children:[t.jsx("div",{style:{...c,borderTop:"1px solid #666",height:0}}),r.map(i=>t.jsx(f.Fragment,{children:t.jsxs(z,{style:{...c,minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)",borderRight:"1px solid #666"},children:[t.jsx($,{value:i.belt}),t.jsx(E,{primary:x(i),primaryTypographyProps:{fontWeight:500},secondary:i.version,style:{padding:"0px 0px 0px 10px"},sx:y,onClick:g(i)}),t.jsx(k,{style:{minWidth:20,marginLeft:16},children:t.jsx(F,{onClick:g(i),children:t.jsx(q,{fontSize:"small",style:{color:"#eee"}})})})]})},i.id)),t.jsx("div",{style:{...c,borderTop:"1px solid #666",height:20}})]})}const J=f.memo(H,(r,s)=>r.baseId===s.baseId&&r.expanded===s.expanded&&r.onExpand===s.onExpand);function V(){const{allEntries:r=[]}=a.useContext(M),{filters:s}=a.useContext(I),[l,d]=a.useState(s.id),p=a.useCallback(e=>r.find(o=>o.id===e),[r]),n=T.map(e=>e.map(o=>p(o)).filter(o=>o)).filter(e=>e.length>0).sort((e,o)=>x(e[0]).localeCompare(x(o[0])));return t.jsx(f.Fragment,{children:t.jsxs("div",{style:{margin:8,padding:"20px 0px"},children:[t.jsx(O,{pageName:"upgrades"}),n.map((e,o)=>t.jsx(J,{upgradeTree:e,baseId:e[0].id,expanded:e[0].id===l,onExpand:d},o))]})})}function xt(){const{lockCollection:r}=a.useContext(L);return B("Upgrades"),t.jsx(U,{filterFields:w,children:t.jsx(W,{allEntries:D,profile:r,children:t.jsxs(P,{children:[t.jsx(R,{title:"Upgrades",extras:null}),t.jsx(V,{profile:r}),t.jsx(S,{extras:null}),t.jsx(N,{feature:"upgrades"})]})})})}export{xt as default};
