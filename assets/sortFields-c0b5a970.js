import{r,a as O,g as E,s as R,B as je,_ as k,b5 as ae,b as U,aT as Fe,j as o,d as T,c as $,e as q,i as N,ad as Pe,u as J,x as G,S as ie,R as H,C as K,D as Q,T as _,I as z,t as ce,y as de,a0 as Se,al as Be,H as ue,av as De,F as re,M as Ie,U as $e,a1 as we}from"./index-1b7959e2.js";import{u as X,b as pe,F as Re,I as Ae,S as Le}from"./Select-f787d5c8.js";import{F as M,D as Te}from"./BeltStripe-6633c82b.js";import{B as he}from"./LoadingDisplay-f7a8b38a.js";import{C as _e,d as se,I as le}from"./Search-ee59bc7d.js";import{u as me}from"./useWindowSize-35601abc.js";import{B as Y,d as ze}from"./Sort-e642c971.js";import{T as Me}from"./TextField-bdb8bcec.js";function Oe(e,t){const[n,s]=r.useState(e);return r.useEffect(()=>{const a=setTimeout(()=>s(e),t||500);return()=>{clearTimeout(a)}},[e,t]),n}function Ee(e){return O("PrivateSwitchBase",e)}E("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ue=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],qe=e=>{const{classes:t,checked:n,disabled:s,edge:a}=e,l={root:["root",n&&"checked",s&&"disabled",a&&`edge${$(a)}`],input:["input"]};return q(l,Ee,t)},He=R(je)(({ownerState:e})=>k({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Ve=R("input",{shouldForwardProp:ae})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),We=r.forwardRef(function(t,n){const{autoFocus:s,checked:a,checkedIcon:l,className:d,defaultChecked:u,disabled:c,disableFocusRipple:i=!1,edge:h=!1,icon:C,id:x,inputProps:m,inputRef:v,name:j,onBlur:p,onChange:g,onFocus:y,readOnly:f,required:b=!1,tabIndex:D,type:P,value:w}=t,S=U(t,Ue),[I,ge]=Fe({controlled:a,default:!!u,name:"SwitchBase",state:"checked"}),B=X(),Ce=F=>{y&&y(F),B&&B.onFocus&&B.onFocus(F)},ve=F=>{p&&p(F),B&&B.onBlur&&B.onBlur(F)},ke=F=>{if(F.nativeEvent.defaultPrevented)return;const ne=F.target.checked;ge(ne),g&&g(F,ne)};let A=c;B&&typeof A>"u"&&(A=B.disabled);const ye=P==="checkbox"||P==="radio",V=k({},t,{checked:I,disabled:A,disableFocusRipple:i,edge:h}),oe=qe(V);return o.jsxs(He,k({component:"span",className:T(oe.root,d),centerRipple:!0,focusRipple:!i,disabled:A,tabIndex:null,role:void 0,onFocus:Ce,onBlur:ve,ownerState:V,ref:n},S,{children:[o.jsx(Ve,k({autoFocus:s,checked:a,defaultChecked:u,className:oe.input,disabled:A,id:ye?x:void 0,name:j,onChange:ke,readOnly:f,ref:v,required:b,ownerState:V,tabIndex:D,type:P},P==="checkbox"&&w===void 0?{}:{value:w},m)),I?l:C]}))}),Ge=We,Ne=N(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Je=N(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ke=N(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Qe(e){return O("MuiCheckbox",e)}const Xe=E("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),W=Xe,Ye=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ze=e=>{const{classes:t,indeterminate:n,color:s,size:a}=e,l={root:["root",n&&"indeterminate",`color${$(s)}`,`size${$(a)}`]},d=q(l,Qe,t);return k({},t,d)},et=R(Ge,{shouldForwardProp:e=>ae(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${$(n.size)}`],n.color!=="default"&&t[`color${$(n.color)}`]]}})(({theme:e,ownerState:t})=>k({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pe(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${W.checked}, &.${W.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${W.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),tt=o.jsx(Je,{}),ot=o.jsx(Ne,{}),nt=o.jsx(Ke,{}),rt=r.forwardRef(function(t,n){var s,a;const l=J({props:t,name:"MuiCheckbox"}),{checkedIcon:d=tt,color:u="primary",icon:c=ot,indeterminate:i=!1,indeterminateIcon:h=nt,inputProps:C,size:x="medium",className:m}=l,v=U(l,Ye),j=i?h:c,p=i?h:d,g=k({},l,{color:u,indeterminate:i,size:x}),y=Ze(g);return o.jsx(et,k({type:"checkbox",inputProps:k({"data-indeterminate":i},C),icon:r.cloneElement(j,{fontSize:(s=j.props.fontSize)!=null?s:x}),checkedIcon:r.cloneElement(p,{fontSize:(a=p.props.fontSize)!=null?a:x}),ownerState:g,ref:n,className:T(y.root,m)},v,{classes:y}))}),Ot=rt;function st(e){return O("MuiFormGroup",e)}E("MuiFormGroup",["root","row","error"]);const lt=["className","row"],at=e=>{const{classes:t,row:n,error:s}=e;return q({root:["root",n&&"row",s&&"error"]},st,t)},it=R("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>k({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),ct=r.forwardRef(function(t,n){const s=J({props:t,name:"MuiFormGroup"}),{className:a,row:l=!1}=s,d=U(s,lt),u=X(),c=pe({props:s,muiFormControl:u,states:["error"]}),i=k({},s,{row:l,error:c.error}),h=at(i);return o.jsx(it,k({className:T(h.root,a),ownerState:i,ref:n},d))}),Et=ct;function dt(e){return O("MuiFormControlLabel",e)}const ut=E("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),L=ut,pt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ht=e=>{const{classes:t,disabled:n,labelPlacement:s,error:a,required:l}=e,d={root:["root",n&&"disabled",`labelPlacement${$(s)}`,a&&"error",l&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return q(d,dt,t)},mt=R("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${L.label}`]:t.label},t.root,t[`labelPlacement${$(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>k({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${L.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${L.label}`]:{[`&.${L.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ft=R("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${L.error}`]:{color:(e.vars||e).palette.error.main}})),bt=r.forwardRef(function(t,n){var s,a;const l=J({props:t,name:"MuiFormControlLabel"}),{className:d,componentsProps:u={},control:c,disabled:i,disableTypography:h,label:C,labelPlacement:x="end",required:m,slotProps:v={}}=l,j=U(l,pt),p=X(),g=(s=i??c.props.disabled)!=null?s:p==null?void 0:p.disabled,y=m??c.props.required,f={disabled:g,required:y};["checked","name","onChange","value","inputRef"].forEach(I=>{typeof c.props[I]>"u"&&typeof l[I]<"u"&&(f[I]=l[I])});const b=pe({props:l,muiFormControl:p,states:["error"]}),D=k({},l,{disabled:g,labelPlacement:x,required:y,error:b.error}),P=ht(D),w=(a=v.typography)!=null?a:u.typography;let S=C;return S!=null&&S.type!==G&&!h&&(S=o.jsx(G,k({component:"span"},w,{className:T(P.label,w==null?void 0:w.className),children:S}))),o.jsxs(mt,k({className:T(P.root,d),ownerState:D,ref:n},j,{children:[r.cloneElement(c,f),y?o.jsxs(ie,{display:"block",children:[S,o.jsxs(ft,{ownerState:D,"aria-hidden":!0,className:P.asterisk,children:[" ","*"]})]}):S]}))}),Ut=bt;function xt({name:e,value:t,last:n,style:s,headerStyle:a={},textStyle:l={}}){const d=n?{marginLeft:5,...s}:{marginLeft:5,marginBottom:8,...s},u={color:"#666",fontSize:"0.85rem",...a},c={marginLeft:5,...l};return o.jsxs("div",{style:d,children:[o.jsx("div",{style:u,children:e}),o.jsx("div",{style:c,children:t})]})}const qt=H.memo(xt);var Z={},gt=Q;Object.defineProperty(Z,"__esModule",{value:!0});var fe=Z.default=void 0,Ct=gt(K()),vt=o;fe=Z.default=(0,Ct.default)((0,vt.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function kt({forceText:e}){const{isMobile:t}=me(),{filterCount:n,clearFilters:s}=r.useContext(M);return n===0?null:t&&!e?o.jsx(_,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:o.jsx(z,{onClick:s,children:o.jsx(fe,{})})}):o.jsx(ce,{variant:"outlined",color:"inherit",onClick:s,style:{minWidth:120},children:"Clear Filters"})}var ee={},yt=Q;Object.defineProperty(ee,"__esModule",{value:!0});var be=ee.default=void 0,jt=yt(K()),Ft=o;be=ee.default=(0,jt.default)((0,Ft.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Pt({label:e,fieldName:t,onFilter:n,sort:s}){const{visibleEntries:a}=r.useContext(Te),{filters:l}=r.useContext(M),[d,u]=r.useState(!1),c=r.useCallback(p=>{u(!1),setTimeout(()=>n(t,p.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[t,n]),i=r.useCallback(()=>{u(!1),setTimeout(()=>document.activeElement.blur())},[]),h=r.useCallback(()=>u(!0),[]),{counts:C,options:x}=r.useMemo(()=>{const p=a.map(f=>f[t]).flat().filter(f=>f),g=p.reduce((f,b)=>(f[b]||(f[b]=0),f[b]++,f),{}),y=[...new Set(p)].sort((f,b)=>{if(s)return s(f,b);if(typeof f=="string"&&typeof b=="string")return f.localeCompare(b);if(Number.isInteger(f)&&Number.isInteger(b))return f-b});return{counts:g,options:y}},[t,a,s]),m=r.useDeferredValue(l),v=m[t],j=Array.isArray(v)?m[t]:v?[v]:[];return o.jsxs(Re,{style:{minWidth:120,maxWidth:300,marginTop:4},fullWidth:!0,children:[o.jsx(Ae,{id:`filter-${t}`,color:"secondary",children:e}),o.jsx(Le,{multiple:!0,label:e,labelId:`filter-${t}`,value:j,onChange:c,style:{marginBottom:8},color:"secondary",open:d,onClose:i,onOpen:h,onBlur:i,MenuProps:{PaperProps:{style:{maxHeight:St*8+Bt}}},renderValue:p=>o.jsx(he,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:p.map(g=>o.jsx(_e,{label:g},g))}),children:x.map((p,g)=>o.jsx(de,{value:p,children:`${p} (${C[p]||0})`},g))})]})}const St=48,Bt=8;function Ht({onFiltersChanged:e,extraFilters:t=[]}){const{isLoggedIn:n}=r.useContext(Se),{beta:s}=r.useContext(Be),{filterCount:a,addFilters:l,filterFields:d}=r.useContext(M),[u,c]=r.useState(!1),i=r.useCallback(()=>c(!u),[u]);ue("f",i);const h=r.useCallback(()=>c(!0),[]),C=r.useCallback(()=>c(!1),[]),x=r.useCallback((m,v)=>{l([{key:m,value:v},{key:"id",value:void 0},{key:"name",value:void 0},...t],!0),e&&e()},[l,e,t]);return o.jsxs(H.Fragment,{children:[o.jsx(_,{title:"Filter",arrow:!0,disableFocusListener:!0,children:o.jsx(z,{color:"inherit",onClick:h,children:o.jsx(Y,{badgeContent:a,color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(be,{})})})}),o.jsxs(De,{anchor:"right",open:u,onClose:C,children:[o.jsx(re,{variant:"dense",onClick:C,children:o.jsx(G,{variant:"h6",children:"Filters"})}),o.jsx(he,{margin:1,children:o.jsx(ie,{direction:"column",style:{minWidth:250},children:d.filter(m=>(!m.beta||s)&&(!m.userBased||n)).map((m,v)=>o.jsx(Pt,{...m,onFilter:x},v))})}),o.jsxs(re,{variant:"dense",children:[o.jsx(kt,{forceText:!0,style:{marginRight:8}}),o.jsx(ce,{variant:"outlined",color:"inherit",onClick:C,children:"Done"})]})]})]})}function Vt({sortValues:e}){const[t,n]=r.useState(null),s=!!t,a=r.useCallback(h=>n(h.currentTarget),[]),l=r.useCallback(()=>n(null),[]),{filters:d,addFilter:u}=r.useContext(M),{sort:c}=d,i=r.useCallback(h=>()=>{l(),setTimeout(()=>u("sort",h,!0),0)},[u,l]);return o.jsxs(H.Fragment,{children:[o.jsx(_,{title:"Sort",arrow:!0,disableFocusListener:!0,children:o.jsx(z,{color:"inherit",onClick:a,children:o.jsx(Y,{variant:"dot",color:"secondary",overlap:"circular",invisible:!c,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(ze,{})})})}),o.jsx(Ie,{anchorEl:t,open:s,onClose:l,children:e.map(({label:h,value:C})=>o.jsx(de,{onClick:i(C),selected:c===C,children:h},h))})]})}var te={},Dt=Q;Object.defineProperty(te,"__esModule",{value:!0});var xe=te.default=void 0,It=Dt(K()),$t=o;xe=te.default=(0,It.default)((0,$t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Wt({label:e,extraFilters:t=[]}){const[n]=$e(),{filters:s,addFilters:a,removeFilter:l}=r.useContext(M),[d,u]=r.useState(s.search||""),{isMobile:c}=me(),i=r.useRef();ue("s",()=>{var b;return(b=i==null?void 0:i.current)==null?void 0:b.focus()},{preventDefault:!0});const h=r.useCallback(()=>{window.scrollTo({top:0}),u(""),l("search",""),i.current.focus()},[l]),C=r.useCallback(b=>{const{value:D}=b.target;u(D)},[]),x=Oe(d,250);r.useEffect(()=>{x!==n.get("search")&&(x?(window.scrollTo({top:0}),a([{key:"search",value:x},{key:"id",value:void 0},{key:"name",value:void 0},...t],!0)):a([{key:"search",value:x}],!0))},[x]);const[m,v]=r.useState(!1),j=r.useCallback(()=>setTimeout(()=>v(!1),0),[]),p=r.useCallback(()=>{v(!0),setTimeout(()=>{i.current.focus(),i.current.select()},0)},[]);r.useEffect(()=>{const b=n.get("search");b!==d&&u(b||"")},[n]);const g=d?o.jsx(le,{position:"end",children:o.jsx(_,{title:"Clear",arrow:!0,disableFocusListener:!0,children:o.jsx(z,{color:"inherit",onClick:h,edge:"end",size:"small",children:o.jsx(xe,{})})})}):null,y=c?{maxWidth:450,marginRight:8}:{maxWidth:450,paddingLeft:60,marginRight:8},f=m&&c?{width:"auto",position:"fixed",left:60,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{};return o.jsxs(H.Fragment,{children:[!m&&c&&o.jsx(_,{title:"Search",arrow:!0,disableFocusListener:!0,children:o.jsx(z,{color:"inherit",onClick:p,children:o.jsx(Y,{invisible:d.length===0,variant:"dot",color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(se,{})})})}),(m||!c)&&o.jsx(Me,{placeholder:`Search ${e}`,InputProps:{inputProps:{ref:i},startAdornment:o.jsx(le,{position:"start",children:o.jsx(se,{})}),endAdornment:g},variant:"standard",color:"secondary",onChange:C,onBlur:j,value:d,style:{...y,...f},fullWidth:!0}),o.jsx(we,{invisible:!0,open:m&&c,onClick:j})]})}const Gt=[{label:"Default",value:void 0},{label:"Alphabetical (Ascending)",value:"alphaAscending"},{label:"Alphabetical (Descending)",value:"alphaDescending"},{label:"Belt (Ascending)",value:"beltAscending"},{label:"Belt (Descending)",value:"beltDescending"},{label:"Popularity",value:"popularity"},{label:"Recently Updated",value:"recentlyUpdated"}],Nt=[{label:"Default",value:void 0},{label:"UL Group (Ascending)",value:"groupAscending"},{label:"UL Group (Descending)",value:"groupDescending"},{label:"Difficulty Tier (Ascending)",value:"tierAscending"},{label:"Difficulty Tier (Descending)",value:"tierDescending"},{label:"Alphabetical (Ascending)",value:"alphaAscending"},{label:"Alphabetical (Descending)",value:"alphaDescending"},{label:"Recently Updated",value:"recentlyUpdated"}],Jt=[{label:"Default",value:void 0},{label:"Dan Points (Ascending)",value:"danPointsAscending"},{label:"Dan Points (Descending)",value:"danPointsDescending"},{label:"Date (Ascending)",value:"dateAscending"},{label:"Date (Descending)",value:"dateDescending"},{label:"Belt (Ascending)",value:"beltAscending"},{label:"Belt (Descending)",value:"beltDescending"},{label:"Alphabetical (Ascending)",value:"alphaAscending"},{label:"Alphabetical (Descending)",value:"alphaDescending"}];export{Ot as C,Ht as F,Wt as S,Vt as a,qt as b,Et as c,Ut as d,Nt as e,kt as f,Gt as l,Jt as s};
