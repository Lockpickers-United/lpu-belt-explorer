import{r as s,F as N,j as t,u as j,L as k,R,e as T,N as L,h as D,T as S}from"./index-CQOj_V3H.js";import{c as z}from"./filterFields-Dr4X-Ifj.js";import{u as A}from"./usePageTitle-m4M96Yuh.js";import{a as y}from"./filterEntriesAdvanced-Cjeb9huM.js";import{D as F}from"./DataContext-B8LG4-hA.js";import{r as B}from"./index-C-pwhYpR.js";import{R as v}from"./RaffleContext-YOaoRgfF.js";import{f as E}from"./filterEntries-BBFZIbGW.js";import{N as W}from"./NoEntriesCard-DOLjxH6i.js";import{R as P}from"./RaffleSearchBar-DwXV_z0G.js";import{R as M}from"./RaffleHiddenDialog-BrtZWb2j.js";import{D as H}from"./DataTableSort-jPCNsOV9.js";import{R as I}from"./RaffleHeader-BA0eQ6f6.js";import{A as $}from"./AdminToolsButton-BW0j4gOA.js";import"./useData-7Ab0psOm.js";import"./dataUrls-CThgH6Wi.js";import"./setDeep-J6HEwWhX.js";import"./LockListContext-DOEm-ckC.js";import"./entryName-CjIYRYOM.js";import"./SearchBox-BGx_SOkH.js";import"./Search-wZU-nad5.js";import"./useFormControl-CBO3bS2L.js";import"./Select-DwNoRECA.js";import"./Sort-Dg9upQOz.js";import"./TextField-BgvPRJE8.js";import"./ViewFilterButtons-CjpHHBq6.js";import"./FilterAlt-Oyo9JisT.js";import"./HighlightOff-PsV1NR8d.js";import"./Box-Bw8XlQdE.js";import"./ToggleButtonGroup-CU8hxv3y.js";import"./AddCircle-DnvJ2l8p.js";import"./Cancel-CHrYajp_.js";import"./Dialog-D-M-K_v8.js";import"./ArrowDropDown-HyTg_JuQ.js";import"./TableRow-CCBcixv9.js";import"./Cached-BODsN_ln.js";import"./ExpandMore-KE0GH2SM.js";import"./CircularProgress-CF-vFj5f.js";import"./AccordionSummary-Df6MVx9O.js";import"./Collapse-CgDOa-fC.js";import"./EmojiEvents-Dzm61qSD.js";function q({children:r}){const{filters:n}=s.useContext(N),{search:i,id:a,tab:C,name:b,sort:m,image:d,...c}=n,{allCharities:l}=s.useContext(v),f=s.useMemo(()=>{const x=E(c,l),g=i?y.go(B(i),x,{keys:G,threshold:-25e3}).map(e=>({...e.obj,score:e.score})):x;return m?g.sort((e,o)=>m==="potName"?e.title.localeCompare(o.title):m==="contributedBy"?e.contributedBy[0].localeCompare(o.contributedBy[0]):e.potNumber<o.potNumber):g},[l,c,i,m]),u=s.useMemo(()=>({allCharities:l,visibleEntries:f}),[l,f]);return t.jsx(F.Provider,{value:u,children:r})}const G=["fuzzy"];function K(){const{visibleEntries:r}=s.useContext(F),{raflState:n}=s.useContext(v),i=s.useCallback(e=>{const o=window.open(e,"_blank","noopener,noreferrer");o&&(o.opener=null)},[]),{isMobile:a}=j(),C=n==="live"?"So Far":"Donations",b=a?"2025":"2025 Contributions",m=a?"2026":`2026 ${C}`,d=s.useCallback(e=>{var h;let p=e!=null&&e.name?e==null?void 0:e.name.substring(0,99):"unknown";return((h=e==null?void 0:e.name)==null?void 0:h.length)<99?p:p+"..."},[a]),c=r.map(e=>({...e,displayName:d(e)})),l=[{id:"displayName",align:"left",name:"Charity Name"},{id:"donations2025",name:b,align:"center",displayField:"donations2025text",descending:!0}];n!=="preview"&&l.push({id:"donations",name:m,align:"center",displayField:"donationsText",descending:!0});const f="displayName",u="100%",x={columns:l,rows:c,defaultSort:f,sortable:!0,wrap:!0},g=s.useCallback((e,o)=>{const p=r.find(w=>d(w)===o);if(!p)return o;const h=p.url||`https://www.google.com/search?q=${encodeURIComponent(p.name)}`;return e==="displayName"?t.jsx(k,{onClick:()=>i(h),style:{color:"#fff",fontWeight:700},children:o}):o},[i,d,r]);return t.jsxs(R.Fragment,{children:[t.jsxs("div",{style:{paddingBottom:32,width:u},children:[t.jsx(P,{label:"All Approved Charities",sortValues:null}),r.length===0?t.jsx(W,{label:"Charities"}):t.jsx(H,{tableData:x,tableWidth:u,linkFunction:g})]}),t.jsx(M,{})]})}function Ae(){A("RAFL Charities");const{isMobile:r}=j(),n=r?8:0,i={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:n,paddingRight:n},a=t.jsxs(R.Fragment,{children:[!r&&t.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),t.jsx($,{})]});return t.jsx(T,{filterFields:z,children:t.jsx(q,{children:t.jsxs("div",{style:i,children:[t.jsx(L,{title:"RAFL Charities",extras:a}),t.jsx(I,{page:"charities"}),t.jsx(K,{}),t.jsx(D,{}),t.jsx(S,{feature:"raflCharities"})]})})})}export{Ae as default};
