import{j as t,C as p,a2 as m,c as f,b as j,r as s,ai as h,a8 as g,R as c,Q as C,U as E}from"./index-fbe8e671.js";import{L as P,D as v,I as y,C as F,E as D,m as L,k as R,h as T,T as b,i as B,j as I,l as N}from"./FilterButton-42b76be5.js";import"./InputLabel-aa1a7a43.js";import"./ImageViewer-738312d0.js";import"./LinearProgress-ecc95bfc.js";import"./index-5e6bd873.js";import"./index-9c6c6a58.js";import"./Badge-246862ba.js";function k(){const e={marginTop:16,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0};return t.jsxs(p,{style:e,children:[t.jsx(m,{title:"Profile Not Found!"}),t.jsx(f,{children:t.jsx(j,{variant:"h6",align:"center",children:"This profile was not found, or is not public."})})]})}function w(){const{compact:e,expanded:n,setExpanded:i}=s.useContext(P),{visibleEntries:o=[]}=s.useContext(v),l=s.useDeferredValue(n);return t.jsxs("div",{style:{margin:8,paddingBottom:32},children:[t.jsx(y,{}),e?t.jsx(F,{entries:o}):o.map(r=>t.jsx(D,{entry:r,expanded:r.id===l,onExpand:i},r.id))]})}function V(){const[e,n]=s.useState([]),{userId:i}=h(),{getProfile:o}=s.useContext(g),[l,r]=s.useState(!1);s.useEffect(()=>{(async()=>{try{const a=await o(i);n(a),r(!1)}catch(a){console.trace("Error loading profile",a),n([]),r(!0)}})()},[i,o]);const x=s.useMemo(()=>{const d=new Set(L.flatMap(({key:a})=>e[a]));return R.filter(a=>d.has(a.id))},[e]),u=t.jsxs(c.Fragment,{children:[t.jsx(T,{}),t.jsx(b,{})]});return t.jsx(c.Fragment,{children:t.jsx(B,{children:t.jsx(I,{allEntries:x,children:t.jsxs(N,{children:[t.jsx(C,{title:`Profile for ${e.displayName||"Anonymous"}`,extras:u}),e&&!l&&t.jsx(w,{}),l&&t.jsx(k,{}),t.jsx(E,{})]})})})})}export{V as default};
