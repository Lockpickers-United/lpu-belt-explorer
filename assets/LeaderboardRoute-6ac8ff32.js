import{j as a,r as c,A as g,y as m,v as b,R as u}from"./index-24bc01bb.js";import{H as f,J as y,K as v,O as T,d as w,T as C,N as k,G as L}from"./Nav-f33bba3a.js";import{T as D,a as j,b as n,c as R,d as N,e as E}from"./TableRow-f8250b54.js";import{L as H}from"./LinearProgress-dd3170c5.js";function _(){const t={border:0,padding:"4px 12px",backgroundColor:"#000"};return a.jsx(D,{children:a.jsxs(j,{children:[a.jsx(n,{align:"center",style:t,children:"#"}),a.jsx(n,{style:{fontWeight:700,fontSize:"1.2rem",border:0,padding:"4px 16px 4px 0px",backgroundColor:"#000"},children:"Name"},"Display Name"),a.jsx(n,{align:"center",style:t,children:a.jsx(f,{})}),a.jsx(n,{align:"center",style:t,children:a.jsx(y,{})}),a.jsx(n,{align:"center",style:t,children:a.jsx(v,{})}),a.jsx(n,{align:"center",style:t,children:a.jsx(T,{})})]})})}function d({align:t="center",user:e,leader:o,value:i}){const{displayName:l,id:x}=o,h=(e==null?void 0:e.uid)===x,s=l?"#eee":"#bbb",r=h?{fontWeight:600,color:"#4db013"}:{fontWeight:500,color:s},p={color:s};return a.jsx(n,{align:t,sx:p,style:r,children:i})}function A({index:t,leader:e,user:o}){return a.jsxs(j,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#000"},"td, th":{padding:"6px 2px",border:0}},children:[a.jsx(d,{leader:e,user:o,value:t+1}),a.jsx(d,{leader:e,user:o,value:e.displayName||"Anonymous",align:"left"}),a.jsx(d,{leader:e,user:o,value:e.own}),a.jsx(d,{leader:e,user:o,value:e.picked}),a.jsx(d,{leader:e,user:o,value:e.recorded}),a.jsx(d,{leader:e,user:o,value:e.wishlist})]},e.id)}function S(){const{user:t}=c.useContext(g),[e,o]=c.useState({data:[],metadata:{}}),[i,l]=c.useState(!0);c.useEffect(()=>{const s=async()=>{const p=await(await fetch(F)).json();o(p),l(!1)};try{s()}catch(r){console.error("Error loading leaderboard data.",r),m("Error loading leaderboard data. Please reload the page.",{autoHideDuration:null,action:a.jsx(b,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),l(!1)}},[]);const x=i?"####-##-## ##:##":w(e.metadata.updatedDateTime).format("MM/DD/YY hh:mm"),h=i?W:e.data;return a.jsxs(u.Fragment,{children:[i&&a.jsx(H,{variant:"indeterminate",color:"secondary"}),a.jsxs("div",{style:{maxWidth:700,padding:8,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",marginTop:16},children:[a.jsx(R,{sx:{height:"78vh",backgroundColor:"#111"},children:a.jsxs(N,{stickyHeader:!0,children:[a.jsx(_,{}),a.jsx(E,{children:h.map((s,r)=>a.jsx(A,{index:r,leader:s,user:t},s.id))})]})}),a.jsxs(C,{variant:"caption",align:"right",component:"div",style:{width:"100%",marginTop:8},children:["Last updated: ",x," GMT"]}),a.jsx("img",{alt:"leaderboard",src:"https://images.lpubelts.com/i/leaderboard.gif",width:10,height:10}),a.jsx("br",{})]})]})}const W=[...Array(40)].map((t,e)=>({id:e,displayName:"........................",own:"---",picked:"---",recorded:"---",wishlist:"--"})),F="https://explore.lpubelts.com/leaderboard/leaderboardData.json";function P(){return a.jsxs(u.Fragment,{children:[a.jsx(k,{title:"Collection Leaderboard"}),a.jsx(S,{}),a.jsx(L,{})]})}export{P as default};
