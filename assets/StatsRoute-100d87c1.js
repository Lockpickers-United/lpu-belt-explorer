import{y as nn,z as an,j as n,R as me,r as w,a0 as rn,A as Oe,a9 as sn,K as on,O as ln,P as dn,Q as cn}from"./index-55f0431c.js";import{L as un}from"./LoadingDisplay-a692214d.js";import{u as hn}from"./useData-6b043aaf.js";import{u as gn}from"./usePageTitle-9482030c.js";import{u as Y}from"./useWindowSize-5f4836e8.js";import{C as fn,L as xn}from"./ChoiceButtonGroup-3a2e51fa.js";import{c as he,d as ge,T as Me,a as _,b as O,e as fe,f as pn,g as mn,h as vn,p as bn,r as yn,s as Ln}from"./dataUrls-20ce50ab.js";import{d as kn}from"./PhotoCamera-3bfe37a7.js";import{B as xe}from"./nivo-bar.es-98a92474.js";import{b as pe,p as ve,a as Pe,l as An}from"./chartDefaults-9fc07b21.js";import{c as F,h as dt,e as $,t as Ce,a as ae,s as Q,b as oe,m as Te,d as ct,p as ut,f as H,g as ht,i as jn,j as Rn,G as Ie,E as be,W as We,o as De,Z as Ve,u as Ee,k as ye,l as le,n as re,q as de,r as wn,J as Sn,H as Cn,B as Mn,v as In,_ as Wn,X as On,w as Tn,D as Bn,x as Pn,y as Dn}from"./nivo-legends.es-9968c9f0.js";import{p as Vn,m as En,P as Hn}from"./nivo-line.es-22c64439.js";import{F as Gn,I as Fn,S as zn}from"./Select-d0af052f.js";import"./LPU-c3fa7122.js";import"./LinearProgress-5fcfe218.js";import"./useDocumentTitle-530e2d42.js";import"./ToggleButtonGroup-37d1ada1.js";import"./index-7f28d120.js";function $n(e){return e.innerRadius}function Yn(e){return e.outerRadius}function Nn(e){return e.startAngle}function qn(e){return e.endAngle}function Xn(e){return e&&e.padAngle}function Un(e,t,i,r,l,d,s,a){var o=i-e,c=r-t,p=s-l,u=a-d,h=u*o-p*c;if(!(h*h<$))return h=(p*(t-d)-u*(e-l))/h,[e+h*o,t+h*c]}function we(e,t,i,r,l,d,s){var a=e-i,o=t-r,c=(s?d:-d)/oe(a*a+o*o),p=c*o,u=-c*a,h=e+p,b=t+u,m=i+p,v=r+u,g=(h+m)/2,A=(b+v)/2,f=m-h,x=v-b,S=f*f+x*x,y=l-d,j=h*v-m*b,T=(x<0?-1:1)*oe(Rn(0,y*y*S-j*j)),P=(j*x-f*T)/S,W=(-j*f-x*T)/S,C=(j*x+f*T)/S,D=(-j*f+x*T)/S,L=P-g,R=W-A,z=C-g,M=D-A;return L*L+R*R>z*z+M*M&&(P=C,W=D),{cx:P,cy:W,x01:-p,y01:-u,x11:P*(l/y-1),y11:W*(l/y-1)}}function Jn(){var e=$n,t=Yn,i=F(0),r=null,l=Nn,d=qn,s=Xn,a=null;function o(){var c,p,u=+e.apply(this,arguments),h=+t.apply(this,arguments),b=l.apply(this,arguments)-dt,m=d.apply(this,arguments)-dt,v=ct(m-b),g=m>b;if(a||(a=c=Vn()),h<u&&(p=h,h=u,u=p),!(h>$))a.moveTo(0,0);else if(v>Ce-$)a.moveTo(h*ae(b),h*Q(b)),a.arc(0,0,h,b,m,!g),u>$&&(a.moveTo(u*ae(m),u*Q(m)),a.arc(0,0,u,m,b,g));else{var A=b,f=m,x=b,S=m,y=v,j=v,T=s.apply(this,arguments)/2,P=T>$&&(r?+r.apply(this,arguments):oe(u*u+h*h)),W=Te(ct(h-u)/2,+i.apply(this,arguments)),C=W,D=W,L,R;if(P>$){var z=ht(P/u*Q(T)),M=ht(P/h*Q(T));(y-=z*2)>$?(z*=g?1:-1,x+=z,S-=z):(y=0,x=S=(b+m)/2),(j-=M*2)>$?(M*=g?1:-1,A+=M,f-=M):(j=0,A=f=(b+m)/2)}var B=h*ae(A),Z=h*Q(A),ee=u*ae(S),N=u*Q(S);if(W>$){var E=h*ae(f),U=h*Q(f),J=u*ae(x),K=u*Q(x),G;if(v<ut&&(G=Un(B,Z,J,K,E,U,ee,N))){var ie=B-G[0],V=Z-G[1],q=E-G[0],X=U-G[1],Le=1/Q(jn((ie*q+V*X)/(oe(ie*ie+V*V)*oe(q*q+X*X)))/2),ke=oe(G[0]*G[0]+G[1]*G[1]);C=Te(W,(u-ke)/(Le-1)),D=Te(W,(h-ke)/(Le+1))}}j>$?D>$?(L=we(J,K,B,Z,h,D,g),R=we(E,U,ee,N,h,D,g),a.moveTo(L.cx+L.x01,L.cy+L.y01),D<W?a.arc(L.cx,L.cy,D,H(L.y01,L.x01),H(R.y01,R.x01),!g):(a.arc(L.cx,L.cy,D,H(L.y01,L.x01),H(L.y11,L.x11),!g),a.arc(0,0,h,H(L.cy+L.y11,L.cx+L.x11),H(R.cy+R.y11,R.cx+R.x11),!g),a.arc(R.cx,R.cy,D,H(R.y11,R.x11),H(R.y01,R.x01),!g))):(a.moveTo(B,Z),a.arc(0,0,h,A,f,!g)):a.moveTo(B,Z),!(u>$)||!(y>$)?a.lineTo(ee,N):C>$?(L=we(ee,N,E,U,u,-C,g),R=we(B,Z,J,K,u,-C,g),a.lineTo(L.cx+L.x01,L.cy+L.y01),C<W?a.arc(L.cx,L.cy,C,H(L.y01,L.x01),H(R.y01,R.x01),!g):(a.arc(L.cx,L.cy,C,H(L.y01,L.x01),H(L.y11,L.x11),!g),a.arc(0,0,u,H(L.cy+L.y11,L.cx+L.x11),H(R.cy+R.y11,R.cx+R.x11),g),a.arc(R.cx,R.cy,C,H(R.y11,R.x11),H(R.y01,R.x01),!g))):a.arc(0,0,u,S,x,g)}if(a.closePath(),c)return a=null,c+""||null}return o.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+l.apply(this,arguments)+ +d.apply(this,arguments))/2-ut/2;return[ae(p)*c,Q(p)*c]},o.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:F(+c),o):e},o.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:F(+c),o):t},o.cornerRadius=function(c){return arguments.length?(i=typeof c=="function"?c:F(+c),o):i},o.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:F(+c),o):r},o.startAngle=function(c){return arguments.length?(l=typeof c=="function"?c:F(+c),o):l},o.endAngle=function(c){return arguments.length?(d=typeof c=="function"?c:F(+c),o):d},o.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:F(+c),o):s},o.context=function(c){return arguments.length?(a=c??null,o):a},o}function Zn(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Kn(e){return e}function Qn(){var e=Kn,t=Zn,i=null,r=F(0),l=F(Ce),d=F(0);function s(a){var o,c=a.length,p,u,h=0,b=new Array(c),m=new Array(c),v=+r.apply(this,arguments),g=Math.min(Ce,Math.max(-Ce,l.apply(this,arguments)-v)),A,f=Math.min(Math.abs(g)/c,d.apply(this,arguments)),x=f*(g<0?-1:1),S;for(o=0;o<c;++o)(S=m[b[o]=o]=+e(a[o],o,a))>0&&(h+=S);for(t!=null?b.sort(function(y,j){return t(m[y],m[j])}):i!=null&&b.sort(function(y,j){return i(a[y],a[j])}),o=0,u=h?(g-c*x)/h:0;o<c;++o,v=A)p=b[o],S=m[p],A=v+(S>0?S*u:0)+x,m[p]={data:a[p],index:o,value:S,startAngle:v,endAngle:A,padAngle:f};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:F(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,i=null,s):t},s.sort=function(a){return arguments.length?(i=a,t=null,s):i},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:F(+a),s):r},s.endAngle=function(a){return arguments.length?(l=typeof a=="function"?a:F(+a),s):l},s.padAngle=function(a){return arguments.length?(d=typeof a=="function"?a:F(+a),s):d},s}var He={},_n=an;Object.defineProperty(He,"__esModule",{value:!0});var xt=He.default=void 0,ei=_n(nn()),ti=n;xt=He.default=(0,ei.default)((0,ti.jsx)("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4z"}),"SsidChart");const Be=({tableData:e})=>{const t={padding:"0px",fontWeight:700,backgroundColor:"#000"},i={border:0,padding:"4px 8px 0px 0px",fontWeight:400};return n.jsx(he,{id:"dailyAverages",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:n.jsxs(ge,{children:[n.jsx(Me,{children:n.jsx(_,{children:n.jsx(O,{colSpan:2,style:t,children:e.description})})}),n.jsx(fe,{children:e.data.map((r,l)=>n.jsxs(_,{index:l,children:[n.jsx(O,{style:i,children:r.label},l+1),n.jsx(O,{style:i,sx:{textAlign:"left"},children:r.value.toLocaleString()})]},l))})]})})};function ni({data:e}){const{width:t}=Y(),i=t<500,r=t<700,l=r?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},d=r?"26px":"10px",{lockSummary:{lockCounts:s},siteSummary:{dailyAverages:a,totals:o}}=e;return n.jsxs("div",{style:l,children:[n.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 26px",minWidth:"180px",maxWidth:"306px",height:140},children:[n.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:n.jsx(xt,{style:{fontSize:"x-large"}})}),n.jsx(Be,{tableData:a})]}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${d}`,minWidth:"200px",maxWidth:"306px",height:140},children:n.jsx(Be,{tableData:o})}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${d}`,minWidth:"200px",maxWidth:"306px",height:140},children:n.jsx(Be,{tableData:s})})]})}function ii({data:e}){const{width:t}=Y(),i=t<500,r=t<700,l=r?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},d=i?"32px":"10px",s=r?255:155,a=r?330:360,o={padding:"0px",fontWeight:700,backgroundColor:"#000"},c={border:0,padding:"4px 8px 0px 0px",fontWeight:400},p={border:0,padding:"4px 8px 0px 0px",fontWeight:700},{photoSegments:u,topPhotographers:h,uniqueImages:b,contributors:m}=e.lockSummary.photoStats;return n.jsx(me.Fragment,{children:n.jsxs("div",{style:l,children:[n.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 32px",minWidth:"300px",maxWidth:a,height:230},children:[n.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:n.jsx(kn,{style:{fontSize:"x-large"}})}),n.jsx(he,{id:"photoStats",style:{padding:"0px 0px 0px 4px",maxWidth:"240px"},children:n.jsx(ge,{children:n.jsxs(fe,{children:[n.jsxs(_,{index:1,children:[n.jsx(O,{style:p,sx:{maxWidth:108},children:"Unique Images"},"images"),n.jsx(O,{style:p,children:b},"imageCount")]},1),n.jsxs(_,{index:2,children:[n.jsx(O,{style:p,sx:{maxWidth:108},children:"Individual Contributors"},"contribs"),n.jsx(O,{style:p,children:m},"contribCount")]},2)]})})}),n.jsx("div",{style:{height:16}}),n.jsx(he,{id:"areaList",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:n.jsxs(ge,{children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:o,children:"Segment"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Count"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"w/Media"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Coverage"})]})}),n.jsx(fe,{children:u.map((v,g)=>n.jsxs(_,{index:g,children:[n.jsx(O,{style:c,children:v.segment},g+1),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.count}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.media}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.coverage})]},g))})]})})]}),n.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,margin:`10px 0px 0px ${d}`,minWidth:"260px",maxWidth:"330px",height:230},children:n.jsx(he,{sx:{height:200,backgroundColor:"#111",marginLeft:"auto",marginRight:"auto",width:{leaderboardWidth:s}},children:n.jsxs(ge,{stickyHeader:!0,children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:o,children:"Top Contributors"}),n.jsx(O,{style:o,sx:{textAlign:"center"},children:"Images"})]})}),n.jsx(fe,{children:h.map((v,g)=>n.jsxs(_,{children:[n.jsxs(O,{style:c,sx:{},children:["  ",v.contributor]}),n.jsx(O,{style:c,sx:{textAlign:"center"},children:v.images})]},g))})]})})})]})})}const ai=({beltDistribution:e})=>{const{width:t}=Y(),i=t<500,l=t<700?i?275:325:375,d=i?{top:30,right:5,bottom:55,left:48}:{top:30,right:20,bottom:30,left:50},s=i?-45:0;return n.jsx("div",{style:{height:l},children:n.jsx(xe,{data:e,maxValue:.2,margin:d,padding:.15,colors:a=>pe[a.index%pe.length],animate:!0,enableLabel:!1,axisBottom:{tickRotation:s},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},enableGridY:!1,theme:ve,isInteractive:!1})})};function ri({data:e}){const t=w.useMemo(()=>{const{lockSummary:{locksByBelt:d},siteSummary:{lockViewsByBelt:s},collectionsSummary:{savesByBelt:a}}=e;return[{label:"Site Views",data:s.data},{label:"Locks",data:d},{label:"Collection Saves",data:a}]},[e]),[i,r]=w.useState(t[0]),l=w.useCallback(d=>r(d),[]);return n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx(fn,{options:t,onChange:l}),n.jsx(ai,{beltDistribution:i.data})]})}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}var si={pointerEvents:"none"},oi=function(e){var t=e.label,i=e.style,r=be();return n.jsx(de.g,{transform:i.transform,opacity:i.progress,style:si,children:n.jsx(de.text,{textAnchor:"middle",dominantBaseline:"central",style:I({},r.labels.text,{fill:i.textColor}),children:t})})},pt=function(e){var t=e%(2*Math.PI);return t<0&&(t+=2*Math.PI),t},li=function(e,t){return e.filter(function(i){return Math.abs(De(i.arc.endAngle-i.arc.startAngle))>=t})},di={startAngle:{enter:function(e){return I({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return I({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:t,endAngle:t})},update:function(e){return e},leave:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:t,endAngle:t})}},endAngle:{enter:function(e){return I({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return I({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return I({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:t,outerRadius:t})},update:function(e){return e},leave:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:t,outerRadius:t})}},outerRadius:{enter:function(e){return I({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return I({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},mt=function(e,t){return w.useMemo(function(){var i=di[e];return{enter:function(r){return I({progress:0},i.enter(r.arc),t?t.enter(r):{})},update:function(r){return I({progress:1},i.update(r.arc),t?t.update(r):{})},leave:function(r){return I({progress:0},i.leave(r.arc),t?t.leave(r):{})}}},[e,t])},ci=function(e,t){var i=wn(e)-Math.PI/2,r=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return le(i,r)},ui=function(e){return function(t,i,r,l){return ye([t,i,r,l],function(d,s,a,o){var c=ci({startAngle:d,endAngle:s,innerRadius:a,outerRadius:o},e);return"translate("+c.x+","+c.y+")"})}},hi=function(e,t,i,r){t===void 0&&(t=.5),i===void 0&&(i="innerRadius");var l=Ve(),d=l.animate,s=l.config,a=mt(i,r);return{transition:Ee(e,{keys:function(o){return o.id},initial:a.update,from:a.enter,enter:a.update,update:a.update,leave:a.leave,config:s,immediate:!d}),interpolate:ui(t)}},gi=function(e){var t=e.center,i=e.data,r=e.transitionMode,l=e.label,d=e.radiusOffset,s=e.skipAngle,a=e.textColor,o=e.component,c=o===void 0?oi:o,p=Ie(l),u=be(),h=We(a,u),b=w.useMemo(function(){return i.filter(function(f){return Math.abs(De(f.arc.endAngle-f.arc.startAngle))>=s})},[i,s]),m=hi(b,d,r),v=m.transition,g=m.interpolate,A=c;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:v(function(f,x){return w.createElement(A,{key:x.id,datum:x,label:p(x),style:I({},f,{transform:g(f.startAngle,f.endAngle,f.innerRadius,f.outerRadius),textColor:h(x)})})})})},fi=function(e){var t=e.label,i=e.style,r=be();return n.jsxs(de.g,{opacity:i.opacity,children:[n.jsx(de.path,{fill:"none",stroke:i.linkColor,strokeWidth:i.thickness,d:i.path}),n.jsx(de.text,{transform:i.textPosition,textAnchor:i.textAnchor,dominantBaseline:"central",style:I({},r.labels.text,{fill:i.textColor}),children:t})]})},xi=function(e){var t=pt(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return t<Math.PI/2||t>1.5*Math.PI?"start":"end"},vt=function(e,t,i,r){var l,d,s=pt(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),a=le(s,e.outerRadius+t),o=le(s,e.outerRadius+t+i);return s<Math.PI/2||s>1.5*Math.PI?(l="after",d={x:o.x+r,y:o.y}):(l="before",d={x:o.x-r,y:o.y}),{side:l,points:[a,o,d]}},pi=En().x(function(e){return e.x}).y(function(e){return e.y}),mi=function(e,t,i,r,l,d,s){return ye([e,t,i,r,l,d,s],function(a,o,c,p,u,h,b){var m=vt({startAngle:a,endAngle:o,innerRadius:c,outerRadius:p},u,h,b).points;return pi(m)})},vi=function(e,t,i,r){return ye([e,t,i,r],function(l,d,s,a){return xi({startAngle:l,endAngle:d,innerRadius:s,outerRadius:a})})},bi=function(e,t,i,r,l,d,s,a){return ye([e,t,i,r,l,d,s,a],function(o,c,p,u,h,b,m,v){var g=vt({startAngle:o,endAngle:c,innerRadius:p,outerRadius:u},h,b,m),A=g.points,f=g.side,x=A[2];return f==="before"?x.x-=v:x.x+=v,"translate("+x.x+","+x.y+")"})},yi=function(e){var t=e.data,i=e.offset,r=i===void 0?0:i,l=e.diagonalLength,d=e.straightLength,s=e.skipAngle,a=s===void 0?0:s,o=e.textOffset,c=e.linkColor,p=e.textColor,u=Ve(),h=u.animate,b=u.config,m=be(),v=We(c,m),g=We(p,m),A=function(x,S){return w.useMemo(function(){return li(x,S)},[x,S])}(t,a),f=function(x){var S=x.offset,y=x.diagonalLength,j=x.straightLength,T=x.textOffset,P=x.getLinkColor,W=x.getTextColor;return w.useMemo(function(){return{enter:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:S,diagonalLength:0,straightLength:0,textOffset:T,linkColor:P(C),textColor:W(C),opacity:0}},update:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:S,diagonalLength:y,straightLength:j,textOffset:T,linkColor:P(C),textColor:W(C),opacity:1}},leave:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:S,diagonalLength:0,straightLength:0,textOffset:T,linkColor:P(C),textColor:W(C),opacity:0}}}},[y,j,T,P,W,S])}({offset:r,diagonalLength:l,straightLength:d,textOffset:o,getLinkColor:v,getTextColor:g});return{transition:Ee(A,{keys:function(x){return x.id},initial:f.update,from:f.enter,enter:f.update,update:f.update,leave:f.leave,config:b,immediate:!h}),interpolateLink:mi,interpolateTextAnchor:vi,interpolateTextPosition:bi}},Li=function(e){var t=e.center,i=e.data,r=e.label,l=e.skipAngle,d=e.offset,s=e.diagonalLength,a=e.straightLength,o=e.strokeWidth,c=e.textOffset,p=e.textColor,u=e.linkColor,h=e.component,b=h===void 0?fi:h,m=Ie(r),v=yi({data:i,skipAngle:l,offset:d,diagonalLength:s,straightLength:a,textOffset:c,linkColor:u,textColor:p}),g=v.transition,A=v.interpolateLink,f=v.interpolateTextAnchor,x=v.interpolateTextPosition,S=b;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(y,j){return w.createElement(S,{key:j.id,datum:j,label:m(j),style:I({},y,{thickness:o,path:A(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius,y.offset,y.diagonalLength,y.straightLength),textAnchor:f(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius),textPosition:x(y.startAngle,y.endAngle,y.innerRadius,y.outerRadius,y.offset,y.diagonalLength,y.straightLength,y.textOffset)})})})})},ki=function(e){var t=e.datum,i=e.style,r=e.onClick,l=e.onMouseEnter,d=e.onMouseMove,s=e.onMouseLeave,a=w.useCallback(function(u){return r==null?void 0:r(t,u)},[r,t]),o=w.useCallback(function(u){return l==null?void 0:l(t,u)},[l,t]),c=w.useCallback(function(u){return d==null?void 0:d(t,u)},[d,t]),p=w.useCallback(function(u){return s==null?void 0:s(t,u)},[s,t]);return n.jsx(de.path,{d:i.path,opacity:i.opacity,fill:t.fill||i.color,stroke:i.borderColor,strokeWidth:i.borderWidth,onClick:r?a:void 0,onMouseEnter:l?o:void 0,onMouseMove:d?c:void 0,onMouseLeave:s?p:void 0})},Ai=function(e,t,i,r,l){return ye([e,t,i,r],function(d,s,a,o){return l({startAngle:d,endAngle:s,innerRadius:Math.max(0,a),outerRadius:Math.max(0,o)})})},ji=function(e,t,i){t===void 0&&(t="innerRadius");var r=Ve(),l=r.animate,d=r.config,s=mt(t,i);return{transition:Ee(e,{keys:function(a){return a.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:d,immediate:!l}),interpolate:Ai}},Ri=function(e){var t=e.center,i=e.data,r=e.arcGenerator,l=e.borderWidth,d=e.borderColor,s=e.onClick,a=e.onMouseEnter,o=e.onMouseMove,c=e.onMouseLeave,p=e.transitionMode,u=e.component,h=u===void 0?ki:u,b=be(),m=We(d,b),v=ji(i,p,{enter:function(x){return{opacity:0,color:x.color,borderColor:m(x)}},update:function(x){return{opacity:1,color:x.color,borderColor:m(x)}},leave:function(x){return{opacity:0,color:x.color,borderColor:m(x)}}}),g=v.transition,A=v.interpolate,f=h;return n.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:g(function(x,S){return w.createElement(f,{key:S.id,datum:S,style:I({},x,{borderWidth:l,path:A(x.startAngle,x.endAngle,x.innerRadius,x.outerRadius,r)}),onClick:s,onMouseEnter:a,onMouseMove:o,onMouseLeave:c})})})},wi=function(e,t,i,r,l,d){d===void 0&&(d=!0);var s=[],a=le(re(r),i);s.push([a.x,a.y]);var o=le(re(l),i);s.push([o.x,o.y]);for(var c=Math.round(Math.min(r,l));c<=Math.round(Math.max(r,l));c++)if(c%90==0){var p=le(re(c),i);s.push([p.x,p.y])}s=s.map(function(g){var A=g[0],f=g[1];return[e+A,t+f]}),d&&s.push([e,t]);var u=s.map(function(g){return g[0]}),h=s.map(function(g){return g[1]}),b=Math.min.apply(Math,u),m=Math.max.apply(Math,u),v=Math.min.apply(Math,h);return{points:s,x:b,y:v,width:m-b,height:Math.max.apply(Math,h)-v}},Si=function(e){var t=e===void 0?{}:e,i=t.cornerRadius,r=i===void 0?0:i,l=t.padAngle,d=l===void 0?0:l;return w.useMemo(function(){return Jn().innerRadius(function(s){return s.innerRadius}).outerRadius(function(s){return s.outerRadius}).cornerRadius(r).padAngle(d)},[r,d])};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ne.apply(this,arguments)}function bt(e,t){if(e==null)return{};var i,r,l={},d=Object.keys(e);for(r=0;r<d.length;r++)i=d[r],t.indexOf(i)>=0||(l[i]=e[i]);return l}var gt,Ci=function(e){var t=e.width,i=e.height,r=e.legends,l=e.data,d=e.toggleSerie;return n.jsx(n.Fragment,{children:r.map(function(s,a){var o;return n.jsx(On,ne({},s,{containerWidth:t,containerHeight:i,data:(o=s.data)!=null?o:l,toggleSerie:s.toggleSerie?d:void 0}),a)})})},k={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return n.jsx(Tn,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img",pixelRatio:typeof window<"u"&&(gt=window.devicePixelRatio)!=null?gt:1},Mi=["points"],Ii=function(e){var t=e.data,i=e.id,r=i===void 0?k.id:i,l=e.value,d=l===void 0?k.value:l,s=e.valueFormat,a=e.colors,o=a===void 0?k.colors:a,c=Ie(r),p=Ie(d),u=Bn(s),h=Pn(o,"id");return w.useMemo(function(){return t.map(function(b){var m,v=c(b),g=p(b),A={id:v,label:(m=b.label)!=null?m:v,hidden:!1,value:g,formattedValue:u(g),data:b};return ne({},A,{color:h(A)})})},[t,c,p,u,h])},Wi=function(e){var t=e.data,i=e.startAngle,r=e.endAngle,l=e.innerRadius,d=e.outerRadius,s=e.padAngle,a=e.sortByValue,o=e.activeId,c=e.activeInnerRadiusOffset,p=e.activeOuterRadiusOffset,u=e.hiddenIds,h=e.forwardLegendData,b=w.useMemo(function(){var A=Qn().value(function(f){return f.value}).startAngle(re(i)).endAngle(re(r)).padAngle(re(s));return a||A.sortValues(null),A},[i,r,s,a]),m=w.useMemo(function(){var A=t.filter(function(f){return!u.includes(f.id)});return{dataWithArc:b(A).map(function(f){var x=Math.abs(f.endAngle-f.startAngle);return ne({},f.data,{arc:{index:f.index,startAngle:f.startAngle,endAngle:f.endAngle,innerRadius:o===f.data.id?l-c:l,outerRadius:o===f.data.id?d+p:d,thickness:d-l,padAngle:f.padAngle,angle:x,angleDeg:De(x)}})}),legendData:t.map(function(f){return{id:f.id,label:f.label,color:f.color,hidden:u.includes(f.id),data:f}})}},[b,t,u,o,l,c,d,p]),v=m.legendData,g=w.useRef(h);return w.useEffect(function(){typeof g.current=="function"&&g.current(v)},[g,v]),m},Oi=function(e){var t=e.activeId,i=e.onActiveIdChange,r=e.defaultActiveId,l=t!==void 0,d=w.useState(l||r===void 0?null:r),s=d[0],a=d[1];return{activeId:l?t:s,setActiveId:w.useCallback(function(o){i&&i(o),l||a(o)},[l,i,a])}},Ti=function(e){var t=e.data,i=e.width,r=e.height,l=e.innerRadius,d=l===void 0?k.innerRadius:l,s=e.startAngle,a=s===void 0?k.startAngle:s,o=e.endAngle,c=o===void 0?k.endAngle:o,p=e.padAngle,u=p===void 0?k.padAngle:p,h=e.sortByValue,b=h===void 0?k.sortByValue:h,m=e.cornerRadius,v=m===void 0?k.cornerRadius:m,g=e.fit,A=g===void 0?k.fit:g,f=e.activeInnerRadiusOffset,x=f===void 0?k.activeInnerRadiusOffset:f,S=e.activeOuterRadiusOffset,y=S===void 0?k.activeOuterRadiusOffset:S,j=e.activeId,T=e.onActiveIdChange,P=e.defaultActiveId,W=e.forwardLegendData,C=Oi({activeId:j,onActiveIdChange:T,defaultActiveId:P}),D=C.activeId,L=C.setActiveId,R=w.useState([]),z=R[0],M=R[1],B=w.useMemo(function(){var N,E=Math.min(i,r)/2,U=E*Math.min(d,1),J=i/2,K=r/2;if(A){var G=wi(J,K,E,a-90,c-90),ie=G.points,V=bt(G,Mi),q=Math.min(i/V.width,r/V.height),X={width:V.width*q,height:V.height*q};X.x=(i-X.width)/2,X.y=(r-X.height)/2,J=(J-V.x)/V.width*V.width*q+X.x,K=(K-V.y)/V.height*V.height*q+X.y,N={box:V,ratio:q,points:ie},E*=q,U*=q}return{centerX:J,centerY:K,radius:E,innerRadius:U,debug:N}},[i,r,d,a,c,A]),Z=Wi({data:t,startAngle:a,endAngle:c,innerRadius:B.innerRadius,outerRadius:B.radius,padAngle:u,sortByValue:b,activeId:D,activeInnerRadiusOffset:x,activeOuterRadiusOffset:y,hiddenIds:z,forwardLegendData:W}),ee=w.useCallback(function(N){M(function(E){return E.indexOf(N)>-1?E.filter(function(U){return U!==N}):[].concat(E,[N])})},[]);return ne({arcGenerator:Si({cornerRadius:v,padAngle:re(u)}),activeId:D,setActiveId:L,toggleSerie:ee},Z,B)},Bi=function(e){var t=e.dataWithArc,i=e.arcGenerator,r=e.centerX,l=e.centerY,d=e.radius,s=e.innerRadius;return w.useMemo(function(){return{dataWithArc:t,arcGenerator:i,centerX:r,centerY:l,radius:d,innerRadius:s}},[t,i,r,l,d,s])},Pi=function(e){var t=e.center,i=e.data,r=e.arcGenerator,l=e.borderWidth,d=e.borderColor,s=e.isInteractive,a=e.onClick,o=e.onMouseEnter,c=e.onMouseMove,p=e.onMouseLeave,u=e.setActiveId,h=e.tooltip,b=e.transitionMode,m=Dn(),v=m.showTooltipFromEvent,g=m.hideTooltip,A=w.useMemo(function(){if(s)return function(y,j){a==null||a(y,j)}},[s,a]),f=w.useMemo(function(){if(s)return function(y,j){v(w.createElement(h,{datum:y}),j),u(y.id),o==null||o(y,j)}},[s,v,u,o,h]),x=w.useMemo(function(){if(s)return function(y,j){v(w.createElement(h,{datum:y}),j),c==null||c(y,j)}},[s,v,c,h]),S=w.useMemo(function(){if(s)return function(y,j){g(),u(null),p==null||p(y,j)}},[s,g,u,p]);return n.jsx(Ri,{center:t,data:i,arcGenerator:r,borderWidth:l,borderColor:d,transitionMode:b,onClick:A,onMouseEnter:f,onMouseMove:x,onMouseLeave:S})},Di=["isInteractive","animate","motionConfig","theme","renderWrapper"],Vi=function(e){var t=e.data,i=e.id,r=i===void 0?k.id:i,l=e.value,d=l===void 0?k.value:l,s=e.valueFormat,a=e.sortByValue,o=a===void 0?k.sortByValue:a,c=e.layers,p=c===void 0?k.layers:c,u=e.startAngle,h=u===void 0?k.startAngle:u,b=e.endAngle,m=b===void 0?k.endAngle:b,v=e.padAngle,g=v===void 0?k.padAngle:v,A=e.fit,f=A===void 0?k.fit:A,x=e.innerRadius,S=x===void 0?k.innerRadius:x,y=e.cornerRadius,j=y===void 0?k.cornerRadius:y,T=e.activeInnerRadiusOffset,P=T===void 0?k.activeInnerRadiusOffset:T,W=e.activeOuterRadiusOffset,C=W===void 0?k.activeOuterRadiusOffset:W,D=e.width,L=e.height,R=e.margin,z=e.colors,M=z===void 0?k.colors:z,B=e.borderWidth,Z=B===void 0?k.borderWidth:B,ee=e.borderColor,N=ee===void 0?k.borderColor:ee,E=e.enableArcLabels,U=E===void 0?k.enableArcLabels:E,J=e.arcLabel,K=J===void 0?k.arcLabel:J,G=e.arcLabelsSkipAngle,ie=G===void 0?k.arcLabelsSkipAngle:G,V=e.arcLabelsTextColor,q=V===void 0?k.arcLabelsTextColor:V,X=e.arcLabelsRadiusOffset,Le=X===void 0?k.arcLabelsRadiusOffset:X,ke=e.arcLabelsComponent,Fe=e.enableArcLinkLabels,yt=Fe===void 0?k.enableArcLinkLabels:Fe,ze=e.arcLinkLabel,Lt=ze===void 0?k.arcLinkLabel:ze,$e=e.arcLinkLabelsSkipAngle,kt=$e===void 0?k.arcLinkLabelsSkipAngle:$e,Ye=e.arcLinkLabelsOffset,At=Ye===void 0?k.arcLinkLabelsOffset:Ye,Ne=e.arcLinkLabelsDiagonalLength,jt=Ne===void 0?k.arcLinkLabelsDiagonalLength:Ne,qe=e.arcLinkLabelsStraightLength,Rt=qe===void 0?k.arcLinkLabelsStraightLength:qe,Xe=e.arcLinkLabelsThickness,wt=Xe===void 0?k.arcLinkLabelsThickness:Xe,Ue=e.arcLinkLabelsTextOffset,St=Ue===void 0?k.arcLinkLabelsTextOffset:Ue,Je=e.arcLinkLabelsTextColor,Ct=Je===void 0?k.arcLinkLabelsTextColor:Je,Ze=e.arcLinkLabelsColor,Mt=Ze===void 0?k.arcLinkLabelsColor:Ze,It=e.arcLinkLabelComponent,Ke=e.defs,Wt=Ke===void 0?k.defs:Ke,Qe=e.fill,Ot=Qe===void 0?k.fill:Qe,_e=e.isInteractive,Tt=_e===void 0?k.isInteractive:_e,Bt=e.onClick,Pt=e.onMouseEnter,Dt=e.onMouseMove,Vt=e.onMouseLeave,et=e.tooltip,Et=et===void 0?k.tooltip:et,Ht=e.activeId,Gt=e.onActiveIdChange,Ft=e.defaultActiveId,tt=e.transitionMode,nt=tt===void 0?k.transitionMode:tt,it=e.legends,at=it===void 0?k.legends:it,zt=e.forwardLegendData,rt=e.role,$t=rt===void 0?k.role:rt,ce=Mn(D,L,R),Yt=ce.outerWidth,Nt=ce.outerHeight,qt=ce.margin,st=ce.innerWidth,ot=ce.innerHeight,Xt=Ii({data:t,id:r,value:d,valueFormat:s,colors:M}),te=Ti({data:Xt,width:st,height:ot,fit:f,innerRadius:S,startAngle:h,endAngle:m,padAngle:g,sortByValue:o,cornerRadius:j,activeInnerRadiusOffset:P,activeOuterRadiusOffset:C,activeId:Ht,onActiveIdChange:Gt,defaultActiveId:Ft,forwardLegendData:zt}),ue=te.dataWithArc,Ut=te.legendData,lt=te.arcGenerator,Ae=te.centerX,je=te.centerY,Jt=te.radius,Zt=te.innerRadius,Kt=te.setActiveId,Qt=te.toggleSerie,_t=In(Wt,ue,Ot),se={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};p.includes("arcs")&&(se.arcs=n.jsx(Pi,{center:[Ae,je],data:ue,arcGenerator:lt,borderWidth:Z,borderColor:N,isInteractive:Tt,onClick:Bt,onMouseEnter:Pt,onMouseMove:Dt,onMouseLeave:Vt,setActiveId:Kt,tooltip:Et,transitionMode:nt},"arcs")),yt&&p.includes("arcLinkLabels")&&(se.arcLinkLabels=n.jsx(Li,{center:[Ae,je],data:ue,label:Lt,skipAngle:kt,offset:At,diagonalLength:jt,straightLength:Rt,strokeWidth:wt,textOffset:St,textColor:Ct,linkColor:Mt,component:It},"arcLinkLabels")),U&&p.includes("arcLabels")&&(se.arcLabels=n.jsx(gi,{center:[Ae,je],data:ue,label:K,radiusOffset:Le,skipAngle:ie,textColor:q,transitionMode:nt,component:ke},"arcLabels")),at.length>0&&p.includes("legends")&&(se.legends=n.jsx(Ci,{width:st,height:ot,data:Ut,legends:at,toggleSerie:Qt},"legends"));var en=Bi({dataWithArc:ue,arcGenerator:lt,centerX:Ae,centerY:je,radius:Jt,innerRadius:Zt});return n.jsx(Wn,{width:Yt,height:Nt,margin:qt,defs:_t,role:$t,children:p.map(function(Re,tn){return se[Re]!==void 0?se[Re]:typeof Re=="function"?n.jsx(w.Fragment,{children:w.createElement(Re,en)},tn):null})})},Ei=function(e){var t=e.isInteractive,i=t===void 0?k.isInteractive:t,r=e.animate,l=r===void 0?k.animate:r,d=e.motionConfig,s=d===void 0?k.motionConfig:d,a=e.theme,o=e.renderWrapper,c=bt(e,Di);return n.jsx(Cn,{animate:l,isInteractive:i,motionConfig:s,renderWrapper:o,theme:a,children:n.jsx(Vi,ne({isInteractive:i},c))})},Ge=function(e){return n.jsx(Sn,{children:function(t){var i=t.width,r=t.height;return n.jsx(Ei,ne({width:i,height:r},e))}})};function Hi({data:e}){const{lockingMechanisms:t}=e.lockSummary,{width:i}=Y(),r=i<=360,l=i<=395,d=i<=428,s=i<=560,a={top:24,right:0,bottom:20,left:40};let o=320;r?o=145:l?o=180:d?o=230:s&&(o=240);const c=s?5:4,p=s?10:8,u=s?0:8;return n.jsx("div",{style:{height:o,padding:"0px 8px 0px 8px",width:"100%"},children:n.jsx(Ge,{data:t,theme:Pe,colors:{scheme:"dark2"},margin:a,startAngle:-70,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:c,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label+": "+h.value,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:u,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:p,arcLabelsTextColor:"#111",isInteractive:!1})},"waffle")}function Gi({data:e}){const{redditGrowth:t}=e,{width:i}=Y(),r=i<500,d=i<700?r?220:300:350,s=r?2:3,a=t.map(o=>({total:Object.keys(o).reduce((p,u)=>u==="date"?p:+o[u]+p,0)}));return n.jsxs("div",{style:{height:d},children:[n.jsx(xe,{data:t,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],indexBy:"date",groupMode:"stacked",margin:{top:10,right:20,bottom:50,left:55},padding:.1,innerPadding:.5,borderRadius:s,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:8e3,theme:ve,colors:pe,animate:!0,enableLabel:!0,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0}),n.jsx("div",{style:{height:30,marginTop:-20},children:n.jsx(xe,{data:a,indexBy:"total",margin:{top:10,right:20,bottom:40,left:55},maxValue:0,theme:An,axisLeft:null,enableGridY:!1,enableGridX:!1,animate:!0,isInteractive:!1})})]})}function Fi({data:e,lockCollection:t,userText:i,collectionBarHeight:r}){const{isLoggedIn:l}=w.useContext(rn),d=e.collectionsSummary.listStats.data[0],s=t.own?t.own.length:0,a=t.picked?t.picked.length:0,o=t.recordedLocks?t.recordedLocks.length:0,c=t.wishlist?t.wishlist.length:0,u=s+a+o+c?{own:s,picked:a,scorecard:o,wishlist:c}:{own:0,picked:0,scorecard:0,wishlist:0},h={own:d.aveOwn,picked:d.avePicked,scorecard:d.aveScorecard,wishlist:d.aveWishlist},b={own:d.maxOwn,picked:d.maxPicked,scorecard:d.maxScorecard,wishlist:d.maxWishlist},m={own:Math.min(h.own,u.own),picked:Math.min(h.picked,u.picked),scorecard:Math.min(h.scorecard,u.scorecard),wishlist:Math.min(h.wishlist,u.wishlist)},v={own:u.own>h.own?0:h.own-m.own,picked:u.picked>h.picked?0:h.picked-m.picked,scorecard:u.scorecard>h.scorecard?0:h.scorecard-m.scorecard,wishlist:u.wishlist>h.wishlist?0:h.wishlist-m.wishlist},g={own:2,picked:2,scorecard:2,wishlist:2},A={own:Math.max(u.own-(m.own+v.own+g.own),0),picked:Math.max(u.picked-(m.picked+v.picked+g.picked),0),scorecard:Math.max(u.scorecard-(m.scorecard+v.scorecard+g.scorecard),0),wishlist:Math.max(u.wishlist-(m.wishlist+v.wishlist+g.wishlist),0)},f={own:Math.min(b.own-u.own,b.own-h.own-g.own),picked:Math.min(b.picked-u.picked,b.picked-h.picked-g.picked),scorecard:Math.min(b.scorecard-u.scorecard,b.scorecard-h.scorecard-g.scorecard),wishlist:Math.min(b.wishlist-u.wishlist,b.wishlist-h.wishlist-g.wishlist)},x=["own","picked","scorecard","wishlist"],S=x.map((L,R)=>({row:x[R],"Average A":m[L],"Average B":v[L],Average:g[L],USER:A[L],"Top 10":f[L]})),{width:y}=Y(),j=y<=560,T=r,P=j?{top:10,right:20,bottom:50,left:55}:{top:10,right:20,bottom:50,left:55},W=["#3c90c5","#aaa","#000","#3c90c5","#aaa"],C=l&&t?[{title:i,color:"#3c90c5",width:"14px"}]:[];C.push({title:"Average",color:"#000",width:"35px"},{title:"Max",color:"#aaaaaa",width:"120px"});const D=({items:L})=>n.jsxs("div",{className:"chart-legend",style:{display:"flex",fontSize:".9rem",color:"#ddd",marginTop:13},children:[n.jsx("div",{style:{width:"100%"}}),L.map(R=>n.jsxs("div",{style:{display:"flex",padding:"0px 18px 24px 18px"},children:[n.jsx("div",{style:{backgroundColor:R.color,height:15,width:15,margin:"2px 6px 0px 0px",border:"1px solid #555"}}),n.jsx("div",{style:{textAlign:"left",width:R.width},children:R.title})]},R.title)),n.jsx("div",{style:{width:"100%"}})]});return n.jsxs(me.Fragment,{children:[n.jsx("div",{style:{height:T},children:n.jsx(xe,{data:S,keys:["Average A","Average B","Average","USER","Top 10"],theme:ve,indexBy:"row",margin:P,padding:.2,valueScale:{type:"linear"},colors:W,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:"00",legend:"Saves",legendPosition:"middle",legendOffset:-45,legendOpacity:.9},enableGridY:!1,isInteractive:!1,animate:!1})}),n.jsx(D,{items:C})]})}const Se=({dataset:e,title:t})=>{const i={border:0,padding:"4px 8px 0px 0px",fontWeight:400,textOverflow:"ellipsis"};return n.jsxs("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,align:"center",margin:"0px 15px 16px 15px",width:300,height:490,marginLeft:"auto",marginRight:"auto"},children:[n.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,width:"100%",textAlign:"left",marginBottom:10,paddingLeft:6},children:t}),n.jsx(he,{id:"areaList",sx:{height:420,backgroundColor:"#111",margin:"auto"},children:n.jsxs(ge,{stickyHeader:!0,children:[n.jsx(Me,{children:n.jsxs(_,{children:[n.jsx(O,{style:{padding:"4px 10px 4px 12px",fontWeight:700,textAlign:"right"},children:"#"}),n.jsx(O,{style:{padding:"4px 0px",fontWeight:700},children:"Lock"})]})}),n.jsx(fe,{children:e.map((r,l)=>n.jsxs(_,{index:l,children:[n.jsx(O,{style:i,sx:{textAlign:"right",padding:"0px",width:34,verticalAlign:"top"},children:l+1},l+1),n.jsx(O,{style:i,sx:{textOverflow:"ellipsis"},children:r.lock},r.lock)]},l))})]})})]})};function zi({data:e}){const{topLocksOwn:t,topLocksPicked:i,topLocksScorecard:r,topLocksWishlist:l}=e.collectionsSummary.topLocksFull,{width:d}=Y(),s=d<=560,c={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...s?{}:{display:"flex"}};return n.jsxs("div",{style:{textAlign:"center"},children:[n.jsxs("div",{style:c,children:[n.jsx(Se,{dataset:t.data,title:"Owned"}),n.jsx(Se,{dataset:i.data,title:"Picked"})]}),n.jsxs("div",{style:c,children:[n.jsx(Se,{dataset:l.data,title:"Wishlist"}),n.jsx(Se,{dataset:r.data,title:"Scorecard"})]})]})}function $i({data:e}){const{hourlyRequests:t}=e.siteSummary,{width:i}=Y(),r=i<=360,l=i<=395,d=i<=560,s=r?230:l?270:d?290:350,a=d?["midnight","2 am","4 am","6 am","8 am","10 am","noon","2 pm","4 pm","6 pm","8 pm","10 pm"]:["midnight","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","noon","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"];return n.jsx("div",{style:{height:s},children:n.jsx(Hn,{theme:Ni,data:t,colors:["#007de2","#16325d"],lineWidth:3,margin:{top:10,right:20,bottom:75,left:55},curve:"natural",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},axisBottom:{tickValues:a,tickSize:5,tickPadding:5,tickRotation:-45,direction:"row"},legends:[{anchor:"bottom",itemTextColor:"#ddd",text:{fontSize:18},direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})}const Yi={grid:{line:{stroke:"#333",strokeWidth:1}}},Ni={...ve,...Yi},ft=({dataset:e,pieColors:t})=>{const{width:i}=Y(),r=i<=360,l=i<=395,d=i<=428,s=i<=560,a=s?{top:20,right:50,bottom:20,left:80}:{top:-50,right:50,bottom:20,left:80};let o=320;r?o=165:l?o=180:d?o=230:s&&(o=240);const c=s?6:4,p=s?4:0,u=s?4:8;return n.jsx("div",{style:{height:o,padding:"0px 8px 0px 8px",width:"100%",backgroundColor:"#000"},children:n.jsx(Ge,{data:e,theme:Pe,colors:t,margin:a,startAngle:-45,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:c,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:u,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:p,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")};function qi({data:e}){const{trafficTotals:{platform:t,browser:i}}=e.siteSummary,r=["#007de2","#0367ba","#005ba0","#004fa4","#063b87","#062f6b"],l=["#c34100","#b33600","#a02d01","#7d2900","#6a2200","#621d00","#581d00"],{width:d}=Y(),s=d<=560,c={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...s?{}:{display:"flex"}};return n.jsx(me.Fragment,{children:n.jsx("div",{style:{textAlign:"center"},children:n.jsxs("div",{style:c,children:[n.jsx(ft,{dataset:t,pieColors:r}),n.jsx(ft,{dataset:i,pieColors:l})]})})})}function Xi({beltData:e}){const{width:t}=Y(),i=t<=360,r=t<=560,l=i?170:r?200:180,d=r?{top:0,right:20,bottom:50,left:20}:{top:0,right:10,bottom:50,left:10},s=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#ddd"];return n.jsx("div",{style:{height:l,padding:"0px 8px 0px 8px",width:"100%"},children:n.jsx(xe,{data:e,margin:d,padding:.15,colors:a=>pe[a.index%pe.length],animate:!0,axisBottom:{tickRotation:-45},axisLeft:null,enableGridY:!1,theme:ve,isInteractive:!1,enableLabel:!0,label:a=>a.data.count,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:a=>s[a.index%s.length]})},"bar")}function Ui({beltData:e}){const{width:t}=Y(),i=t<=360,r=t<=395,l=t<=428,d=t<=560,s={top:12,right:40,bottom:20,left:40},a=i?120:r?140:l||d?180:120,o=d?5:4,c=d?10:8,p=d?0:8,u=["#949494","#6b6b6b","#565656","#3e3e3e","#333333","#2a2a2a"];return n.jsx("div",{style:{height:a,padding:"0px 0px 0px 0px",width:"100%",backgroundColor:"#000"},children:n.jsx(Ge,{data:e,theme:Pe,colors:u,margin:s,startAngle:-90,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:o,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:h=>h.label,arcLinkLabelsDiagonalLength:6,arcLinkLabelsStraightLength:p,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:c,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")}function Ji({data:e}){const{brandBelts:t,brandMechanisms:i}=e.brandDistribution,r=t.map(M=>M.brandName),[l,d]=w.useState(2),[s,a]=w.useState(t[l].brandName),o=i.map(M=>M.brandName),[c,p]=w.useState(2),u=t[l].data,h=i[c].data,[b,m]=w.useState(!1),v=w.useCallback(()=>m(!1),[]),g=w.useCallback(()=>m(!0),[]),A=w.useCallback(M=>{d(r.findIndex(B=>B===M.target.value)),p(o.findIndex(B=>B===M.target.value)),a(M.target.value),v(),document.getElementById("brandPulldown").classList.remove("active"),document.getElementById("brandSelect").classList.remove("active")},[r,o,v]),{width:f}=Y(),x=f<=360,S=f<=395,y=f<=428,j=f<=560,T=j?10:20,C={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...j?{}:{display:"flex"}},D=j?"100%":"55%",L=j?"100%":"45%",R=x?200:j?210:180,z=x||S?120:y?170:j?180:160;return n.jsxs(me.Fragment,{children:[n.jsx("div",{style:{marginTop:24,textAlign:"center"},children:n.jsxs(Gn,{id:"brandPulldown",style:{marginBottom:T,minWidth:200,textAlign:"left"},children:[n.jsx(Fn,{children:"Brand"}),n.jsx(zn,{id:"brandSelect",value:s,label:"Brand",open:b,onClose:v,onOpen:g,onChange:A,style:{fontWeight:700,color:"#eee"},children:r.map((M,B)=>M==="Top Brands"&&n.jsx(Oe,{disabled:!0,value:M,children:M},B)||M==="All Brands"&&n.jsx(Oe,{disabled:!0,value:M,children:M},B)||M==="divider"&&n.jsx(sn,{},B)||n.jsx(Oe,{value:M,children:M},B))})]})}),n.jsx("div",{style:{textAlign:"center"},children:n.jsxs("div",{style:C,children:[n.jsx("div",{style:{width:D,verticalAlign:"top",height:R},children:n.jsx(Xi,{beltData:u,brandName:s})}),n.jsx("div",{style:{width:L,height:z},children:n.jsx(Ui,{beltData:h,brandName:s})})]})})]})}function Zi({data:e}){const{lockCollection:t}=w.useContext(on),{width:i}=Y(),r=i<=360,l=i<560,d=l?"8px 8px 32px 8px":"24px 24px 32px 24px",s=l?r?200:230:320,a={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},o={margin:"0px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return n.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:d,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem"},children:[n.jsx("div",{style:o,children:"Site Stats"}),n.jsx(ni,{data:e}),n.jsx("div",{style:a,children:"Weekly Lock Views"}),n.jsx(xn,{data:e.siteSummary}),n.jsx("div",{style:a,children:"Photo Stats"}),n.jsx(ii,{data:e}),n.jsx("div",{style:a,children:"Belt Distribution"}),n.jsx(ri,{data:e}),n.jsx("div",{style:a,children:"Brand Lock Distribution"}),n.jsx(Ji,{data:e}),n.jsx("div",{style:a,children:"Locking Mechanisms"}),n.jsx(Hi,{data:e}),n.jsx("div",{style:a,children:"Reddit User Belt Rankings"}),n.jsx(Gi,{data:e}),n.jsx("div",{style:a,children:"Collection Stats"}),n.jsx(Fi,{data:e,lockCollection:t,userText:"You",collectionBarHeight:s}),n.jsx("div",{style:a,children:"Collections Top Locks"}),n.jsx(zi,{data:e}),n.jsx("div",{style:a,children:"Hourly Traffic"}),n.jsx($i,{data:e}),n.jsx("div",{style:a,children:"Visits by Platform & Browser"}),n.jsx(qi,{data:e})]})}function pa(){const{data:e,loading:t,error:i}=hn({urls:Ki});return gn("Stats & Insights"),n.jsxs(me.Fragment,{children:[n.jsx(ln,{title:"Stats & Insights"}),!t&&!i&&e&&n.jsx(Zi,{data:e}),t&&n.jsx(un,{}),n.jsx(dn,{}),n.jsx(cn,{feature:"stats"})]})}const Ki={brandDistribution:pn,collectionsSummary:mn,lockSummary:vn,popularAreas:bn,redditGrowth:yn,siteSummary:Ln};export{pa as default};
