import{r as m,j as e,u as y,R as k,N as A,F as N,T}from"./index-e55a35db.js";import{F as w,r as z,f as W,D as S,a as B,b as L}from"./filterFields-00c2c2e4.js";import{u as M}from"./usePageTitle-caf6b46e.js";import{N as D}from"./ViewFilterButtons-28a9169d.js";import{L as b}from"./Link-c6426c1f.js";import{a as F,b as x,c as H,d as P,T as E,e as U}from"./TableRow-c361c7e7.js";import{R as I}from"./RaffleSearchBar-a0f00384.js";import{a as G}from"./raflCharities-941be44c.js";import{R as K}from"./RaffleHeader-80db07f5.js";import{a as O}from"./RaffleContext-421c8333.js";import{R as V,A as _}from"./AdminRoleButton-2b2c2785.js";import{R as q}from"./RaffleComingSoon-8f2311fd.js";import"./useDocumentTitle-932ea92a.js";import"./LockListContext-8a319ed0.js";import"./entryName-aa037302.js";import"./Badge-14e6e254.js";import"./Chip-4f51e6f3.js";import"./Select-ea86930d.js";import"./SearchBox-e18e9b18.js";import"./Box-ea53b0bc.js";import"./Search-8ef19cdd.js";import"./TextField-0ac3a789.js";import"./ToggleButtonGroup-fb06dcbb.js";import"./Collapse-f0ef2a10.js";import"./useData-a61ddea8.js";import"./dataUrls-02b67476.js";import"./Dialog-965e6c53.js";function J({children:t,allEntries:r}){const{filters:f}=m.useContext(w),{search:n,id:d,tab:c,name:u,sort:s,image:p,...h}=f,g=m.useMemo(()=>r.map(l=>({...l,fuzzy:z([l.name].join(","))})),[r]),C=m.useMemo(()=>{const l=Object.keys(h).map(o=>{const i=h[o];return Array.isArray(i)?i.map(j=>({key:o,value:j})):{key:o,value:i}}).flat(),R=g.filter(o=>l.every(({key:i,value:j})=>Array.isArray(o[i])?o[i].includes(j):o[i]===j)).sort((o,i)=>o.fuzzy.localeCompare(i.fuzzy)),v=n?W.go(z(n),R,{keys:Q,threshold:-25e3}).map(o=>({...o.obj,score:o.score})):R;return s?v.sort((o,i)=>s==="potName"?o.title.localeCompare(i.title):s==="contributedBy"?o.contributedBy[0].localeCompare(i.contributedBy[0]):o.potNumber<i.potNumber):v},[h,g,n,s]),a=m.useMemo(()=>({allEntries:r,visibleEntries:C}),[r,C]);return e.jsx(S.Provider,{value:a,children:t})}const Q=["fuzzy"];function X({charity:t}){const{isMobile:r}=y(),f=m.useCallback(u=>{const s=window.open(u,"_blank","noopener,noreferrer");s&&(s.opener=null)},[]),n=t.url?e.jsx(b,{onClick:()=>f(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),d=r?"0.95rem":"1.0rem",c=r?{fontSize:d,border:0,padding:"6px 10px"}:{fontSize:d,border:0,padding:"10px 16px"};return e.jsxs(F,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(x,{align:"left",style:c,children:n}),e.jsx(x,{align:"center",style:c,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(x,{align:"center",style:c,children:t.donations2025>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2025)})]})}function Y(){const{visibleEntries:t}=m.useContext(S),{isMobile:r}=y(),f=m.useRef(),[n,d]=m.useState("name"),c=m.useCallback(a=>{a!==n&&d(a)},[d,n]),u=t.sort((a,l)=>{switch(n){case"2024":return l.donations2024-a.donations2024;case"2025":return l.donations2025-a.donations2025;case"name":return a.name.localeCompare(l.name);default:return a.name.localeCompare(l.name)}}),s={maxWidth:700,marginLeft:"auto",marginRight:"auto"},p=r?"0.9rem":"1.0rem",h=r?"10px 10px":"16px 16px",g=r?"2024":"2024 Contributions",C=r?"2025":"2025 Currently";return e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(I,{label:"Approved Charities",sortValues:null}),t.length===0&&e.jsx(D,{label:"Charities"}),t.length>0&&e.jsx(H,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:f,children:e.jsxs(P,{stickyHeader:!0,style:s,children:[e.jsx(E,{children:e.jsxs(F,{children:[e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:h},children:e.jsx(b,{onClick:()=>c("name"),style:{color:n==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(b,{onClick:()=>c("2024"),style:{color:n==="2024"?"#fff":"#ccc"},children:g})},"2024"),e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(b,{onClick:()=>c("2025"),style:{color:n==="2025"?"#fff":"#ccc"},children:C})},"2025")]})}),e.jsx(U,{children:u.map((a,l)=>e.jsx(X,{charity:a},l))})]})})]})}function Se(){const{isMobile:t}=y(),{charityStats:r}=m.useContext(O);M("RAFL Charities");const f=G.map(u=>{const s=r==null?void 0:r.find(p=>p.name===u.name);return{...u,donations2025:s?s==null?void 0:s.donations2025:"--"}}),n=t?8:0,d={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:n,paddingRight:n},c=e.jsxs(k.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(V,{}),e.jsx(_,{})]});return e.jsx(B,{filterFields:L,children:e.jsx(J,{allEntries:f,children:e.jsxs("div",{style:d,children:[e.jsx(A,{title:"RAFL Charities",extras:c}),e.jsx(K,{page:"charities"}),e.jsx(Y,{}),e.jsx(N,{}),e.jsx(T,{feature:"raflCharities"}),e.jsx(q,{})]})})})}export{Se as default};
