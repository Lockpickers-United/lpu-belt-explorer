import{am as Lt,an as wt,r as i,ao as Mt,ap as St,o as ie,j as t,_ as E,q as re,ah as At,af as Ke,R as Q,ak as Me,m as le,l as ge,s as ce,n as be,p as we,t as Ce,a4 as xe,D as _t,aq as $t,ac as Ft,ar as Ve,y as Pt,h as ke,i as ye,G as Be,as as zt,z as pe,b as oe,S as se,a0 as Qe,Q as Bt,T as de,I as ue,B as Se,at as Ot,C as Oe,a3 as Ze,c as Je,au as Rt,w as Et,k as Nt,L as Tt,a6 as Ut,e as et,a2 as Ht,a as Dt,W as Wt,g as tt,av as Vt,aw as Gt,ax as qt,ad as Xt,x as Yt,ay as Kt,v as Ge}from"./index-e16adaf9.js";import{F as ne,f as Ae,g as at,h as Qt,A as Zt,a as Jt,i as ee,j as qe,b as ea,L as ta,c as aa}from"./LockImageGallery-d8d484ce.js";import{u as Re}from"./useWindowSize-c2cebfea.js";import{u as st,c as rt,F as nt,S as ot,I as sa}from"./InputLabel-f7fbe339.js";import{S as ra}from"./SwitchBase-ed88321b.js";import{d as na}from"./Link-27f180f6.js";import{M as oa}from"./index-6008e77d.js";import{r as ia}from"./index-dea680da.js";import{C as it}from"./Chip-19486bcd.js";import{d as Le}from"./dayjs.min-14167635.js";import{B as la}from"./Badge-c26574a7.js";const ca=["className","component"];function da(e={}){const{themeId:a,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,x=Lt("div",{shouldForwardProp:p=>p!=="theme"&&p!=="sx"&&p!=="as"})(wt);return i.forwardRef(function(h,I){const M=Mt(r),B=St(h),{className:L,component:P="div"}=B,F=ie(B,ca);return t.jsx(x,E({as:P,ref:I,className:re(L,o?o(n):n),theme:a&&M[a]||M},F))})}var lt={exports:{}};(function(e){((a,r)=>{e.exports?e.exports=r():a.fuzzysort=r()})(At,a=>{var r=(c,s)=>{if(c=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!c||!s)return _;var d=M(c);H(s)||(s=I(s));var u=d.bitflags;return(u&s._bitflags)!==u?_:L(d,s)},n=(c,s,d)=>{if(c=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:s?s[0]:_}];if(!c)return d&&d.all?B(c,s,d):K;var u=M(c),f=u.bitflags;u.containsSpace;var m=d&&d.threshold||X,v=d&&d.limit||G,l=0,w=0,j=s.length;if(d&&d.key)for(var $=d.key,R=0;R<j;++R){var D=s[R],O=V(D,$);if(O&&(H(O)||(O=I(O)),(f&O._bitflags)===f)){var W=L(u,O);W!==_&&(W.score<m||(W={target:W.target,_targetLower:"",_targetLowerCodes:_,_nextBeginningIndexes:_,_bitflags:0,score:W.score,_indexes:W._indexes,obj:D},l<v?(q.add(W),++l):(++w,W.score>q.peek().score&&q.replaceTop(W))))}}else if(d&&d.keys)for(var te=d.scoreFn||U,ve=d.keys,Ie=ve.length,R=0;R<j;++R){for(var D=s[R],Y=new Array(Ie),Z=0;Z<Ie;++Z){var $=ve[Z],O=V(D,$);if(!O){Y[Z]=_;continue}H(O)||(O=I(O)),(f&O._bitflags)!==f?Y[Z]=_:Y[Z]=L(u,O)}Y.obj=D;var N=te(Y);N!==_&&(N<m||(Y.score=N,l<v?(q.add(Y),++l):(++w,N>q.peek().score&&q.replaceTop(Y))))}else for(var R=0;R<j;++R){var O=s[R];if(O&&(H(O)||(O=I(O)),(f&O._bitflags)===f)){var W=L(u,O);W!==_&&(W.score<m||(l<v?(q.add(W),++l):(++w,W.score>q.peek().score&&q.replaceTop(W))))}}if(l===0)return K;for(var fe=new Array(l),R=l-1;R>=0;--R)fe[R]=q.poll();return fe.total=l+w,fe},o=(c,s,d)=>{if(typeof s=="function")return x(c,s);if(c===_)return _;s===void 0&&(s="<b>"),d===void 0&&(d="</b>");var u="",f=0,m=!1,v=c.target,l=v.length,w=c._indexes;w=w.slice(0,w.len).sort((R,D)=>R-D);for(var j=0;j<l;++j){var $=v[j];if(w[f]===j){if(++f,m||(m=!0,u+=s),f===w.length){u+=$+d+v.substr(j+1);break}}else m&&(m=!1,u+=d);u+=$}return u},x=(j,s)=>{if(j===_)return _;var d=j.target,u=d.length,f=j._indexes;f=f.slice(0,f.len).sort((D,O)=>D-O);for(var m="",v=0,l=0,w=!1,j=[],$=0;$<u;++$){var R=d[$];if(f[l]===$){if(++l,w||(w=!0,j.push(m),m=""),l===f.length){m+=R,j.push(s(m,v++)),m="",j.push(d.substr($+1));break}}else w&&(w=!1,j.push(s(m,v++)),m="");m+=R}return j},b=c=>c._indexes.slice(0,c._indexes.len).sort((s,d)=>s-d),p=c=>{typeof c!="string"&&(c="");var s=F(c);return{target:c,_targetLower:s._lower,_targetLowerCodes:s.lowerCodes,_nextBeginningIndexes:_,_bitflags:s.bitflags,score:_,_indexes:[0],obj:_}},h=c=>{typeof c!="string"&&(c=""),c=c.trim();var s=F(c),d=[];if(s.containsSpace){var u=c.split(/\s+/);u=[...new Set(u)];for(var f=0;f<u.length;f++)if(u[f]!==""){var m=F(u[f]);d.push({lowerCodes:m.lowerCodes,_lower:u[f].toLowerCase(),containsSpace:!1})}}return{lowerCodes:s.lowerCodes,bitflags:s.bitflags,containsSpace:s.containsSpace,_lower:s._lower,spaceSearches:d}},I=c=>{if(c.length>999)return p(c);var s=z.get(c);return s!==void 0||(s=p(c),z.set(c,s)),s},M=c=>{if(c.length>999)return h(c);var s=S.get(c);return s!==void 0||(s=h(c),S.set(c,s)),s},B=(c,s,d)=>{var u=[];u.total=s.length;var f=d&&d.limit||G;if(d&&d.key)for(var m=0;m<s.length;m++){var v=s[m],l=V(v,d.key);if(l){H(l)||(l=I(l)),l.score=X,l._indexes.len=0;var w=l;if(w={target:w.target,_targetLower:"",_targetLowerCodes:_,_nextBeginningIndexes:_,_bitflags:0,score:l.score,_indexes:_,obj:v},u.push(w),u.length>=f)return u}}else if(d&&d.keys)for(var m=0;m<s.length;m++){for(var v=s[m],j=new Array(d.keys.length),$=d.keys.length-1;$>=0;--$){var l=V(v,d.keys[$]);if(!l){j[$]=_;continue}H(l)||(l=I(l)),l.score=X,l._indexes.len=0,j[$]=l}if(j.obj=v,j.score=X,u.push(j),u.length>=f)return u}else for(var m=0;m<s.length;m++){var l=s[m];if(l&&(H(l)||(l=I(l)),l.score=X,l._indexes.len=0,u.push(l),u.length>=f))return u}return u},L=(c,s,d=!1)=>{if(d===!1&&c.containsSpace)return P(c,s);for(var u=c._lower,f=c.lowerCodes,m=f[0],v=s._targetLowerCodes,l=f.length,w=v.length,D=0,j=0,$=0;;){var R=m===v[j];if(R){if(y[$++]=j,++D,D===l)break;m=f[D]}if(++j,j>=w)return _}var D=0,O=!1,W=0,te=s._nextBeginningIndexes;te===_&&(te=s._nextBeginningIndexes=g(s.target)),j=y[0]===0?0:te[y[0]-1];var ve=0;if(j!==w)for(;;)if(j>=w){if(D<=0||(++ve,ve>200))break;--D;var Ie=A[--W];j=te[Ie]}else{var R=f[D]===v[j];if(R){if(A[W++]=j,++D,D===l){O=!0;break}++j}else j=te[j]}var Y=s._targetLower.indexOf(u,y[0]),Z=~Y;if(Z&&!O)for(var N=0;N<$;++N)y[N]=Y+N;var fe=!1;Z&&(fe=s._nextBeginningIndexes[Y-1]===Y);{if(O)var J=A,$e=W;else var J=y,$e=$;for(var ae=0,We=0,N=1;N<l;++N)J[N]-J[N-1]!==1&&(ae-=J[N],++We);var It=J[l-1]-J[0]-(l-1);if(ae-=(12+It)*We,J[0]!==0&&(ae-=J[0]*J[0]*.2),!O)ae*=1e3;else{for(var Fe=1,N=te[0];N<w;N=te[N])++Fe;Fe>24&&(ae*=(Fe-24)*10)}Z&&(ae/=1+l*l*1),fe&&(ae/=1+l*l*1),ae-=w-l,s.score=ae;for(var N=0;N<$e;++N)s._indexes[N]=J[N];return s._indexes.len=$e,s}},P=(c,s)=>{for(var d=new Set,u=0,f=_,m=0,v=c.spaceSearches,$=0;$<v.length;++$){var l=v[$];if(f=L(l,s),f===_)return _;u+=f.score,f._indexes[0]<m&&(u-=m-f._indexes[0]),m=f._indexes[0];for(var w=0;w<f._indexes.len;++w)d.add(f._indexes[w])}var j=L(c,s,!0);if(j!==_&&j.score>u)return j;f.score=u;var $=0;for(let R of d)f._indexes[$++]=R;return f._indexes.len=$,f},F=c=>{for(var s=c.length,d=c.toLowerCase(),u=[],f=0,m=!1,v=0;v<s;++v){var l=u[v]=d.charCodeAt(v);if(l===32){m=!0;continue}var w=l>=97&&l<=122?l-97:l>=48&&l<=57?26:l<=127?30:31;f|=1<<w}return{lowerCodes:u,bitflags:f,containsSpace:m,_lower:d}},k=c=>{for(var s=c.length,d=[],u=0,f=!1,m=!1,v=0;v<s;++v){var l=c.charCodeAt(v),w=l>=65&&l<=90,j=w||l>=97&&l<=122||l>=48&&l<=57,$=w&&!f||!m||!j;f=w,m=j,$&&(d[u++]=v)}return d},g=c=>{for(var s=c.length,d=k(c),u=[],f=d[0],m=0,v=0;v<s;++v)f>v?u[v]=f:(f=d[++m],u[v]=f===void 0?s:f);return u},C=()=>{z.clear(),S.clear(),y=[],A=[]},z=new Map,S=new Map,y=[],A=[],U=c=>{for(var s=X,d=c.length,u=0;u<d;++u){var f=c[u];if(f!==_){var m=f.score;m>s&&(s=m)}}return s===X?_:s},V=(c,s)=>{var d=c[s];if(d!==void 0)return d;var u=s;Array.isArray(s)||(u=s.split("."));for(var f=u.length,m=-1;c&&++m<f;)c=c[u[m]];return c},H=c=>typeof c=="object",G=1/0,X=-G,K=[];K.total=0;var _=null,T=c=>{var s=[],d=0,u={},f=m=>{for(var v=0,l=s[v],w=1;w<d;){var j=w+1;v=w,j<d&&s[j].score<s[w].score&&(v=j),s[v-1>>1]=s[v],w=1+(v<<1)}for(var $=v-1>>1;v>0&&l.score<s[$].score;$=(v=$)-1>>1)s[v]=s[$];s[v]=l};return u.add=m=>{var v=d;s[d++]=m;for(var l=v-1>>1;v>0&&m.score<s[l].score;l=(v=l)-1>>1)s[v]=s[l];s[v]=m},u.poll=m=>{if(d!==0){var v=s[0];return s[0]=s[--d],f(),v}},u.peek=m=>{if(d!==0)return s[0]},u.replaceTop=m=>{s[0]=m,f()},u},q=T();return{single:r,go:n,highlight:o,prepare:p,indexes:b,cleanup:C}})})(lt);var ua=lt.exports;const fa=Ke(ua),ct=e=>[...new Set([...(e==null?void 0:e.own)||[],...(e==null?void 0:e.picked)||[],...(e==null?void 0:e.recorded)||[],...(e==null?void 0:e.wishlist)||[]])];var _e={exports:{}},dt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},ut=Object.keys(dt).join("|"),ma=new RegExp(ut,"g"),pa=new RegExp(ut,"");function va(e){return dt[e]}var ft=function(e){return e.replace(ma,va)},xa=function(e){return!!e.match(pa)};_e.exports=ft;_e.exports.has=xa;_e.exports.remove=ft;var ha=_e.exports;const Xe=Ke(ha),je=Q.createContext({});function er({children:e,allEntries:a,profile:r}){const{filters:n}=i.useContext(ne),{search:o,id:x,tab:b,name:p,sort:h,image:I,...M}=n,B=i.useMemo(()=>ct(r),[r]),L=i.useMemo(()=>a.map(C=>{var z,S,y,A,U,V,H,G,X,K,_;return{...C,makes:C.makeModels.map(({make:T})=>T),fuzzy:Xe(C.makeModels.map(({make:T,model:q})=>[T,q]).flat().filter(T=>T).concat([C.version,C.notes,C.belt]).join(",")),content:[(z=C.media)!=null&&z.some(T=>!T.fullUrl.match(/youtube\.com/))?"Has Images":"No Images",(S=C.media)!=null&&S.some(T=>T.fullUrl.match(/youtube\.com/))?"Has Video":"No Video",((y=C.links)==null?void 0:y.length)>0?"Has Links":"No Links",Ae[C.belt].danPoints>0?"Worth Dan Points":void 0,Le(C.lastUpdated).isAfter(Le().subtract(1,"days"))?"Updated Recently":void 0,C.belt.startsWith("Black")?"Is Black":void 0,C.belt!=="Unranked"?"Is Ranked":void 0].flat().filter(T=>T),collection:[B.includes(C.id)?"Any":"Not in any Collection",(U=(A=r==null?void 0:r.own)==null?void 0:A.includes)!=null&&U.call(A,C.id)?"Own":"Don't Own",(H=(V=r==null?void 0:r.picked)==null?void 0:V.includes)!=null&&H.call(V,C.id)?"Picked":"Not Picked",(X=(G=r==null?void 0:r.wishlist)==null?void 0:G.includes)!=null&&X.call(G,C.id)?"Wishlist":"Not on Wishlist",(_=(K=r==null?void 0:r.recorded)==null?void 0:K.includes)!=null&&_.call(K,C.id)?"Recorded":"Not Recorded"],simpleBelt:C.belt.replace(/\s\d/g,"")}}),[a,B,r]),P=i.useMemo(()=>{const C=Object.keys(M).map(y=>{const A=M[y];return Array.isArray(A)?A.map(U=>({key:y,value:U})):{key:y,value:A}}).flat(),z=L.filter(y=>C.every(({key:A,value:U})=>Array.isArray(y[A])?y[A].includes(U):y[A]===U)),S=o?fa.go(Xe(o),z,{keys:ga}).map(y=>({...y.obj,score:y.score})):z;return h?S.sort((y,A)=>{if(h==="popularity")return A.views-y.views;if(h==="recentlyUpdated"){const U=Le(y.lastUpdated),V=Le(A.lastUpdated);if(U.isAfter(V))return-1;if(V.isAfter(U))return 1}else{if(h==="beltAscending")return at(y.belt,A.belt);if(h==="beltDescending")return Qt(y.belt,A.belt);if(h==="alphaAscending")return y.fuzzy.localeCompare(A.fuzzy);if(h==="alphaDescending")return A.fuzzy.localeCompare(y.fuzzy)}}):S},[M,L,o,h]),F=i.useCallback(C=>a.find(z=>z.id===C),[a]),k=i.useCallback(C=>{const z=F(C);if(z){const{makeModels:S}=z,{make:y,model:A}=S[0];return(y&&y!==A?`${y} ${A}`:A).replace(/[\s/]/g,"_").replace(/\W/g,"")}},[F]),g=i.useMemo(()=>({allEntries:a,visibleEntries:P,getEntryFromId:F,getNameFromId:k}),[a,k,F,P]);return t.jsx(je.Provider,{value:g,children:e})}const ga=["fuzzy"],Ee=Q.createContext({});function tr({children:e}){const{userId:a}=Me(),{getEntryFromId:r,getNameFromId:n}=i.useContext(je),{filters:o,addFilters:x,removeFilters:b}=i.useContext(ne),p=o.id,h=i.useCallback((g,C)=>{const z=r(g),S=n(g);if(g&&g!=="beltreqs"){const y=o.tab==="search"&&!C?"search":z.belt.replace(/\s\d/g,"");x([{key:"id",value:g},{key:"name",value:S},{key:"tab",value:a?void 0:y}],!0)}else g==="beltreqs"?x([{key:"id",value:g},{key:"name",value:void 0}],!0):b(["id","name"])},[x,o.tab,r,n,b,a]),I=i.useCallback(()=>{b(["id","name"])},[b]),M=i.useCallback(g=>{x([{key:"tab",value:g},{key:"id",value:p==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>L(!1),0)},[x,p]),[B,L]=i.useState(!1),[P,F]=i.useState(!1),k=i.useMemo(()=>({compact:P,tab:o.tab,setTab:M,expanded:p,setExpanded:h,clearExpanded:I,displayAll:B&&o.tab==="search",setDisplayAll:L,setCompact:F}),[P,B,p,o.tab,I,h,M]);return t.jsx(Ee.Provider,{value:k,children:e})}function ba(e){return ge("MuiListItem",e)}const Ca=le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),me=Ca,ka=le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),ya=ka;function ja(e){return ge("MuiListItemSecondaryAction",e)}le("MuiListItemSecondaryAction",["root","disableGutters"]);const Ia=["className"],La=e=>{const{disableGutters:a,classes:r}=e;return Ce({root:["root",a&&"disableGutters"]},ja,r)},wa=ce("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,r.disableGutters&&a.disableGutters]}})(({ownerState:e})=>E({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),mt=i.forwardRef(function(a,r){const n=be({props:a,name:"MuiListItemSecondaryAction"}),{className:o}=n,x=ie(n,Ia),b=i.useContext(we),p=E({},n,{disableGutters:b.disableGutters}),h=La(p);return t.jsx(wa,E({className:re(h.root,o),ownerState:p,ref:r},x))});mt.muiName="ListItemSecondaryAction";const Ma=mt,Sa=["className"],Aa=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],_a=(e,a)=>{const{ownerState:r}=e;return[a.root,r.dense&&a.dense,r.alignItems==="flex-start"&&a.alignItemsFlexStart,r.divider&&a.divider,!r.disableGutters&&a.gutters,!r.disablePadding&&a.padding,r.button&&a.button,r.hasSecondaryAction&&a.secondaryAction]},$a=e=>{const{alignItems:a,button:r,classes:n,dense:o,disabled:x,disableGutters:b,disablePadding:p,divider:h,hasSecondaryAction:I,selected:M}=e;return Ce({root:["root",o&&"dense",!b&&"gutters",!p&&"padding",h&&"divider",x&&"disabled",r&&"button",a==="flex-start"&&"alignItemsFlexStart",I&&"secondaryAction",M&&"selected"],container:["container"]},ba,n)},Fa=ce("div",{name:"MuiListItem",slot:"Root",overridesResolver:_a})(({theme:e,ownerState:a})=>E({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!a.disablePadding&&E({paddingTop:8,paddingBottom:8},a.dense&&{paddingTop:4,paddingBottom:4},!a.disableGutters&&{paddingLeft:16,paddingRight:16},!!a.secondaryAction&&{paddingRight:48}),!!a.secondaryAction&&{[`& > .${ya.root}`]:{paddingRight:48}},{[`&.${me.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${me.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:xe(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${me.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:xe(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${me.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},a.alignItems==="flex-start"&&{alignItems:"flex-start"},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},a.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${me.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:xe(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:xe(e.palette.primary.main,e.palette.action.selectedOpacity)}}},a.hasSecondaryAction&&{paddingRight:48})),Pa=ce("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,a)=>a.container})({position:"relative"}),za=i.forwardRef(function(a,r){const n=be({props:a,name:"MuiListItem"}),{alignItems:o="center",autoFocus:x=!1,button:b=!1,children:p,className:h,component:I,components:M={},componentsProps:B={},ContainerComponent:L="li",ContainerProps:{className:P}={},dense:F=!1,disabled:k=!1,disableGutters:g=!1,disablePadding:C=!1,divider:z=!1,focusVisibleClassName:S,secondaryAction:y,selected:A=!1,slotProps:U={},slots:V={}}=n,H=ie(n.ContainerProps,Sa),G=ie(n,Aa),X=i.useContext(we),K=i.useMemo(()=>({dense:F||X.dense||!1,alignItems:o,disableGutters:g}),[o,X.dense,F,g]),_=i.useRef(null);_t(()=>{x&&_.current&&_.current.focus()},[x]);const T=i.Children.toArray(p),q=T.length&&$t(T[T.length-1],["ListItemSecondaryAction"]),c=E({},n,{alignItems:o,autoFocus:x,button:b,dense:K.dense,disabled:k,disableGutters:g,disablePadding:C,divider:z,hasSecondaryAction:q,selected:A}),s=$a(c),d=Ft(_,r),u=V.root||M.Root||Fa,f=U.root||B.root||{},m=E({className:re(s.root,f.className,h),disabled:k},G);let v=I||"li";return b&&(m.component=I||"div",m.focusVisibleClassName=re(me.focusVisible,S),v=Pt),q?(v=!m.component&&!I?"div":v,L==="li"&&(v==="li"?v="div":m.component==="li"&&(m.component="div")),t.jsx(we.Provider,{value:K,children:t.jsxs(Pa,E({as:L,className:re(s.container,P),ref:d,ownerState:c},H,{children:[t.jsx(u,E({},f,!Ve(u)&&{as:v,ownerState:E({},c,f.ownerState)},m,{children:T})),T.pop()]}))})):t.jsx(we.Provider,{value:K,children:t.jsxs(u,E({},f,{as:v,ref:d},!Ve(u)&&{ownerState:E({},c,f.ownerState)},m,{children:[T,y&&t.jsx(Ma,{children:y})]}))})}),Ba=za;function Oa({value:e}){const{color:a}=Ae[e]||{},r={width:8,height:"100%",position:"absolute",left:0,top:0,backgroundColor:a},n=i.useMemo(()=>{const[o]=e.match(/\d/)||[0],x=+o;if(x>1)return Array(x).fill(0).map((b,p)=>t.jsx("span",{style:{width:8,height:2,position:"absolute",left:0,top:18+p*6,backgroundColor:"#acacac"}},p))},[e]);return e==="Unranked"?null:t.jsxs(Q.Fragment,{children:[t.jsx("span",{style:r}),n]})}const pt=Q.memo(Oa);var Ne={},Ra=ye;Object.defineProperty(Ne,"__esModule",{value:!0});var ze=Ne.default=void 0,Ea=Ra(ke()),Na=t;ze=Ne.default=(0,Ea.default)((0,Na.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks");const Ta=Be(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Ua=Be(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ha=Be(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Da(e){return ge("MuiCheckbox",e)}const Wa=le("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Pe=Wa,Va=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ga=e=>{const{classes:a,indeterminate:r,color:n,size:o}=e,x={root:["root",r&&"indeterminate",`color${pe(n)}`,`size${pe(o)}`]},b=Ce(x,Da,a);return E({},a,b)},qa=ce(ra,{shouldForwardProp:e=>zt(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,r.indeterminate&&a.indeterminate,a[`size${pe(r.size)}`],r.color!=="default"&&a[`color${pe(r.color)}`]]}})(({theme:e,ownerState:a})=>E({color:(e.vars||e).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${a.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:xe(a.color==="default"?e.palette.action.active:e.palette[a.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},a.color!=="default"&&{[`&.${Pe.checked}, &.${Pe.indeterminate}`]:{color:(e.vars||e).palette[a.color].main},[`&.${Pe.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Xa=t.jsx(Ua,{}),Ya=t.jsx(Ta,{}),Ka=t.jsx(Ha,{}),Qa=i.forwardRef(function(a,r){var n,o;const x=be({props:a,name:"MuiCheckbox"}),{checkedIcon:b=Xa,color:p="primary",icon:h=Ya,indeterminate:I=!1,indeterminateIcon:M=Ka,inputProps:B,size:L="medium",className:P}=x,F=ie(x,Va),k=I?M:h,g=I?M:b,C=E({},x,{color:p,indeterminate:I,size:L}),z=Ga(C);return t.jsx(qa,E({type:"checkbox",inputProps:E({"data-indeterminate":I},B),icon:i.cloneElement(k,{fontSize:(n=k.props.fontSize)!=null?n:L}),checkedIcon:i.cloneElement(g,{fontSize:(o=g.props.fontSize)!=null?o:L}),ownerState:C,ref:r,className:re(z.root,P)},F,{classes:z}))}),Za=Qa;function Ja(e){return ge("MuiFormGroup",e)}le("MuiFormGroup",["root","row","error"]);const es=["className","row"],ts=e=>{const{classes:a,row:r,error:n}=e;return Ce({root:["root",r&&"row",n&&"error"]},Ja,a)},as=ce("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,r.row&&a.row]}})(({ownerState:e})=>E({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),ss=i.forwardRef(function(a,r){const n=be({props:a,name:"MuiFormGroup"}),{className:o,row:x=!1}=n,b=ie(n,es),p=st(),h=rt({props:n,muiFormControl:p,states:["error"]}),I=E({},n,{row:x,error:h.error}),M=ts(I);return t.jsx(as,E({className:re(M.root,o),ownerState:I,ref:r},b))}),rs=ss;function ns(e){return ge("MuiFormControlLabel",e)}const os=le("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),he=os,is=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ls=e=>{const{classes:a,disabled:r,labelPlacement:n,error:o,required:x}=e,b={root:["root",r&&"disabled",`labelPlacement${pe(n)}`,o&&"error",x&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",o&&"error"]};return Ce(b,ns,a)},cs=ce("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[{[`& .${he.label}`]:a.label},a.root,a[`labelPlacement${pe(r.labelPlacement)}`]]}})(({theme:e,ownerState:a})=>E({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${he.disabled}`]:{cursor:"default"}},a.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},a.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},a.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${he.label}`]:{[`&.${he.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ds=ce("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,a)=>a.asterisk})(({theme:e})=>({[`&.${he.error}`]:{color:(e.vars||e).palette.error.main}})),us=i.forwardRef(function(a,r){var n,o;const x=be({props:a,name:"MuiFormControlLabel"}),{className:b,componentsProps:p={},control:h,disabled:I,disableTypography:M,label:B,labelPlacement:L="end",required:P,slotProps:F={}}=x,k=ie(x,is),g=st(),C=(n=I??h.props.disabled)!=null?n:g==null?void 0:g.disabled,z=P??h.props.required,S={disabled:C,required:z};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof h.props[G]>"u"&&typeof x[G]<"u"&&(S[G]=x[G])});const y=rt({props:x,muiFormControl:g,states:["error"]}),A=E({},x,{disabled:C,labelPlacement:L,required:z,error:y.error}),U=ls(A),V=(o=F.typography)!=null?o:p.typography;let H=B;return H!=null&&H.type!==oe&&!M&&(H=t.jsx(oe,E({component:"span"},V,{className:re(U.label,V==null?void 0:V.className),children:H}))),t.jsxs(cs,E({className:re(U.root,b),ownerState:A,ref:r},k,{children:[i.cloneElement(h,S),z?t.jsxs(se,{display:"block",children:[H,t.jsxs(ds,{ownerState:A,"aria-hidden":!0,className:U.asterisk,children:[" ","*"]})]}):H]}))}),fs=us,ms=[{key:"own",label:"Own"},{key:"picked",label:"Picked"},{key:"recorded",label:"Recorded"},{key:"wishlist",label:"Wishlist"}],ps=["Own","Picked","Recorded","Wishlist"];function vt({id:e,dense:a}){const{isLoggedIn:r}=i.useContext(Qe),{lockCollection:n,addToLockCollection:o,removeFromLockCollection:x}=i.useContext(Bt),[b,p]=i.useState(null),h=!!b,I=i.useCallback(k=>p(k.currentTarget),[]),M=i.useCallback(()=>p(null),[]),{isMobile:B}=Re(),L=i.useMemo(()=>Object.keys(n).filter(k=>!vs.includes(k)).reduce((k,g)=>k||n[g].includes(e),!1),[e,n]),P=i.useCallback(k=>!!n[k]&&!!n[k].includes(e),[e,n]),F=i.useCallback(k=>(g,C)=>{g.preventDefault(),C?o(k,e):x(k,e)},[e,o,x]);return t.jsxs(Q.Fragment,{children:[t.jsx(de,{title:"My Collection",arrow:!0,disableFocusListener:!0,children:a?t.jsx(ue,{variant:"outlined",color:"inherit",onClick:I,children:t.jsx(ze,{color:L?"secondary":"inherit",fontSize:"small"})}):t.jsx(Se,{variant:"outlined",color:"inherit",onClick:I,startIcon:t.jsx(ze,{color:L?"secondary":"inherit",fontSize:B?"small":"medium"}),children:"My Collection"})}),t.jsx(Ot,{open:h,anchorEl:b,onClose:M,anchorOrigin:{vertical:"top",horizontal:"left"},children:t.jsxs(Oe,{children:[t.jsx(Ze,{title:"My Collection",style:{color:r?null:"rgba(255, 255, 255, 0.5)"},onClick:M}),t.jsx(Je,{style:{paddingTop:0},children:t.jsx(rs,{children:ms.map(({key:k,label:g})=>t.jsx(fs,{control:t.jsx(Za,{disabled:!r,color:"secondary",checked:P(k),onChange:F(k)}),label:g},k))})}),t.jsx("div",{style:{marginTop:-8,marginBottom:16},children:t.jsx(Rt,{onClick:M})})]})})]})}const vs=["public","displayName"];function xs(e,a="short",r=!1){const n=r&&e.version?" ("+e.version+")":"";if(a==="long")return e.makeModels.map(x=>x.make+" "+x.model).join(" / ")+n;if(a==="data"){const o=e.makeModels.map(b=>b.make).join(","),x=e.makeModels.map(b=>b.model).join(",");return`${o}	${x}`+n}else{if(a==="array")return[e.makeModels.map(o=>o.make).join(","),e.makeModels.map(o=>o.model).join(",")];{let o="",x="";return e.makeModels.forEach(b=>{let p=b.make,h=b.model;p||(p=h,h=""),x===""?o=`${p} ${h}`:p===x?o+=`, ${h}`:o+=` / ${p} ${h}`,x=p}),o+n}}}function ar({entries:e}){return t.jsxs(Oe,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[t.jsx(Et,{dense:!0,style:{padding:0},children:e.map(a=>t.jsxs(Ba,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[t.jsx(pt,{value:a.belt}),t.jsx(Nt,{primary:xs(a),primaryTypographyProps:{fontWeight:500},secondary:a.version,style:{padding:"0px 0px 0px 10px"}}),t.jsx(Tt,{style:{minWidth:20,marginLeft:16},children:t.jsx(vt,{id:a.id,dense:!0})})]},a.id))}),t.jsx(Ut,{})]})}function hs({belt:e}){const{danPoints:a}=Ae[e],r=a===1?"Point":a>=10?"Pts":"Points",n=` (${a} Dan ${r})`,o={textDecoration:"none",color:"#fff"};return a===0||e==="Unranked"?null:t.jsx("a",{style:o,href:"/#/dans",children:n})}function xt({value:e,style:a}){const{color:r,lineColor:n="#010101"}=Ae[e];return e==="Unranked"?null:t.jsx("div",{style:{display:"inline-block",minWidth:32,height:32,...a},children:t.jsxs("svg",{x:"0",y:"0",viewBox:"0 -2 32 32",children:[t.jsx("path",{d:"M10.91 25.6c-.23 0-.46-.06-.65-.18l-4.47-2.73c-.6-.37-.79-1.15-.43-1.74l7.02-11.51c.23-.37.64-.6 1.08-.6.23 0 .46.06.65.18l4.48 2.73c.29.18.49.45.57.78s.03.67-.15.95l-7.02 11.51c-.23.38-.64.61-1.08.61z",fill:r}),t.jsx("path",{d:"M13.46 9.4c.12 0 .25.03.36.1l4.47 2.73c.33.2.43.63.23.96L11.5 24.7a.704.704 0 0 1-.96.23L6.07 22.2a.698.698 0 0 1-.23-.96l7.02-11.51a.73.73 0 0 1 .6-.33m0-1.13c-.63 0-1.23.33-1.56.87L4.88 20.65c-.25.42-.33.91-.22 1.38.11.47.41.88.82 1.13l4.47 2.73c.29.17.61.27.95.27.63 0 1.23-.33 1.56-.87l7.02-11.51c.25-.42.33-.91.22-1.38-.11-.47-.41-.88-.82-1.13l-4.47-2.73a1.75 1.75 0 0 0-.95-.27z",fill:n}),t.jsx("path",{d:"M17.57 22.37c-.48 0-.91-.26-1.12-.69L10.33 9.66c-.15-.3-.18-.64-.07-.96.1-.32.33-.58.63-.73l4.86-2.47a1.257 1.257 0 0 1 1.7.55l6.12 12.02c.31.62.07 1.38-.55 1.7l-4.86 2.47c-.19.08-.39.13-.59.13z",fill:r}),t.jsx("path",{d:"M16.31 5.92c.25 0 .5.14.62.38l6.12 12.02c.17.34.04.76-.3.94l-4.86 2.47c-.1.05-.21.08-.31.08-.25 0-.5-.14-.62-.38L10.84 9.41a.707.707 0 0 1 .3-.94L16 6c.1-.05.21-.08.31-.08m0-1.13c-.29 0-.57.07-.83.2l-4.86 2.47c-.43.22-.76.6-.91 1.06-.14.47-.1.96.12 1.4l6.12 12.02c.31.62.94 1 1.63 1 .29 0 .57-.07.83-.2l4.86-2.47a1.815 1.815 0 0 0 .8-2.45L17.94 5.79c-.31-.62-.94-1-1.63-1z",fill:n}),t.jsx("path",{d:"M2.57 13.38c-.7 0-1.26-.57-1.26-1.26V6.64c0-.69.57-1.26 1.26-1.26h26.92c.7 0 1.26.57 1.26 1.26v5.48c0 .69-.57 1.26-1.26 1.26H2.57z",fill:r}),t.jsx("path",{d:"M29.49 5.95c.38 0 .7.31.7.7v5.47c0 .38-.31.7-.7.7H2.57c-.38 0-.7-.31-.7-.7V6.64c0-.38.31-.7.7-.7h26.92m0-1.12H2.57c-1.01 0-1.83.82-1.83 1.83v5.47c0 1.01.82 1.83 1.83 1.83h26.92c1.01 0 1.83-.82 1.83-1.83V6.64c-.01-1-.83-1.82-1.83-1.82z",fill:n}),t.jsx("path",{d:"M10.35 14.36c-.69 0-1.26-.57-1.26-1.26V5.43c0-.7.57-1.26 1.26-1.26H21.6c.7 0 1.26.57 1.26 1.26v7.67c0 .7-.57 1.26-1.26 1.26H10.35z",fill:r}),t.jsx("path",{d:"M21.59 4.73c.38 0 .7.31.7.7v7.67c0 .38-.31.7-.7.7H10.35c-.38 0-.7-.31-.7-.7V5.43c0-.38.31-.7.7-.7h11.24m0-1.13H10.35c-1.01 0-1.83.82-1.83 1.83v7.67c0 1.01.82 1.83 1.83 1.83H21.6c1.01 0 1.83-.82 1.83-1.83V5.43a1.846 1.846 0 0 0-1.84-1.83z",fill:n})]})})}function gs({entry:e}){const{getNameFromId:a}=i.useContext(je),r=i.useCallback(async()=>{const n=a(e.id),o=`https://share.lpubelts.com/?id=${e.id}&name=${n}`;await navigator.clipboard.writeText(o),et("Link to entry copied to clipboard.")},[e,a]);return t.jsx(de,{title:"Copy Link to Entry",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:r,children:t.jsx(na,{})})})}var Te={},bs=ye;Object.defineProperty(Te,"__esModule",{value:!0});var ht=Te.default=void 0,Cs=bs(ke()),ks=t;ht=Te.default=(0,Cs.default)((0,ks.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function ys({entry:e}){const a=i.useCallback(async()=>{const r=e.makeModels.map(({make:n,model:o})=>n&&n!==o?`${n} ${o}`:o).join(`
`);await navigator.clipboard.writeText(r),et("Make/Model text copied to clipboard.")},[e.makeModels]);return t.jsx(de,{title:"Copy Make/Model Text",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:a,children:t.jsx(ht,{})})})}function js({id:e}){const{setExpanded:a}=i.useContext(Ee),{getEntryFromId:r,getNameFromId:n,visibleEntries:o}=i.useContext(je),{setFilters:x}=i.useContext(ne),b=i.useMemo(()=>r(e),[r,e]),p=i.useCallback(async()=>{if(o.some(h=>h.id===e))a(e);else{const h=n(e);x({id:e,name:h,tab:b.belt.replace(/\s\d/g,"")}),a(e)}},[o,e,n,x,b.belt,a]);return t.jsx(de,{title:b.version,arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:p,children:t.jsx(xt,{value:b.belt})})})}function Is({entry:e,expanded:a,onExpand:r}){var M,B,L,P,F;const{userId:n}=Me(),[o,x]=i.useState(!1),b={maxWidth:700,marginLeft:"auto",marginRight:"auto"},p=i.useRef(null),h=i.useCallback((k,g)=>{r&&r(g?e.id:!1)},[e.id,r]);i.useEffect(()=>{if(a&&p&&!o){const g=window.innerWidth<=600?70:74,{id:C}=Ht.parse(location.search),z=C===e.id;x(!0),setTimeout(()=>{window.scrollTo({left:0,top:p.current.offsetTop-g,behavior:z?"auto":"smooth"})},z?0:100)}else a||x(!1)},[a,e,o]);const I=i.useMemo(()=>{var k;return t.jsx(se,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(k=e.makeModels)==null?void 0:k.map(({make:g,model:C},z)=>t.jsx(oe,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:g&&g!==C?`${g} ${C}`:C},z))})},[e.makeModels]);return t.jsxs(Zt,{expanded:a,onChange:h,style:b,ref:p,children:[t.jsxs(Jt,{expandIcon:t.jsx(Dt,{}),children:[t.jsx(pt,{value:e.belt}),t.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[t.jsx(ee,{value:I,textStyle:e.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!e.version&&t.jsx(ee,{name:"Version",value:t.jsx(oe,{style:{fontSize:"0.95rem",lineHeight:1.25},children:e.version}),textStyle:e.belt==="Unranked"?{color:"#aaa"}:{}})]}),t.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((M=e.lockingMechanisms)==null?void 0:M.length)>0&&t.jsx(ee,{value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(B=e.lockingMechanisms)==null?void 0:B.map((k,g)=>t.jsx(qe,{value:k,field:"lockingMechanisms"},g))})})})]}),a&&t.jsxs(Q.Fragment,{children:[t.jsxs(ea,{sx:{padding:"8px 16px 0px 16px"},children:[t.jsxs(se,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[t.jsx(ee,{style:{width:"50%",marginLeft:"0px"},value:t.jsxs(Q.Fragment,{children:[t.jsxs(oe,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[e.belt,t.jsx(hs,{belt:e.belt})]}),t.jsx(xt,{value:e.belt,style:{marginBottom:-10}})]})}),t.jsx("div",{style:{marginLeft:"auto"},children:t.jsx(vt,{id:e.id})})]}),t.jsx(se,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!e.notes&&t.jsx(ee,{name:"Notes",value:t.jsx(oe,{component:"div",style:{marginTop:-16},children:t.jsx(oa,{rehypePlugins:[[ia,{target:"_blank"}]],children:e.notes})})})}),!!((L=e.features)!=null&&L.length)&&t.jsx(ee,{name:"Features",value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:e.features.map((k,g)=>t.jsx(qe,{value:k,field:"features"},g))})}),!!e.relatedIds&&!n&&t.jsx(ee,{name:"Other Versions",value:t.jsx(Q.Fragment,{children:e.relatedIds.map(k=>t.jsx(js,{id:k},k))})}),!!((P=e.media)!=null&&P.length)&&t.jsx(ee,{value:t.jsx(ta,{entry:e})}),!!((F=e.links)!=null&&F.length)&&t.jsx(ee,{name:"Links",value:t.jsx(se,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:e.links.map(({title:k,url:g},C)=>t.jsx(Se,{href:g,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:k},C))})})]}),t.jsxs(aa,{disableSpacing:!0,children:[t.jsx(Wt,{feature:"lock",id:e.id}),t.jsx(ys,{entry:e}),t.jsx(gs,{entry:e})]})]})]})}const sr=Q.memo(Is),gt=[{label:"Make",fieldName:"makes"},{label:"Locking Mechanism",fieldName:"lockingMechanisms"},{label:"Belt",fieldName:"belt",sort:at},{label:"Features",fieldName:"features"},{label:"Content",fieldName:"content"},{label:"Collection",fieldName:"collection",userBased:!0}],Ls=gt.reduce((e,a)=>({...e,[a.fieldName]:a}),{id:{label:"ID"}});function ws(){const{filters:e,filterCount:a,removeFilter:r}=i.useContext(ne),n=i.useCallback((b,p)=>()=>{r(b,p)},[r]),o=i.useMemo(()=>{const{search:b,id:p,tab:h,name:I,sort:M,image:B,...L}=e;return Object.keys(L).map(P=>{const F=e[P];return Array.isArray(F)?F.map(k=>({key:P,value:k})):{key:P,value:F}}).flat()},[e]);function x(b,p){return b==="Belt"?p==="Unranked"?p:p.includes("Black")?p.replace(/(Black)\s(\d+)/,"$1 Belt $2"):p+" Belt":p}return a===0?null:t.jsx(ee,{name:"Current Filters",style:{marginBottom:0},value:t.jsx(se,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:o.map(({key:b,value:p},h)=>{var I;return t.jsx(it,{label:`${x((I=Ls[b])==null?void 0:I.label,p)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:n(b,p)},h)})})})}var Ue={},Ms=ye;Object.defineProperty(Ue,"__esModule",{value:!0});var bt=Ue.default=void 0,Ss=Ms(ke()),As=t;bt=Ue.default=(0,Ss.default)((0,As.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function Ct({forceText:e}){const{isMobile:a}=Re(),{filterCount:r,clearFilters:n}=i.useContext(ne);return r===0?null:a&&!e?t.jsx(de,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:n,children:t.jsx(bt,{})})}):t.jsx(Se,{variant:"outlined",color:"inherit",onClick:n,style:{minWidth:120},children:"Clear Filters"})}function rr({profile:e}){const{userId:a}=Me(),{filters:r,filterCount:n,setFilters:o}=i.useContext(ne),[x,b]=Q.useState(!1),p=i.useMemo(()=>ct(e),[e]),{collection:h=a&&n===0?"Any":null}=r,{isMobile:I}=Re(),M=I?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0};let B="";h&&(typeof h=="string"?B=h:B=h[0]);const L=i.useCallback(()=>b(!1),[]),P=i.useCallback(()=>b(!0),[]),F=i.useCallback((S,y)=>{o({[S]:y,tab:"search"})},[o]),k=i.useCallback(S=>{F("collection",S.target.value)},[F]);if(!n&&!a)return null;const g=typeof h=="string"&&(Ye.includes(h)||h==="Any")&&n<2,C=e.displayName?e.displayName.toLowerCase().endsWith("s")?`${e.displayName}'`:`${e.displayName}'s`:"Private",z=a?`${C} Collection`:g?"My Collection":"Filters";return t.jsxs(Oe,{style:M,sx:{paddingBottom:0,paddingTop:0},children:[t.jsx(Ze,{title:z,action:t.jsx(Ct,{})}),t.jsxs(Je,{style:{paddingTop:0,paddingLeft:8},children:[g&&t.jsx(nt,{fullWidth:!0,size:"small",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:t.jsx(ot,{open:x,onClose:L,onOpen:P,value:B,onChange:k,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},children:Ye.map((S,y)=>{var A;return t.jsxs(tt,{value:S,children:[S," (",S==="Any"?p.length:((A=e[S.toLowerCase()])==null?void 0:A.length)||0,")"]},y)})})}),!g&&t.jsx(ws,{})]})]})}const Ye=["Any",...ps];var He={},_s=ye;Object.defineProperty(He,"__esModule",{value:!0});var kt=He.default=void 0,$s=_s(ke()),Fs=t;kt=He.default=(0,$s.default)((0,Fs.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");function nr(){const{compact:e,setCompact:a,setExpanded:r}=i.useContext(Ee),n=i.useCallback(()=>{a(!e),r(null)},[e,a,r]);return t.jsx(de,{title:"Toggle Compact View",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{onClick:n,children:t.jsx(kt,{color:e?"secondary":"inherit"})})})}const Ps=le("MuiBox",["root"]),zs=Ps,Bs=Vt(),Os=da({themeId:Gt,defaultTheme:Bs,defaultClassName:zs.root,generateClassName:qt.generate}),yt=Os;var De={},Rs=ye;Object.defineProperty(De,"__esModule",{value:!0});var jt=De.default=void 0,Es=Rs(ke()),Ns=t;jt=De.default=(0,Es.default)((0,Ns.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");function Ts({label:e,fieldName:a,onFilter:r,sort:n}){const{visibleEntries:o}=i.useContext(je),{filters:x}=i.useContext(ne),[b,p]=i.useState(!1),h=i.useCallback(g=>{p(!1),setTimeout(()=>r(a,g.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[a,r]),I=i.useCallback(()=>{p(!1),setTimeout(()=>document.activeElement.blur())},[]),M=i.useCallback(()=>p(!0),[]),{counts:B,options:L}=i.useMemo(()=>{const g=o.map(S=>S[a]).flat().filter(S=>S),C=g.reduce((S,y)=>(S[y]||(S[y]=0),S[y]++,S),{}),z=[...new Set(g)].sort((S,y)=>n?n(S,y):S.localeCompare(y));return{counts:C,options:z}},[a,o,n]),P=i.useDeferredValue(x),F=P[a],k=Array.isArray(F)?P[a]:F?[F]:[];return t.jsxs(nt,{style:{minWidth:120,maxWidth:300,marginTop:4},fullWidth:!0,children:[t.jsx(sa,{id:`filter-${a}`,children:e}),t.jsx(ot,{multiple:!0,label:e,labelId:`filter-${a}`,value:k,onChange:h,style:{marginBottom:8},open:b,onClose:I,onOpen:M,onBlur:I,MenuProps:{PaperProps:{style:{maxHeight:Us*8+Hs}}},renderValue:g=>t.jsx(yt,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:g.map(C=>t.jsx(it,{label:C},C))}),children:L.map((g,C)=>t.jsx(tt,{value:g,children:`${g} (${B[g]||0})`},C))})]})}const Us=48,Hs=8;function or({data:e}){const{userId:a}=Me(),{isLoggedIn:r}=i.useContext(Qe),{beta:n}=i.useContext(Xt),[o,x]=i.useState(!1),b=i.useCallback(()=>x(!o),[o]);Yt("f",b);const p=i.useCallback(()=>x(!0),[]),h=i.useCallback(()=>x(!1),[]),{filterCount:I,addFilters:M}=i.useContext(ne),B=i.useCallback((L,P)=>{M([{key:"tab",value:a?void 0:"search"},{key:L,value:P}],!0)},[M,a]);return t.jsxs(Q.Fragment,{children:[t.jsx(de,{title:"Filter",arrow:!0,disableFocusListener:!0,children:t.jsx(ue,{color:"inherit",onClick:p,children:t.jsx(la,{badgeContent:I,color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(jt,{})})})}),t.jsxs(Kt,{anchor:"right",open:o,onClose:h,children:[t.jsx(Ge,{variant:"dense",onClick:h,children:t.jsx(oe,{variant:"h6",children:"Filters"})}),t.jsx(yt,{margin:1,children:t.jsx(se,{direction:"column",style:{minWidth:250},children:gt.filter(L=>(!L.beta||n)&&(!L.userBased||r)).map((L,P)=>t.jsx(Ts,{data:e,...L,onFilter:B},P))})}),t.jsxs(Ge,{variant:"dense",children:[t.jsx(Ct,{forceText:!0,style:{marginRight:8}}),t.jsx(Se,{variant:"outlined",color:"inherit",onClick:h,children:"Done"})]})]})]})}export{pt as B,ar as C,je as D,sr as E,or as F,rr as I,Ee as L,nr as T,Ba as a,xt as b,er as c,ht as d,xs as e,tr as f,yt as g,ms as h};
