import{u as j,j as i,$ as k,ap as L}from"./index-3faf62ea.js";import{B as W}from"./nivo-bar.es-2feae160.js";import{p as R,b as w}from"./chartDefaults-ca889cb2.js";import{B as v}from"./BeltIcon-022f73e9.js";import{c as D,d as z,T as P,a as y,b as B,e as O}from"./TableRow-fbf9cdaa.js";const H=({beltDistribution:c})=>{const{width:a}=j(),n=a<500,p=a<700,m=250,s=n?{top:10,right:5,bottom:80,left:48}:{top:10,right:75,bottom:50,left:85},e=1,o=n?-45:0;return i.jsx("div",{style:{height:m},children:i.jsx(W,{data:c,keys:["Discord","Reddit"],indexBy:"belt",groupMode:"grouped",margin:s,background:"#fff",padding:.09,innerPadding:2,borderRadius:e,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:"auto",theme:{...R,background:"#000"},colors:w,colorBy:"indexValue",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#000",size:1,padding:3,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#444",rotation:30,lineWidth:1,spacing:18},{id:"dotsLegend",type:"patternDots",background:"#ccc",color:"#000",size:1,padding:3,stagger:!0},{id:"linesLegend",type:"patternLines",background:"#ccc",color:"#444",rotation:30,lineWidth:1,spacing:10},{id:"plainLegend",type:"patternLines",background:"#ccc",color:"#ccc",rotation:-45,lineWidth:1,spacing:10}],fill:[{match:{id:"Reddit"},id:"lines"}],animate:!0,enableLabel:!1,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},legends:[{dataFrom:"keys",itemTextColor:"#ccc",symbolShape:({x:l,y:u,size:g,borderWidth:b,borderColor:f,id:h})=>{const x=h==="Reddit"?"linesLegend":"plainLegend";return i.jsx("g",{children:i.jsx("rect",{x:l,y:u,width:g,height:g,fill:`url(#${x})`,stroke:f,strokeWidth:b})})},anchor:"top-right",direction:"row",justify:!1,translateX:0,translateY:20,itemsSpacing:2,itemWidth:90,itemHeight:20,itemDirection:"left-to-right",itemOpacity:1,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],axisBottom:{tickRotation:o},isInteractive:!1})})};function V({data:c}){const{discordBeltCounts:a,redditBeltCounts:n}=c,p=Object.keys(a).filter(e=>e.includes("Belt")).reduce((e,o)=>e+a[o],0),m=Object.keys(n).filter(e=>e.includes("Belt")).reduce((e,o)=>e+n[o],0),s=k.reduce((e,o)=>{const l=`${o} Belt`;return e.push({belt:o,Discord:a[l]/p,Reddit:n[l]/m,DiscordColor:"#38bcb2"}),e},[]);return i.jsx(H,{beltDistribution:s})}function Y({data:c}){const{discordBeltCounts:a,redditBeltCounts:n}=c,p=Object.keys(a).filter(t=>t.includes("Belt")).reduce((t,r)=>t+a[r],0),m=Object.keys(n).filter(t=>t.includes("Belt")).reduce((t,r)=>t+n[r],0),s=k.reduce((t,r)=>{const d=`${r} Belt`;return t.push({belt:r,discord:a[d],reddit:n[d]}),t},[]);s.push({belt:"Total",discord:p,reddit:m});const e={columns:[{name:"Discord",align:"center",id:"discord"},{name:"Belt",align:"center",id:"belt"},{name:"Reddit",align:"center",id:"reddit"}],data:s},{width:o}=j(),l=o<=360,u=o<=395,g=o<=428,b=o<=560,f=o<=820,h=l?".8rem":u?".85rem":g?".9rem":".95rem",x=320,T={},S="nowrap";return i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"1.3rem",margin:"10px"},children:e.title}),i.jsx(D,{id:"statsTable",style:{padding:"0px 0px 0px 0px",width:x,marginLeft:"auto",marginRight:"auto",border:"1px solid #444"},component:L,elevation:2,children:i.jsxs(z,{size:"small",children:[i.jsx(P,{children:i.jsx(y,{children:e.columns.map((t,r)=>i.jsx(B,{sx:{textAlign:t==null?void 0:t.align,fontSize:h,lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:t.name},r+1))})}),i.jsx(O,{children:e.data.map((t,r)=>i.jsx(y,{index:r,sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:e.columns.map((d,C)=>i.jsx(B,{style:T,sx:{textAlign:d.align,fontSize:h,whiteSpace:S,padding:"8px",border:0,color:"#eee",justifyItems:"center",fontWeight:700},component:"th",scope:"row",children:d.id==="belt"&&t[d.id]!=="Total"?i.jsx(v,{value:t[d.id],style:{marginBottom:-10},containerStyle:{width:32,maxWidth:32,marginRight:"auto",marginLeft:"auto"}}):t[d.id]?t[d.id].toLocaleString():""},C+1))},r))})]})})]})}export{V as P,Y as a};
