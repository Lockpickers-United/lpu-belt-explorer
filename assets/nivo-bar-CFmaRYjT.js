import{a0 as At,r as C,j as c}from"./index-CS3BDTHI.js";import{r as En,a as Pn,C as Tn,R as jn,s as Ht,q as Xt,W as $t,E as Rn}from"./nivo-axes-D_0_2tpL.js";import{c as St,a as In,r as Bn,b as Fn,d as qn,e as zn,f as _n,g as fn,h as An,i as Hn,j as Dn,k as Yn,l as Xn,m as $n,z as _e,F as Nn,n as ye,S as yt,u as wt,D as Gn,o as Kn,E as Un,Y as Jn,p as bn,q as vn,O as gn,s as mn,w as Zn,t as Qn,v as ea,T as ta,x as xn,y as Nt,A as na,B as Ot,C as yn,G as aa,H as Gt,I as ia,J as ra,K as Kt,L as oa,M as Ut,N as Vt,P as la,Q as ua}from"./nivo-legends-ddyTqioZ.js";import{r as da,a as sa}from"./_baseClone-DJii_Ysb.js";function Jt(e,a){if((l=e.length)>1)for(var i=1,n,t,r=e[a[0]],l,o=r.length;i<l;++i)for(t=r,r=e[a[i]],n=0;n<o;++n)r[n][1]+=r[n][0]=isNaN(t[n][1])?t[n][0]:t[n][1]}function Zt(e){for(var a=e.length,i=new Array(a);--a>=0;)i[a]=a;return i}function ca(e,a){return e[a]}function ha(e){const a=[];return a.key=e,a}function fa(){var e=St([]),a=Zt,i=Jt,n=ca;function t(r){var l=Array.from(e.apply(this,arguments),ha),o,u=l.length,d=-1,h;for(const f of r)for(o=0,++d;o<u;++o)(l[o][d]=[0,+n(f,l[o].key,d,r)]).data=f;for(o=0,h=In(a(l));o<u;++o)l[h[o]].index=o;return i(l,h),l}return t.keys=function(r){return arguments.length?(e=typeof r=="function"?r:St(Array.from(r)),t):e},t.value=function(r){return arguments.length?(n=typeof r=="function"?r:St(+r),t):n},t.order=function(r){return arguments.length?(a=r==null?Zt:typeof r=="function"?r:St(Array.from(r)),t):a},t.offset=function(r){return arguments.length?(i=r??Jt,t):i},t}function ba(e,a){if((u=e.length)>0)for(var i,n=0,t,r,l,o,u,d=e[a[0]].length;n<d;++n)for(l=o=0,i=0;i<u;++i)(r=(t=e[a[i]][n])[1]-t[0])>0?(t[0]=l,t[1]=l+=r):r<0?(t[1]=o,t[0]=o+=r):(t[0]=0,t[1]=r)}var Et,Qt;function va(){if(Qt)return Et;Qt=1;var e=En();function a(i,n){var t=[];return e(i,function(r,l,o){n(r,l,o)&&t.push(r)}),t}return Et=a,Et}var Pt,en;function ga(){if(en)return Pt;en=1;var e=Bn(),a=va(),i=Pn(),n=Fn();function t(r,l){var o=n(r)?e:a;return o(r,i(l,3))}return Pt=t,Pt}var ma=ga();const xa=At(ma);var Tt,tn;function ya(){if(tn)return Tt;tn=1;var e=qn(),a=zn(),i="[object Number]";function n(t){return typeof t=="number"||a(t)&&e(t)==i}return Tt=n,Tt}var pa=ya();const nn=At(pa);var jt,an;function ka(){if(an)return jt;an=1;function e(a,i,n){var t=-1,r=a.length;i<0&&(i=-i>r?0:r+i),n=n>r?r:n,n<0&&(n+=r),r=i>n?0:n-i>>>0,i>>>=0;for(var l=Array(r);++t<r;)l[t]=a[t+i];return l}return jt=e,jt}var Rt,rn;function Sa(){if(rn)return Rt;rn=1;var e=_n(),a=ka();function i(n,t){return t.length<2?n:e(n,a(t,0,-1))}return Rt=i,Rt}var It,on;function wa(){if(on)return It;on=1;var e=fn(),a=An(),i=Sa(),n=Hn();function t(r,l){return l=e(l,r),r=i(r,l),r==null||delete r[n(a(l))]}return It=t,It}var Bt,ln;function Ca(){if(ln)return Bt;ln=1;var e=Dn();function a(i){return e(i)?void 0:i}return Bt=a,Bt}var Ft,un;function Wa(){if(un)return Ft;un=1;var e=$n(),a=da(),i=wa(),n=fn(),t=Yn(),r=Ca(),l=Xn(),o=sa(),u=1,d=2,h=4,f=l(function(v,b){var k={};if(v==null)return k;var g=!1;b=e(b,function(x){return x=n(x,v),g||(g=x.length>1),x}),t(v,o(v),k),g&&(k=a(k,u|d|h,r));for(var w=b.length;w--;)i(k,b[w]);return k});return Ft=f,Ft}var La=Wa();const pn=At(La);function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Re.apply(null,arguments)}var zt={dotSize:4,noteWidth:120,noteTextOffset:8},Ma=function(e){var a=typeof e;return C.isValidElement(e)||a==="string"||a==="function"||a==="object"},Oa=function(e){var a=typeof e;return a==="string"||a==="function"},mt=function(e){return e.type==="circle"},_t=function(e){return e.type==="dot"},xt=function(e){return e.type==="rect"},Va=function(e){var a=e.data,i=e.annotations,n=e.getPosition,t=e.getDimensions;return i.reduce((function(r,l){var o=l.offset||0;return[].concat(r,xa(a,l.match).map((function(u){var d=n(u),h=t(u);return(mt(l)||xt(l))&&(h.size=h.size+2*o,h.width=h.width+2*o,h.height=h.height+2*o),Re({},pn(l,["match","offset"]),d,h,{size:l.size||h.size,datum:u})})))}),[])},Ea=function(e,a,i,n){var t=Math.atan2(n-a,i-e);return Un(Jn(t))},kn=function(e){var a,i,n=e.x,t=e.y,r=e.noteX,l=e.noteY,o=e.noteWidth,u=o===void 0?zt.noteWidth:o,d=e.noteTextOffset,h=d===void 0?zt.noteTextOffset:d;if(nn(r))a=n+r;else{if(r.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");a=r.abs}if(nn(l))i=t+l;else{if(l.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");i=l.abs}var f=n,v=t,b=Ea(n,t,a,i);if(mt(e)){var k=Gn(Kn(b),e.size/2);f+=k.x,v+=k.y}if(xt(e)){var g=Math.round((b+90)/45)%8;g===0&&(v-=e.height/2),g===1&&(f+=e.width/2,v-=e.height/2),g===2&&(f+=e.width/2),g===3&&(f+=e.width/2,v+=e.height/2),g===4&&(v+=e.height/2),g===5&&(f-=e.width/2,v+=e.height/2),g===6&&(f-=e.width/2),g===7&&(f-=e.width/2,v-=e.height/2)}var w=a,x=a;return(b+90)%360>180?(w-=u,x-=u):x+=u,{points:[[f,v],[a,i],[x,i]],text:[w,i-h],angle:b+90}},Sn=function(e){var a=e.data,i=e.annotations,n=e.getPosition,t=e.getDimensions;return C.useMemo((function(){return Va({data:a,annotations:i,getPosition:n,getDimensions:t})}),[a,i,n,t])},Pa=function(e){var a=e.annotations;return C.useMemo((function(){return a.map((function(i){return Re({},i,{computed:kn(Re({},i))})}))}),[a])},Ta=function(e){return C.useMemo((function(){return kn(e)}),[e])},ja=function(e){var a=e.datum,i=e.x,n=e.y,t=e.note,r=_e(),l=yt(),o=l.animate,u=l.config,d=wt({x:i,y:n,config:u,immediate:!o});return typeof t=="function"?C.createElement(t,{x:i,y:n,datum:a}):c.jsxs(c.Fragment,{children:[r.annotations.text.outlineWidth>0&&c.jsx(ye.text,{x:d.x,y:d.y,style:Re({},r.annotations.text,{strokeLinejoin:"round",strokeWidth:2*r.annotations.text.outlineWidth,stroke:r.annotations.text.outlineColor}),children:t}),c.jsx(ye.text,{x:d.x,y:d.y,style:pn(r.annotations.text,["outlineWidth","outlineColor"]),children:t})]})},dn=function(e){var a=e.points,i=e.isOutline,n=i!==void 0&&i,t=_e(),r=C.useMemo((function(){var u=a[0];return a.slice(1).reduce((function(d,h){return d+" L"+h[0]+","+h[1]}),"M"+u[0]+","+u[1])}),[a]),l=Nn(r);if(n&&t.annotations.link.outlineWidth<=0)return null;var o=Re({},t.annotations.link);return n&&(o.strokeLinecap="square",o.strokeWidth=t.annotations.link.strokeWidth+2*t.annotations.link.outlineWidth,o.stroke=t.annotations.link.outlineColor,o.opacity=t.annotations.link.outlineOpacity),c.jsx(ye.path,{fill:"none",d:l,style:o})},Ra=function(e){var a=e.x,i=e.y,n=e.size,t=_e(),r=yt(),l=r.animate,o=r.config,u=wt({x:a,y:i,radius:n/2,config:o,immediate:!l});return c.jsxs(c.Fragment,{children:[t.annotations.outline.outlineWidth>0&&c.jsx(ye.circle,{cx:u.x,cy:u.y,r:u.radius,style:Re({},t.annotations.outline,{fill:"none",strokeWidth:t.annotations.outline.strokeWidth+2*t.annotations.outline.outlineWidth,stroke:t.annotations.outline.outlineColor,opacity:t.annotations.outline.outlineOpacity})}),c.jsx(ye.circle,{cx:u.x,cy:u.y,r:u.radius,style:t.annotations.outline})]})},Ia=function(e){var a=e.x,i=e.y,n=e.size,t=n===void 0?zt.dotSize:n,r=_e(),l=yt(),o=l.animate,u=l.config,d=wt({x:a,y:i,radius:t/2,config:u,immediate:!o});return c.jsxs(c.Fragment,{children:[r.annotations.outline.outlineWidth>0&&c.jsx(ye.circle,{cx:d.x,cy:d.y,r:d.radius,style:Re({},r.annotations.outline,{fill:"none",strokeWidth:2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor,opacity:r.annotations.outline.outlineOpacity})}),c.jsx(ye.circle,{cx:d.x,cy:d.y,r:d.radius,style:r.annotations.symbol})]})},Ba=function(e){var a=e.x,i=e.y,n=e.width,t=e.height,r=e.borderRadius,l=r===void 0?6:r,o=_e(),u=yt(),d=u.animate,h=u.config,f=wt({x:a-n/2,y:i-t/2,width:n,height:t,config:h,immediate:!d});return c.jsxs(c.Fragment,{children:[o.annotations.outline.outlineWidth>0&&c.jsx(ye.rect,{x:f.x,y:f.y,rx:l,ry:l,width:f.width,height:f.height,style:Re({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),c.jsx(ye.rect,{x:f.x,y:f.y,rx:l,ry:l,width:f.width,height:f.height,style:o.annotations.outline})]})},Fa=function(e){var a=e.datum,i=e.x,n=e.y,t=e.note,r=Ta(e);if(!Ma(t))throw new Error("note should be a valid react element");return c.jsxs(c.Fragment,{children:[c.jsx(dn,{points:r.points,isOutline:!0}),mt(e)&&c.jsx(Ra,{x:i,y:n,size:e.size}),_t(e)&&c.jsx(Ia,{x:i,y:n,size:e.size}),xt(e)&&c.jsx(Ba,{x:i,y:n,width:e.width,height:e.height,borderRadius:e.borderRadius}),c.jsx(dn,{points:r.points}),c.jsx(ja,{datum:a,x:r.text[0],y:r.text[1],note:t})]})},sn=function(e,a){a.forEach((function(i,n){var t=i[0],r=i[1];n===0?e.moveTo(t,r):e.lineTo(t,r)}))},qa=function(e,a){var i=a.annotations,n=a.theme;i.length!==0&&(e.save(),i.forEach((function(t){if(!Oa(t.note))throw new Error("note is invalid for canvas implementation");n.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=n.annotations.link.outlineColor,e.lineWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,e.beginPath(),sn(e,t.computed.points),e.stroke(),e.lineCap="butt"),mt(t)&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),_t(t)&&n.annotations.symbol.outlineWidth>0&&(e.strokeStyle=n.annotations.symbol.outlineColor,e.lineWidth=2*n.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),xt(t)&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=n.annotations.link.stroke,e.lineWidth=n.annotations.link.strokeWidth,e.beginPath(),sn(e,t.computed.points),e.stroke(),mt(t)&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),_t(t)&&(e.fillStyle=n.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),xt(t)&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),typeof t.note=="function"?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:n}):(e.font=n.annotations.text.fontSize+"px "+n.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=n.annotations.text.fill,e.strokeStyle=n.annotations.text.outlineColor,e.lineWidth=2*n.annotations.text.outlineWidth,n.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())},za=function(e,a,i,n,t,r){r>0?(e.moveTo(a+r,i),e.lineTo(a+n-r,i),e.quadraticCurveTo(a+n,i,a+n,i+r),e.lineTo(a+n,i+t-r),e.quadraticCurveTo(a+n,i+t,a+n-r,i+t),e.lineTo(a+r,i+t),e.quadraticCurveTo(a,i+t,a,i+t-r),e.lineTo(a,i+r),e.quadraticCurveTo(a,i,a+r,i),e.closePath()):e.rect(a,i,n,t)};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},W.apply(null,arguments)}function bt(e,a){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;i[n]=e[n]}return i}var cn,_a=function(e){var a=e.bars,i=e.annotations,n=Sn({data:a,annotations:i,getPosition:function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},getDimensions:function(t){var r=t.height,l=t.width;return{width:l,height:r,size:Math.max(l,r)}}});return c.jsx(c.Fragment,{children:n.map((function(t,r){return c.jsx(Fa,W({},t),r)}))})},Aa=function(e){var a=e.width,i=e.height,n=e.legends,t=e.toggleSerie;return c.jsx(c.Fragment,{children:n.map((function(r,l){var o,u=r[0],d=r[1];return c.jsx(ia,W({},u,{containerWidth:a,containerHeight:i,data:(o=u.data)!=null?o:d,toggleSerie:u.toggleSerie&&u.dataFrom==="keys"?t:void 0}),l)}))})},Ha=["data"],Da=function(e){var a,i=e.bar,n=i.data,t=bt(i,Ha),r=e.style,l=r.borderColor,o=r.color,u=r.height,d=r.labelColor,h=r.labelOpacity,f=r.labelX,v=r.labelY,b=r.transform,k=r.width,g=r.textAnchor,w=e.borderRadius,x=e.borderWidth,p=e.label,O=e.shouldRenderLabel,S=e.isInteractive,R=e.onClick,P=e.onMouseEnter,I=e.onMouseLeave,T=e.tooltip,L=e.isFocusable,V=e.ariaLabel,z=e.ariaLabelledBy,B=e.ariaDescribedBy,_=e.ariaDisabled,Z=e.ariaHidden,G=_e(),X=xn(),H=X.showTooltipFromEvent,N=X.showTooltipAt,de=X.hideTooltip,K=C.useMemo((function(){return function(){return C.createElement(T,W({},t,n))}}),[T,t,n]),fe=C.useCallback((function(ee){R==null||R(W({color:t.color},n),ee)}),[t,n,R]),be=C.useCallback((function(ee){return H(K(),ee)}),[H,K]),Ae=C.useCallback((function(ee){P==null||P(n,ee),H(K(),ee)}),[n,P,H,K]),pe=C.useCallback((function(ee){I==null||I(n,ee),de()}),[n,de,I]),Ie=C.useCallback((function(){N(K(),[t.absX+t.width/2,t.absY])}),[N,K,t]),ke=C.useCallback((function(){de()}),[de]);return c.jsxs(ye.g,{transform:b,children:[c.jsx(ye.rect,{width:Nt(k,(function(ee){return Math.max(ee,0)})),height:Nt(u,(function(ee){return Math.max(ee,0)})),rx:w,ry:w,fill:(a=n.fill)!=null?a:o,strokeWidth:x,stroke:l,focusable:L,tabIndex:L?0:void 0,"aria-label":V?V(n):void 0,"aria-labelledby":z?z(n):void 0,"aria-describedby":B?B(n):void 0,"aria-disabled":_?_(n):void 0,"aria-hidden":Z?Z(n):void 0,onMouseEnter:S?Ae:void 0,onMouseMove:S?be:void 0,onMouseLeave:S?pe:void 0,onClick:S?fe:void 0,onFocus:S&&L?Ie:void 0,onBlur:S&&L?ke:void 0,"data-testid":"bar.item."+n.id+"."+n.index}),O&&c.jsx(na,{x:f,y:v,textAnchor:g,dominantBaseline:"central",fillOpacity:h,style:W({},G.labels.text,{pointerEvents:"none",fill:d}),children:p})]})},Ya=["color","label"],Xa=function(e){var a=e.color,i=e.label,n=bt(e,Ya);return c.jsx(ta,{id:i,value:n.formattedValue,enableChip:!0,color:a})},E={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:Xa,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},A=W({},E,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:Da,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),ne=W({},E,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(cn=window.devicePixelRatio)!=null?cn:1}),wn=function(e,a,i,n,t,r){return Ht(n,{all:e.map(a),min:0,max:0},t,r).padding(i)},Cn=function(e,a){return e.map((function(i){return W({},a.reduce((function(n,t){return n[t]=null,n}),{}),i)}))},Ct=function(e){return Object.keys(e).reduce((function(a,i){return e[i]&&(a[i]=e[i]),a}),{})},Wt=function(e){return[e,Number(e)]};function Wn(e,a,i,n){return e===void 0&&(e=E.layout),a===void 0&&(a=E.reverse),i===void 0&&(i=E.labelPosition),n===void 0&&(n=E.labelOffset),function(t,r){var l=n*(a?-1:1);if(e==="horizontal"){var o=t/2;return i==="start"?o=a?t:0:i==="end"&&(o=a?0:t),{labelX:o+l,labelY:r/2,textAnchor:i==="middle"?"middle":a?"end":"start"}}var u=r/2;return i==="start"?u=a?0:r:i==="end"&&(u=a?r:0),{labelX:t/2,labelY:u-l,textAnchor:"middle"}}}var $a=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],Dt=function(e,a){return e>a},Ln=function(e,a){return e<a},Mn=function(e,a){return Array.from(" ".repeat(a-e),(function(i,n){return e+n}))},Na=function(e){return Dt(e,0)?0:e},Ga=function(e,a,i,n){var t=e.data,r=e.formatValue,l=e.getColor,o=e.getIndex,u=e.getTooltipLabel,d=e.innerPadding,h=d===void 0?0:d,f=e.keys,v=e.xScale,b=e.yScale,k=e.margin,g=i?Ln:Dt,w=t.map(Ct),x=[];return f.forEach((function(p,O){return Mn(0,v.domain().length).forEach((function(S){var R,P,I,T=Wt(t[S][p]),L=T[0],V=T[1],z=o(t[S]),B=((R=v(z))!=null?R:0)+a*O+h*O,_=g(P=V,0)?(I=b(P))!=null?I:0:n,Z=(function(X,H){var N;return g(X,0)?n-H:((N=b(X))!=null?N:0)-n})(V,_),G={id:p,value:L===null?L:V,formattedValue:r(V),hidden:!1,index:S,indexValue:z,data:w[S]};x.push({key:p+"."+G.indexValue,index:x.length,data:G,x:B,y:_,absX:k.left+B,absY:k.top+_,width:a,height:Z,color:l(G),label:u(G)})}))})),x},Ka=function(e,a,i,n){var t=e.data,r=e.formatValue,l=e.getIndex,o=e.getColor,u=e.getTooltipLabel,d=e.keys,h=e.innerPadding,f=h===void 0?0:h,v=e.xScale,b=e.yScale,k=e.margin,g=i?Ln:Dt,w=t.map(Ct),x=[];return d.forEach((function(p,O){return Mn(0,b.domain().length).forEach((function(S){var R,P,I,T=Wt(t[S][p]),L=T[0],V=T[1],z=l(t[S]),B=g(P=V,0)?n:(I=v(P))!=null?I:0,_=((R=b(z))!=null?R:0)+a*O+f*O,Z=(function(X,H){var N;return g(X,0)?((N=v(X))!=null?N:0)-n:n-H})(V,B),G={id:p,value:L===null?L:V,formattedValue:r(V),hidden:!1,index:S,indexValue:z,data:w[S]};x.push({key:p+"."+G.indexValue,index:x.length,data:G,x:B,y:_,absX:k.left+B,absY:k.top+_,width:Z,height:a,color:o(G),label:u(G)})}))})),x},Ua=function(e){var a,i,n=e.layout,t=e.minValue,r=e.maxValue,l=e.reverse,o=e.width,u=e.height,d=e.padding,h=d===void 0?0:d,f=e.innerPadding,v=f===void 0?0:f,b=e.valueScale,k=e.indexScale,g=e.hiddenIds,w=g===void 0?[]:g,x=bt(e,$a),p=x.keys.filter((function(K){return!w.includes(K)})),O=Cn(x.data,p),S=n==="vertical"?["y","x",o]:["x","y",u],R=S[0],P=S[1],I=S[2],T=wn(O,x.getIndex,h,k,I,P),L=W({max:r,min:t,reverse:l},b),V=L.min==="auto"?Na:function(K){return K},z=O.reduce((function(K,fe){return[].concat(K,p.map((function(be){return fe[be]})))}),[]).filter(Boolean),B=V(Math.min.apply(Math,z)),_=(i=Math.max.apply(Math,z),isFinite(i)?i:0),Z=Ht(L,{all:z,min:B,max:_},R==="x"?o:u,R),G=n==="vertical"?[T,Z]:[Z,T],X=G[0],H=G[1],N=(T.bandwidth()-v*(p.length-1))/p.length,de=[W({},x,{data:O,keys:p,innerPadding:v,xScale:X,yScale:H}),N,L.reverse,(a=Z(0))!=null?a:0];return{xScale:X,yScale:H,bars:N>0?n==="vertical"?Ga.apply(void 0,de):Ka.apply(void 0,de):[]}},Ja=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],On=function(e){var a;return e.some(Array.isArray)?On((a=[]).concat.apply(a,e)):e},Za=function(e,a,i){var n=e.formatValue,t=e.getColor,r=e.getIndex,l=e.getTooltipLabel,o=e.innerPadding,u=e.stackedData,d=e.xScale,h=e.yScale,f=e.margin,v=[];return u.forEach((function(b){return d.domain().forEach((function(k,g){var w,x,p=b[g],O=(w=d(r(p.data)))!=null?w:0,S=((x=(function(V){return h(V[i?0:1])})(p))!=null?x:0)+.5*o,R=(function(V,z){var B;return((B=h(V[i?1:0]))!=null?B:0)-z})(p,S)-o,P=Wt(p.data[b.key]),I=P[0],T=P[1],L={id:b.key,value:I===null?I:T,formattedValue:n(T),hidden:!1,index:g,indexValue:k,data:Ct(p.data)};v.push({key:b.key+"."+k,index:v.length,data:L,x:O,y:S,absX:f.left+O,absY:f.top+S,width:a,height:R,color:t(L),label:l(L)})}))})),v},Qa=function(e,a,i){var n=e.formatValue,t=e.getColor,r=e.getIndex,l=e.getTooltipLabel,o=e.innerPadding,u=e.stackedData,d=e.xScale,h=e.yScale,f=e.margin,v=[];return u.forEach((function(b){return h.domain().forEach((function(k,g){var w,x,p=b[g],O=(w=h(r(p.data)))!=null?w:0,S=((x=(function(V){return d(V[i?1:0])})(p))!=null?x:0)+.5*o,R=(function(V,z){var B;return((B=d(V[i?0:1]))!=null?B:0)-z})(p,S)-o,P=Wt(p.data[b.key]),I=P[0],T=P[1],L={id:b.key,value:I===null?I:T,formattedValue:n(T),hidden:!1,index:g,indexValue:k,data:Ct(p.data)};v.push({key:b.key+"."+k,index:v.length,data:L,x:S,y:O,absX:f.left+S,absY:f.top+O,width:R,height:a,color:t(L),label:l(L)})}))})),v},ei=function(e){var a,i=e.data,n=e.layout,t=e.minValue,r=e.maxValue,l=e.reverse,o=e.width,u=e.height,d=e.padding,h=d===void 0?0:d,f=e.valueScale,v=e.indexScale,b=e.hiddenIds,k=b===void 0?[]:b,g=bt(e,Ja),w=g.keys.filter((function(N){return!k.includes(N)})),x=fa().keys(w).offset(ba)(Cn(i,w)),p=n==="vertical"?["y","x",o]:["x","y",u],O=p[0],S=p[1],R=p[2],P=wn(i,g.getIndex,h,v,R,S),I=W({max:r,min:t,reverse:l},f),T=(a=On(x),f.type==="log"?a.filter((function(N){return N!==0})):a),L=Math.min.apply(Math,T),V=Math.max.apply(Math,T),z=Ht(I,{all:T,min:L,max:V},O==="x"?o:u,O),B=n==="vertical"?[P,z]:[z,P],_=B[0],Z=B[1],G=g.innerPadding>0?g.innerPadding:0,X=P.bandwidth(),H=[W({},g,{innerPadding:G,stackedData:x,xScale:_,yScale:Z}),X,I.reverse];return{xScale:_,yScale:Z,bars:X>0?n==="vertical"?Za.apply(void 0,H):Qa.apply(void 0,H):[]}},ti=function(e){var a=e.bars,i=e.direction,n=e.from,t=e.groupMode,r=e.layout,l=e.legendLabel,o=e.reverse,u=ra(l??(n==="indexes"?"indexValue":"id"));return n==="indexes"?(function(d,h,f){var v=Xt(d.map((function(b){var k,g;return{id:(k=b.data.indexValue)!=null?k:"",label:f(b.data),hidden:b.data.hidden,color:(g=b.color)!=null?g:"#000"}})),(function(b){return b.id}));return h==="horizontal"&&v.reverse(),v})(a,r,u):(function(d,h,f,v,b,k){var g=Xt(d.map((function(w){var x;return{id:w.data.id,label:k(w.data),hidden:w.data.hidden,color:(x=w.color)!=null?x:"#000"}})),(function(w){return w.id}));return(h==="vertical"&&v==="stacked"&&f==="column"&&b!==!0||h==="horizontal"&&v==="stacked"&&b===!0)&&g.reverse(),g})(a,r,i,t,o,u)},hn=function(e,a,i){var n=e.get(a)||0;e.set(a,n+i)},ni=function(e,a,i){var n=e.get(a)||0;e.set(a,n+(i>0?i:0))},ai=function(e,a,i){var n=e.get(a)||0;e.set(a,Math.max(n,Number(i)))},ii=function(e,a){var i=e.get(a)||0;e.set(a,i+1)},Vn=function(e){var a=e.indexBy,i=a===void 0?E.indexBy:a,n=e.keys,t=n===void 0?E.keys:n,r=e.label,l=r===void 0?E.label:r,o=e.tooltipLabel,u=o===void 0?E.tooltipLabel:o,d=e.valueFormat,h=e.colors,f=h===void 0?E.colors:h,v=e.colorBy,b=v===void 0?E.colorBy:v,k=e.borderColor,g=k===void 0?E.borderColor:k,w=e.labelTextColor,x=w===void 0?E.labelTextColor:w,p=e.groupMode,O=p===void 0?E.groupMode:p,S=e.layout,R=S===void 0?E.layout:S,P=e.reverse,I=P===void 0?E.reverse:P,T=e.data,L=e.minValue,V=L===void 0?E.minValue:L,z=e.maxValue,B=z===void 0?E.maxValue:z,_=e.margin,Z=e.width,G=e.height,X=e.padding,H=X===void 0?E.padding:X,N=e.innerPadding,de=N===void 0?E.innerPadding:N,K=e.valueScale,fe=K===void 0?E.valueScale:K,be=e.indexScale,Ae=be===void 0?E.indexScale:be,pe=e.initialHiddenIds,Ie=pe===void 0?E.initialHiddenIds:pe,ke=e.enableLabel,ee=ke===void 0?E.enableLabel:ke,Ne=e.labelSkipWidth,Ge=Ne===void 0?E.labelSkipWidth:Ne,Ke=e.labelSkipHeight,Oe=Ke===void 0?E.labelSkipHeight:Ke,He=e.legends,Be=He===void 0?E.legends:He,Ue=e.legendLabel,Je=e.totalsOffset,Ze=Je===void 0?E.totalsOffset:Je,Qe=C.useState(Ie??[]),Fe=Qe[0],et=Qe[1],dt=C.useCallback((function(y){et((function(j){return j.indexOf(y)>-1?j.filter((function(D){return D!==y})):[].concat(j,[y])}))}),[]),ce=Ot(i),st=Ot(l),qe=Ot(u),ve=yn(d),Ve=_e(),Se=aa(f,b),ct=Gt(g,Ve),tt=Gt(x,Ve),re=(O==="grouped"?Ua:ei)({layout:R,reverse:I,data:T,getIndex:ce,keys:t,minValue:V,maxValue:B,width:Z,height:G,getColor:Se,padding:H,innerPadding:de,valueScale:fe,indexScale:Ae,hiddenIds:Fe,formatValue:ve,getTooltipLabel:qe,margin:_}),oe=re.bars,we=re.xScale,Ce=re.yScale,ht=C.useMemo((function(){return oe.filter((function(y){return y.data.value!==null})).map((function(y,j){return W({},y,{index:j})}))}),[oe]),ft=C.useCallback((function(y){var j=y.width,D=y.height;return!!ee&&!(Ge>0&&j<Ge)&&!(Oe>0&&D<Oe)}),[ee,Ge,Oe]),le=C.useMemo((function(){return t.map((function(y){var j=oe.find((function(D){return D.data.id===y}));return W({},j,{data:W({id:y},j==null?void 0:j.data,{hidden:Fe.includes(y)})})}))}),[Fe,t,oe]),ue=C.useMemo((function(){return Be.map((function(y){return[y,ti({bars:y.dataFrom==="keys"?le:oe,direction:y.direction,from:y.dataFrom,groupMode:O,layout:R,legendLabel:Ue,reverse:I})]}))}),[Be,le,oe,O,R,Ue,I]),ze=C.useMemo((function(){return(function(y,j,D,ie,he,Q,ae){ie===void 0&&(ie=E.layout),he===void 0&&(he=E.groupMode);var Ee=[];if(y.length===0)return Ee;var ge=new Map,We=y[0].width,nt=y[0].height;if(he==="stacked"){var De=new Map;y.forEach((function(te){var Y=te.data,U=Y.indexValue,$=Y.value;hn(ge,U,Number($)),ni(De,U,Number($))})),De.forEach((function(te,Y){var U,$,me,Pe=ge.get(Y)||0;ie==="vertical"?(U=j(Y),$=D(te),me=D(te/2)):(U=j(te),$=D(Y),me=j(te/2)),U+=ie==="vertical"?We/2:Q,$+=ie==="vertical"?-Q:nt/2,Ee.push({key:"total_"+Y,x:U,y:$,value:Pe,formattedValue:ae(Pe),animationOffset:me})}))}else if(he==="grouped"){var at=new Map,it=new Map;y.forEach((function(te){var Y=te.data,U=Y.indexValue,$=Y.value;hn(ge,U,Number($)),ai(at,U,Number($)),ii(it,U)})),at.forEach((function(te,Y){var U,$,me,Pe=ge.get(Y)||0,xe=it.get(Y);ie==="vertical"?(U=j(Y),$=D(te),me=D(te/2)):(U=j(te),$=D(Y),me=j(te/2)),U+=ie==="vertical"?xe*We/2:Q,$+=ie==="vertical"?-Q:xe*nt/2,Ee.push({key:"total_"+Y,x:U,y:$,value:Pe,formattedValue:ae(Pe),animationOffset:me})}))}return Ee})(oe,we,Ce,R,O,Ze,ve)}),[oe,we,Ce,R,O,Ze,ve]);return{bars:oe,barsWithValue:ht,xScale:we,yScale:Ce,getIndex:ce,getLabel:st,getTooltipLabel:qe,formatValue:ve,getColor:Se,getBorderColor:ct,getLabelColor:tt,shouldRenderBarLabel:ft,hiddenIds:Fe,toggleSerie:dt,legendsWithData:ue,barTotals:ze}},ri=function(e){var a=e.data,i=e.springConfig,n=e.animate,t=e.layout,r=t===void 0?A.layout:t,l=_e();return mn(a,{keys:function(o){return o.key},from:function(o){return{x:r==="vertical"?o.x:o.animationOffset,y:r==="vertical"?o.animationOffset:o.y,labelOpacity:0}},enter:function(o){return{x:o.x,y:o.y,labelOpacity:1}},update:function(o){return{x:o.x,y:o.y,labelOpacity:1}},leave:function(o){return{x:r==="vertical"?o.x:o.animationOffset,y:r==="vertical"?o.animationOffset:o.y,labelOpacity:0}},config:i,immediate:!n,initial:n?void 0:null})((function(o,u){return c.jsx(ye.text,{x:o.x,y:o.y,fillOpacity:o.labelOpacity,style:W({},l.labels.text,{pointerEvents:"none"}),fontWeight:"bold",fontSize:l.labels.text.fontSize,fontFamily:l.labels.text.fontFamily,textAnchor:r==="vertical"?"middle":"start",alignmentBaseline:r==="vertical"?"alphabetic":"middle",children:u.formattedValue},u.key)}))},oi=["isInteractive","animate","motionConfig","theme","renderWrapper"],li=function(e){var a=e.data,i=e.indexBy,n=e.keys,t=e.margin,r=e.width,l=e.height,o=e.groupMode,u=e.layout,d=e.reverse,h=e.minValue,f=e.maxValue,v=e.valueScale,b=e.indexScale,k=e.padding,g=e.innerPadding,w=e.axisTop,x=e.axisRight,p=e.axisBottom,O=p===void 0?A.axisBottom:p,S=e.axisLeft,R=S===void 0?A.axisLeft:S,P=e.enableGridX,I=P===void 0?A.enableGridX:P,T=e.enableGridY,L=T===void 0?A.enableGridY:T,V=e.gridXValues,z=e.gridYValues,B=e.layers,_=B===void 0?A.layers:B,Z=e.barComponent,G=Z===void 0?A.barComponent:Z,X=e.enableLabel,H=X===void 0?A.enableLabel:X,N=e.label,de=e.labelSkipWidth,K=de===void 0?A.labelSkipWidth:de,fe=e.labelSkipHeight,be=fe===void 0?A.labelSkipHeight:fe,Ae=e.labelTextColor,pe=e.labelPosition,Ie=pe===void 0?A.labelPosition:pe,ke=e.labelOffset,ee=ke===void 0?A.labelOffset:ke,Ne=e.markers,Ge=Ne===void 0?A.markers:Ne,Ke=e.colorBy,Oe=e.colors,He=e.defs,Be=He===void 0?A.defs:He,Ue=e.fill,Je=Ue===void 0?A.fill:Ue,Ze=e.borderRadius,Qe=Ze===void 0?A.borderRadius:Ze,Fe=e.borderWidth,et=Fe===void 0?A.borderWidth:Fe,dt=e.borderColor,ce=e.annotations,st=ce===void 0?A.annotations:ce,qe=e.legendLabel,ve=e.tooltipLabel,Ve=e.valueFormat,Se=e.isInteractive,ct=Se===void 0?A.isInteractive:Se,tt=e.tooltip,re=tt===void 0?A.tooltip:tt,oe=e.onClick,we=e.onMouseEnter,Ce=e.onMouseLeave,ht=e.legends,ft=e.role,le=ft===void 0?A.role:ft,ue=e.ariaLabel,ze=e.ariaLabelledBy,y=e.ariaDescribedBy,j=e.isFocusable,D=j===void 0?A.isFocusable:j,ie=e.barAriaLabel,he=e.barAriaLabelledBy,Q=e.barAriaDescribedBy,ae=e.barAriaHidden,Ee=e.barAriaDisabled,ge=e.initialHiddenIds,We=e.enableTotals,nt=We===void 0?A.enableTotals:We,De=e.totalsOffset,at=De===void 0?A.totalsOffset:De,it=e.forwardedRef,te=yt(),Y=te.animate,U=te.config,$=gn(r,l,t),me=$.outerWidth,Pe=$.outerHeight,xe=$.margin,Te=$.innerWidth,je=$.innerHeight,se=Vn({indexBy:i,label:N,tooltipLabel:ve,valueFormat:Ve,colors:Oe,colorBy:Ke,borderColor:dt,labelTextColor:Ae,groupMode:o,layout:u,reverse:d,data:a,keys:n,minValue:h,maxValue:f,margin:xe,width:Te,height:je,padding:k,innerPadding:g,valueScale:v,indexScale:b,enableLabel:H,labelSkipWidth:K,labelSkipHeight:be,legends:ht,legendLabel:qe,initialHiddenIds:ge,totalsOffset:at}),rt=se.bars,pt=se.barsWithValue,ot=se.xScale,lt=se.yScale,M=se.getLabel,m=se.getTooltipLabel,F=se.getBorderColor,q=se.getLabelColor,J=se.shouldRenderBarLabel,Ye=se.toggleSerie,Le=se.legendsWithData,Xe=se.barTotals,kt=se.getColor,ut=Wn(u,d,Ie,ee),vt=mn(pt,{keys:function(s){return s.key},from:function(s){return W({borderColor:F(s),color:s.color,height:0,labelColor:q(s),labelOpacity:0},ut(s.width,s.height),{transform:"translate("+s.x+", "+(s.y+s.height)+")",width:s.width},u==="vertical"?{}:{height:s.height,transform:"translate("+s.x+", "+s.y+")",width:0})},enter:function(s){return W({borderColor:F(s),color:s.color,height:s.height,labelColor:q(s),labelOpacity:1},ut(s.width,s.height),{transform:"translate("+s.x+", "+s.y+")",width:s.width})},update:function(s){return W({borderColor:F(s),color:s.color,height:s.height,labelColor:q(s),labelOpacity:1},ut(s.width,s.height),{transform:"translate("+s.x+", "+s.y+")",width:s.width})},leave:function(s){return W({borderColor:F(s),color:s.color,height:0,labelColor:q(s),labelOpacity:0},ut(s.width,s.height),{labelY:0,transform:"translate("+s.x+", "+(s.y+s.height)+")",width:s.width},u==="vertical"?{}:W({},ut(s.width,s.height),{labelX:0,height:s.height,transform:"translate("+s.x+", "+s.y+")",width:0}))},config:U,immediate:!Y,initial:Y?void 0:null}),gt=C.useMemo((function(){return{borderRadius:Qe,borderWidth:et,enableLabel:H,isInteractive:ct,labelSkipWidth:K,labelSkipHeight:be,onClick:oe,onMouseEnter:we,onMouseLeave:Ce,getTooltipLabel:m,tooltip:re,isFocusable:D,ariaLabel:ie,ariaLabelledBy:he,ariaDescribedBy:Q,ariaHidden:ae,ariaDisabled:Ee}}),[Qe,et,H,m,ct,be,K,oe,we,Ce,re,D,ie,he,Q,ae,Ee]),Lt=Zn(Be,rt,Je,{dataKey:"data",targetKey:"data.fill"}),Me={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};_.includes("annotations")&&(Me.annotations=c.jsx(_a,{bars:rt,annotations:st},"annotations")),_.includes("axes")&&(Me.axes=c.jsx(Tn,{xScale:ot,yScale:lt,width:Te,height:je,top:w,right:x,bottom:O,left:R},"axes")),_.includes("bars")&&(Me.bars=c.jsx(C.Fragment,{children:vt((function(s,$e){return C.createElement(G,W({},gt,{bar:$e,style:s,shouldRenderLabel:J($e),label:M($e.data)}))}))},"bars")),_.includes("grid")&&(Me.grid=c.jsx(jn,{width:Te,height:je,xScale:I?ot:null,yScale:L?lt:null,xValues:V,yValues:z},"grid")),_.includes("legends")&&(Me.legends=c.jsx(Aa,{width:Te,height:je,legends:Le,toggleSerie:Ye},"legends")),_.includes("markers")&&(Me.markers=c.jsx(Qn,{markers:Ge,width:Te,height:je,xScale:ot,yScale:lt},"markers")),_.includes("totals")&&nt&&(Me.totals=c.jsx(ri,{data:Xe,springConfig:U,animate:Y,layout:u},"totals"));var Mt=C.useMemo((function(){return W({},gt,{margin:xe,width:r,height:l,innerWidth:Te,innerHeight:je,bars:rt,legendData:Le,enableLabel:H,xScale:ot,yScale:lt,tooltip:re,getTooltipLabel:m,onClick:oe,onMouseEnter:we,onMouseLeave:Ce,getColor:kt})}),[gt,xe,r,l,Te,je,rt,Le,H,ot,lt,re,m,oe,we,Ce,kt]);return c.jsx(ea,{width:me,height:Pe,margin:xe,defs:Lt,role:le,ariaLabel:ue,ariaLabelledBy:ze,ariaDescribedBy:y,isFocusable:D,ref:it,children:_.map((function(s,$e){var Yt;return typeof s=="function"?c.jsx(C.Fragment,{children:C.createElement(s,Mt)},$e):(Yt=Me==null?void 0:Me[s])!=null?Yt:null}))})},ui=C.forwardRef((function(e,a){var i=e.isInteractive,n=i===void 0?A.isInteractive:i,t=e.animate,r=t===void 0?A.animate:t,l=e.motionConfig,o=l===void 0?A.motionConfig:l,u=e.theme,d=e.renderWrapper,h=bt(e,oi);return c.jsx(vn,{animate:r,isInteractive:n,motionConfig:o,renderWrapper:d,theme:u,children:c.jsx(li,W({isInteractive:n},h,{forwardedRef:a}))})})),di=["isInteractive","renderWrapper","theme"],qt=function(e,a,i,n){return e.find((function(t){return ua(t.x+a.left,t.y+a.top,t.width,t.height,i,n)}))},si=function(e){var a=e.data,i=e.indexBy,n=e.keys,t=e.margin,r=e.width,l=e.height,o=e.groupMode,u=e.layout,d=e.reverse,h=e.minValue,f=e.maxValue,v=e.valueScale,b=e.indexScale,k=e.padding,g=e.innerPadding,w=e.axisTop,x=e.axisRight,p=e.axisBottom,O=p===void 0?ne.axisBottom:p,S=e.axisLeft,R=S===void 0?ne.axisLeft:S,P=e.enableGridX,I=P===void 0?ne.enableGridX:P,T=e.enableGridY,L=T===void 0?ne.enableGridY:T,V=e.gridXValues,z=e.gridYValues,B=e.labelPosition,_=B===void 0?ne.labelPosition:B,Z=e.labelOffset,G=Z===void 0?ne.labelOffset:Z,X=e.layers,H=X===void 0?ne.layers:X,N=e.renderBar,de=N===void 0?function(M,m){var F=m.bar,q=F.color,J=F.height,Ye=F.width,Le=F.x,Xe=F.y,kt=m.borderColor,ut=m.borderRadius,vt=m.borderWidth,gt=m.label,Lt=m.shouldRenderLabel,Me=m.labelStyle,Mt=m.labelX,s=m.labelY,$e=m.textAnchor;M.fillStyle=q,vt>0&&(M.strokeStyle=kt,M.lineWidth=vt),M.beginPath(),za(M,Le,Xe,Ye,J,Math.min(ut,J)),M.fill(),vt>0&&M.stroke(),Lt&&(M.textBaseline="middle",M.textAlign=$e==="middle"?"center":$e,Ut(M,Me,gt,Le+Mt,Xe+s))}:N,K=e.enableLabel,fe=K===void 0?ne.enableLabel:K,be=e.label,Ae=e.labelSkipWidth,pe=Ae===void 0?ne.labelSkipWidth:Ae,Ie=e.labelSkipHeight,ke=Ie===void 0?ne.labelSkipHeight:Ie,ee=e.labelTextColor,Ne=e.colorBy,Ge=e.colors,Ke=e.borderRadius,Oe=Ke===void 0?ne.borderRadius:Ke,He=e.borderWidth,Be=He===void 0?ne.borderWidth:He,Ue=e.borderColor,Je=e.annotations,Ze=Je===void 0?ne.annotations:Je,Qe=e.legendLabel,Fe=e.tooltipLabel,et=e.valueFormat,dt=e.isInteractive,ce=dt===void 0?ne.isInteractive:dt,st=e.tooltip,qe=st===void 0?ne.tooltip:st,ve=e.onClick,Ve=e.onMouseEnter,Se=e.onMouseLeave,ct=e.legends,tt=e.pixelRatio,re=tt===void 0?ne.pixelRatio:tt,oe=e.forwardedRef,we=e.enableTotals,Ce=we===void 0?ne.enableTotals:we,ht=e.totalsOffset,ft=ht===void 0?ne.totalsOffset:ht,le=C.useRef(null),ue=_e(),ze=gn(r,l,t),y=ze.margin,j=ze.innerWidth,D=ze.innerHeight,ie=ze.outerWidth,he=ze.outerHeight,Q=Vn({indexBy:i,label:be,tooltipLabel:Fe,valueFormat:et,colors:Ge,colorBy:Ne,borderColor:Ue,labelTextColor:ee,groupMode:o,layout:u,reverse:d,data:a,keys:n,minValue:h,maxValue:f,margin:y,width:j,height:D,padding:k,innerPadding:g,valueScale:v,indexScale:b,enableLabel:fe,labelSkipWidth:pe,labelSkipHeight:ke,legends:ct,legendLabel:Qe,totalsOffset:ft}),ae=Q.bars,Ee=Q.barsWithValue,ge=Q.xScale,We=Q.yScale,nt=Q.getLabel,De=Q.getTooltipLabel,at=Q.getBorderColor,it=Q.getLabelColor,te=Q.shouldRenderBarLabel,Y=Q.legendsWithData,U=Q.barTotals,$=Q.getColor,me=xn(),Pe=me.showTooltipFromEvent,xe=me.hideTooltip,Te=Pa({annotations:Sn({data:ae,annotations:Ze,getPosition:function(M){return{x:M.x,y:M.y}},getDimensions:function(M){var m=M.width,F=M.height;return{width:m,height:F,size:Math.max(m,F)}}})}),je=C.useMemo((function(){return{borderRadius:Oe,borderWidth:Be,isInteractive:ce,isFocusable:!1,labelSkipWidth:pe,labelSkipHeight:ke,margin:y,width:r,height:l,innerWidth:j,innerHeight:D,bars:ae,legendData:Y,enableLabel:fe,xScale:ge,yScale:We,tooltip:qe,getTooltipLabel:De,onClick:ve,onMouseEnter:Ve,onMouseLeave:Se,getColor:$}}),[Oe,Be,ce,pe,ke,y,r,l,j,D,ae,Y,fe,ge,We,qe,De,ve,Ve,Se,$]),se=yn(et),rt=Wn(u,d,_,G);C.useEffect((function(){var M,m=(M=le.current)==null?void 0:M.getContext("2d");le.current&&m&&(le.current.width=ie*re,le.current.height=he*re,m.scale(re,re),m.fillStyle=ue.background,m.fillRect(0,0,ie,he),m.translate(y.left,y.top),H.forEach((function(F){F==="grid"?typeof ue.grid.line.strokeWidth=="number"&&ue.grid.line.strokeWidth>0&&(m.lineWidth=ue.grid.line.strokeWidth,m.strokeStyle=ue.grid.line.stroke,I&&$t(m,{width:j,height:D,scale:ge,axis:"x",values:V}),L&&$t(m,{width:j,height:D,scale:We,axis:"y",values:z})):F==="axes"?Rn(m,{xScale:ge,yScale:We,width:j,height:D,top:w,right:x,bottom:O,left:R,theme:ue}):F==="bars"?(Kt(m,ue.text),Ee.forEach((function(q){de(m,W({bar:q,borderColor:at(q),borderRadius:Oe,borderWidth:Be,label:nt(q.data),shouldRenderLabel:te(q),labelStyle:W({},ue.labels.text,{fill:it(q)})},rt(q.width,q.height)))}))):F==="legends"?Y.forEach((function(q){var J=q[0],Ye=q[1];oa(m,W({},J,{data:Ye,containerWidth:j,containerHeight:D,theme:ue}))})):F==="annotations"?qa(m,{annotations:Te,theme:ue}):F==="totals"&&Ce?(function(q,J,Ye,Le){Le===void 0&&(Le=ne.layout),Kt(q,Ye.labels.text),q.textBaseline=Le==="vertical"?"alphabetic":"middle",q.textAlign=Le==="vertical"?"center":"start",J.forEach((function(Xe){Ut(q,Ye.labels.text,Xe.formattedValue,Xe.x,Xe.y)}))})(m,U,ue,u):typeof F=="function"&&F(m,je)})),m.save())}),[O,R,x,w,Ee,Oe,Be,Te,I,L,at,nt,it,V,z,o,l,D,j,je,H,u,Y,y.left,y.top,he,ie,re,de,ge,We,d,te,ue,r,U,Ce,se,rt]);var pt=C.useCallback((function(M){if(ae&&le.current){var m=Vt(le.current,M),F=m[0],q=m[1],J=qt(ae,y,F,q);J!==void 0?(Pe(C.createElement(qe,W({},J.data,{color:J.color,label:J.label,value:Number(J.data.value)})),M),M.type==="mouseenter"&&(Ve==null||Ve(J.data,M))):xe()}}),[xe,y,Ve,ae,Pe,qe]),ot=C.useCallback((function(M){if(ae&&le.current){xe();var m=Vt(le.current,M),F=m[0],q=m[1],J=qt(ae,y,F,q);J&&(Se==null||Se(J.data,M))}}),[xe,y,Se,ae]),lt=C.useCallback((function(M){if(ae&&le.current){var m=Vt(le.current,M),F=m[0],q=m[1],J=qt(ae,y,F,q);J!==void 0&&(ve==null||ve(W({},J.data,{color:J.color}),M))}}),[y,ve,ae]);return c.jsx("canvas",{ref:la(le,oe),width:ie*re,height:he*re,style:{width:ie,height:he,cursor:ce?"auto":"normal"},onMouseEnter:ce?pt:void 0,onMouseMove:ce?pt:void 0,onMouseLeave:ce?ot:void 0,onClick:ce?lt:void 0})},ci=C.forwardRef((function(e,a){var i=e.isInteractive,n=e.renderWrapper,t=e.theme,r=bt(e,di);return c.jsx(vn,{isInteractive:i,renderWrapper:n,theme:t,animate:!1,children:c.jsx(si,W({},r,{forwardedRef:a}))})})),gi=C.forwardRef((function(e,a){return c.jsx(bn,{children:function(i){var n=i.width,t=i.height;return c.jsx(ui,W({width:n,height:t},e,{ref:a}))}})}));C.forwardRef((function(e,a){return c.jsx(bn,{children:function(i){var n=i.width,t=i.height;return c.jsx(ci,W({width:n,height:t},e,{ref:a}))}})}));export{gi as X};
