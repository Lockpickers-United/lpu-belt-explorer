import{O as I,P as y,Q as A,U as _,u as T,r as s,F as M,j as n,J as W,I as P,B as b,ae as w}from"./index-B8E85zL1.js";import{D as H}from"./DataContext-7SkxRdKm.js";import"./index-BRXGNSEQ.js";import{F as V,I as z,S as $}from"./Select-DVck4GN2.js";import{B as G}from"./Box-CO7BM-hB.js";import{C as J}from"./Chip-CKqQZ20t.js";const d={safelocksOwn:"Own",safelockCracked:"Cracked",safelockWishlist:"Wishlist",shippingSplit:"Shipping included",shippingNotSplit:"Winner may pay shipping"};var c={},j;function L(){if(j)return c;j=1;var i=I();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=i(y()),o=A();return c.default=(0,e.default)((0,o.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll"),c}var Q=L();const U=_(Q);function le({forceText:i}){const{isMobile:e}=T(),{filterCount:o,clearFilters:u}=s.useContext(M);return o===0?null:e&&!i?n.jsx(W,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:n.jsx(P,{onClick:u,children:n.jsx(U,{})})}):n.jsx(b,{variant:"outlined",color:"inherit",onClick:u,style:{minWidth:120,marginRight:8},children:"ClearÂ Filters"})}function ie({label:i,fieldName:e,onFilter:o,sort:u,tab:f}){const{visibleEntries:m}=s.useContext(H),{filters:S}=s.useContext(M),C=s.useMemo(()=>f==="search"||!f?m:m.filter(t=>t.simpleBelt===f),[f,m]),[E,h]=s.useState(!1),k=s.useCallback(t=>{h(!1),setTimeout(()=>o(e,t.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[e,o]),v=s.useCallback(()=>{h(!1),setTimeout(()=>document.activeElement.blur())},[]),q=s.useCallback(()=>h(!0),[]),{counts:B,options:R}=s.useMemo(()=>{const t=C.map(r=>r[e]).flat().filter(r=>r),a=t.reduce((r,l)=>(r[l]||(r[l]=0),r[l]++,r),{}),O=[...new Set(t)].sort((r,l)=>{if(u)return u(r,l);if(typeof r=="string"&&typeof l=="string")return r.localeCompare(l);if(Number.isInteger(r)&&Number.isInteger(l))return r-l});return{counts:a,options:O}},[C,e,u]),g=s.useDeferredValue(S),x=g[e],D=Array.isArray(x)?g[e]:x?[x]:[];return n.jsxs(V,{style:{minWidth:120,maxWidth:300,marginTop:8},fullWidth:!0,children:[n.jsx(z,{id:`filter-${e}`,color:"secondary",children:i}),n.jsx($,{multiple:!0,label:i,labelId:`filter-${e}`,value:D,onChange:k,style:{marginBottom:0},color:"secondary",open:E,onClose:v,onOpen:q,onBlur:v,MenuProps:{PaperProps:{style:{maxHeight:K*8+X}}},renderValue:t=>n.jsx(G,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(a=>n.jsx(J,{label:d[a]?d[a]:a},a))}),children:R.map((t,a)=>n.jsx(w,{value:t,children:d[t]?d[t]:t+` (${B[t]||0})`},a))})]})}const K=48,X=8;var p={},F;function Y(){if(F)return p;F=1;var i=I();Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var e=i(y()),o=A();return p.default=(0,e.default)((0,o.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),p}var Z=Y();const oe=_(Z);export{le as C,oe as F,ie as a,d as f};
