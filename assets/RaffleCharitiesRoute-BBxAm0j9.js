import{r,F as T,j as e,u as w,L as k,R as F,e as L,N as A,h as z,T as U}from"./index-DmE7cyma.js";import{c as B}from"./filterFields-DBZbfZwv.js";import{u as E}from"./usePageTitle-C3tS1R4X.js";import{a as W}from"./filterEntriesAdvanced-BJlux3Xz.js";import{D as N}from"./DataContext-DqGjzQ70.js";import{r as I}from"./index-BpwLclf_.js";import{R as D}from"./RaffleContext-D-LR3Cxn.js";import{f as P}from"./filterEntries-BBFZIbGW.js";import{N as M}from"./NoEntriesCard-B40FLadE.js";import{R as H}from"./RaffleSearchBar-Bb3LPw9H.js";import{R as $}from"./RaffleHiddenDialog-BYA7sQqn.js";import{D as q}from"./DataTableSort-D6CZ1HCS.js";import{R as G}from"./RaffleHeader-lOgZC0fD.js";import{A as K}from"./AdminToolsButton-CdoOTUvX.js";import"./useData-CBMicfRe.js";import"./dataUrls-CThgH6Wi.js";import"./setDeep-J6HEwWhX.js";import"./LockListContext-9_RA9gdX.js";import"./entryName-ChIjDb-x.js";import"./SearchBox-CHDLvBPY.js";import"./Search-C9t7bZ-b.js";import"./useFormControl-COT2MOVX.js";import"./Select-BWYGx74i.js";import"./Sort-D3lirDgM.js";import"./TextField-Qw7-_HSE.js";import"./ViewFilterButtons-7qcRXj1F.js";import"./FilterAlt-4oSMWyMN.js";import"./HighlightOff-DRErqab1.js";import"./Box-DY3mJfwK.js";import"./ToggleButtonGroup-DuJOG0l_.js";import"./AddCircle-Bshe_ONU.js";import"./Cancel-DNM51vHy.js";import"./Dialog-CtAhy7sA.js";import"./ArrowDropDown-p4SXZDvF.js";import"./TableRow-CAMg6ruF.js";import"./Cached-DgJSficu.js";import"./ExpandMore-DCGl5fo-.js";import"./CircularProgress-BAdgRuY6.js";import"./index-xsH4HHeE.js";import"./AccordionSummary-BNszCNOX.js";import"./Collapse-BJ3Syhu3.js";import"./EmojiEvents-CSoNHypc.js";function O({children:o}){const{filters:a}=r.useContext(T),{search:n,id:m,tab:j,name:R,sort:p,image:g,...d}=a,{allCharities:l}=r.useContext(D),f=r.useMemo(()=>{const C=P(d,l),x=n?W.go(I(n),C,{keys:V,threshold:-25e3}).map(i=>({...i.obj,score:i.score})):C;return p?x.sort((i,c)=>p==="potName"?i.title.localeCompare(c.title):p==="contributedBy"?i.contributedBy[0].localeCompare(c.contributedBy[0]):i.potNumber<c.potNumber):x},[l,d,n,p]),h=r.useMemo(()=>({allCharities:l,visibleEntries:f}),[l,f]);return e.jsx(N.Provider,{value:h,children:o})}const V=["fuzzy"];function _(){const{visibleEntries:o}=r.useContext(N),{raflState:a}=r.useContext(D),n=r.useCallback(t=>{const s=window.open(t,"_blank","noopener,noreferrer");s&&(s.opener=null)},[]),{isMobile:m}=w(),j=a==="live"?"So Far":"Donations",R=m?"2025":"2025 Contributions",p=m?"2026":`2026 ${j}`,g=r.useCallback(t=>{var b;let u=t!=null&&t.name?t==null?void 0:t.name.substring(0,99):"unknown";return((b=t==null?void 0:t.name)==null?void 0:b.length)<99?u:u+"..."},[m]);let d=0,l=0,f=0;const h=o.map(t=>(d+=t.donations2024||0,l+=t.donations2025||0,f+=t.donations||0,{...t,displayName:g(t)})),C={displayName:"TOTAL",donations2024:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:5}).format(d),donations2025:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:5}).format(l),donations:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:5}).format(f)},x=[{id:"displayName",align:"left",name:"Charity Name"},{id:"donations2025",name:R,align:"center",displayField:"donations2025text",descending:!0}];a!=="preview"&&x.push({id:"donations",name:p,align:"center",displayField:"donationsText",descending:!0});const i="displayName",c="100%",S={columns:x,rows:h,defaultSort:i,sortable:!0,wrap:!0},v=r.useCallback((t,s)=>{const u=o.find(y=>g(y)===s);if(!u)return s;const b=u.url||`https://www.google.com/search?q=${encodeURIComponent(u.name)}`;return t==="displayName"?e.jsx(k,{onClick:()=>n(b),style:{color:"#fff",fontWeight:700},children:s}):s},[n,g,o]);return e.jsxs(F.Fragment,{children:[e.jsxs("div",{style:{paddingBottom:32,width:c},children:[e.jsx(H,{label:"All Approved Charities",sortValues:null}),o.length===0?e.jsx(M,{label:"Charities"}):e.jsx(q,{tableData:S,tableWidth:c,linkFunction:v,totalsRow:C})]}),e.jsx($,{})]})}function Wt(){E("RAFL Charities");const{isMobile:o}=w(),a=o?8:0,n={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:a,paddingRight:a},m=e.jsxs(F.Fragment,{children:[!o&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(K,{})]});return e.jsx(L,{filterFields:B,children:e.jsx(O,{children:e.jsxs("div",{style:n,children:[e.jsx(A,{title:"RAFL Charities",extras:m}),e.jsx(G,{page:"charities"}),e.jsx(_,{}),e.jsx(z,{}),e.jsx(U,{feature:"raflCharities"})]})})})}export{Wt as default};
