import{r as l,F as z,j as e,u as R,R as C,e as F,N as T,h as W,T as L}from"./index-4b19e28c.js";import{r as N}from"./filterFields-b60f8c88.js";import{u as B}from"./usePageTitle-4710d8d5.js";import{f as D,D as A}from"./DataContext-6b465683.js";import{r as H}from"./index-f3ef1e36.js";import{R as S,A as M}from"./AdminRoleButton-1134c933.js";import{N as P}from"./NoEntriesCard-08e8ead8.js";import{L as j}from"./Link-f5cb23c8.js";import{a as k,b as g,c as E,d as I,T as U,e as G}from"./TableRow-36b37380.js";import{R as _}from"./RaffleSearchBar-a1e9bde7.js";import{R as K}from"./RaffleHiddenDialog-28059a4c.js";import{R as O}from"./RaffleHeader-e5ff2b69.js";import{R as V}from"./ReportButton-0836a04d.js";import"./rankingRequestData-d3ef79e5.js";import"./useDocumentTitle-6012d8d7.js";import"./useData-fb55f71b.js";import"./dataUrls-88e95518.js";import"./setDeep-8470365e.js";import"./LockListContext-fd1439f7.js";import"./entryName-de945404.js";import"./SearchBox-9d0734ef.js";import"./Search-01e08c91.js";import"./Select-2c652167.js";import"./Sort-eb38e80d.js";import"./Chip-2454c42e.js";import"./TextField-df685919.js";import"./ViewFilterButtons-84a8cfee.js";import"./FilterAlt-f3271643.js";import"./Box-bbf7ea5e.js";import"./ToggleButtonGroup-99cba7d2.js";import"./Cancel-66ecd9a6.js";import"./Dialog-d05c7836.js";function $({children:t}){const{filters:s}=l.useContext(z),{search:c,id:p,tab:m,name:a,sort:o,image:u,...d}=s,{allCharities:f}=l.useContext(S),x=l.useMemo(()=>{const b=Object.keys(d).map(r=>{const i=d[r];return Array.isArray(i)?i.map(n=>({key:r,value:n})):{key:r,value:i}}).flat(),y=f.filter(r=>b.every(({key:i,value:n})=>Array.isArray(r[i])?r[i].includes(n):r[i]===n)).sort((r,i)=>r.fuzzy.localeCompare(i.fuzzy)),v=c?D.go(H(c),y,{keys:q,threshold:-25e3}).map(r=>({...r.obj,score:r.score})):y;return o?v.sort((r,i)=>o==="potName"?r.title.localeCompare(i.title):o==="contributedBy"?r.contributedBy[0].localeCompare(i.contributedBy[0]):r.potNumber<i.potNumber):v},[f,d,c,o]),w=l.useMemo(()=>({allCharities:f,visibleEntries:x}),[f,x]);return e.jsx(A.Provider,{value:w,children:t})}const q=["fuzzy"];function J({charity:t}){const{isMobile:s}=R(),{raflState:c,raffleAdminRole:p}=l.useContext(S),m=["live","post"].includes(c)||p,a=l.useCallback(f=>{const x=window.open(f,"_blank","noopener,noreferrer");x&&(x.opener=null)},[]),o=t.url?e.jsx(j,{onClick:()=>a(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),u=s?"0.95rem":"1.0rem",d=s?{fontSize:u,border:0,padding:"6px 10px"}:{fontSize:u,border:0,padding:"8px 16px"};return e.jsxs(k,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(g,{align:"left",style:d,children:o}),m&&e.jsxs(C.Fragment,{children:[e.jsx(g,{align:"center",style:d,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(g,{align:"center",style:d,children:t.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations)})]})]})}function Q({charities:t}){const{isMobile:s}=R(),c=s?{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:8}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:12},p=t?{borderBottom:"1px #555 solid"}:{},m=l.useCallback(a=>{const o=window.open(a,"_blank","noopener,noreferrer");o&&(o.opener=null)},[]);return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{...c,backgroundColor:"#333",minHeight:72,...p},children:[e.jsx("div",{style:{display:"flex",flexGrow:1,marginLeft:8,fontWeight:700,fontSize:"1.1rem"},children:"Los Angeles Wildfires"}),e.jsx("div",{style:{margin:"12px 20px 0px 8px"},children:"In light of the devastating wildfires in Los Angeles, we have added a number of California-based charities to our list of options. These vetted organizations are providing support to victims of the fires, their families, and the first-responders who are battling the blazes."})]}),e.jsx("div",{style:{padding:"16px 0px 0px 0px",backgroundColor:"#000"}}),t&&t.map(a=>e.jsx("div",{style:{margin:"0px 0px 0px 0px",padding:"3px 0px 2px 20px",backgroundColor:"#000"},children:a.url?e.jsx(j,{onClick:()=>m(a.url),style:{color:"#fff",fontWeight:500},children:a.name}):e.jsx("span",{style:{color:"#ddd"},children:a.name})},a.name)),e.jsx("div",{style:{padding:"24px 0px 0px 0px",backgroundColor:"#000"}})]})}function X(){const{visibleEntries:t}=l.useContext(A),{raflState:s,raffleAdminRole:c}=l.useContext(S),p=["live","post"].includes(s)||c,{isMobile:m}=R(),a=l.useRef(),[o,u]=l.useState("name"),d=l.useCallback(n=>{n!==o&&u(n)},[u,o]),f=t.sort((n,h)=>{switch(o){case"2024":return h.donations2024-n.donations2024;case"2025":return h.donations-n.donations;case"name":return n.name.localeCompare(h.name);default:return n.name.localeCompare(h.name)}}),x=f.filter(n=>n.tags.includes("Los Angeles Wildfires")),w={maxWidth:700,marginLeft:"auto",marginRight:"auto"},b=m?"0.9rem":"1.0rem",y=m?"10px 10px":"16px 16px",v=s==="live"?"Currently":"Contributions",r=m?"2024":"2024 Contributions",i=m?"2025":`2025 ${v}`;return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(Q,{charities:x}),e.jsx(_,{label:"All Approved Charities",sortValues:null}),t.length===0&&e.jsx(P,{label:"Charities"}),t.length>0&&e.jsx(E,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:a,children:e.jsxs(I,{stickyHeader:!0,style:w,children:[e.jsx(U,{children:e.jsxs(k,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:y},children:e.jsx(j,{onClick:()=>d("name"),style:{color:o==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),p&&e.jsxs(C.Fragment,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2024"),style:{color:o==="2024"?"#fff":"#ccc"},children:r})},"2024"),e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2025"),style:{color:o==="2025"?"#fff":"#ccc"},children:i})},"2025")]})]})}),e.jsx(G,{children:f.map((n,h)=>e.jsx(J,{charity:n},h))})]})})]}),e.jsx(K,{})]})}function Te(){B("RAFL Charities");const{isMobile:t}=R(),s=t?8:0,c={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:s,paddingRight:s},p=e.jsxs(C.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(V,{}),e.jsx(M,{})]});return e.jsx(F,{filterFields:N,children:e.jsx($,{children:e.jsxs("div",{style:c,children:[e.jsx(T,{title:"RAFL Charities",extras:p}),e.jsx(O,{page:"charities"}),e.jsx(X,{}),e.jsx(W,{}),e.jsx(L,{feature:"raflCharities"})]})})})}export{Te as default};
