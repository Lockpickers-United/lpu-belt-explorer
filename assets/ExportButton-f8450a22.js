import{j as e,a2 as Z,V as ee,W as k,an as se,T as J,aj as te,r as n,b as ae,J as w,I,O as D,P as W,K as y,R as C,ar as re,at as ne,au as oe,av as N,ag as ie,Y as g,M as _,B as U,ab as le,ac as E,am as $}from"./index-c4914b37.js";import{B as G}from"./BeltStripe-f09c2bdb.js";import{C as K}from"./EvidenceForm-ef46c67e.js";import{e as L}from"./entryName-68038afa.js";import{L as ce}from"./ListItem-2c2fd74c.js";import{d as de}from"./ExpandMore-1be464e8.js";import{F as h}from"./FieldValue-119fb371.js";import{B as Y}from"./BeltIcon-55625784.js";import{F as A}from"./InlineFilterDisplay-7943b38d.js";import{C as xe}from"./CopyLinkToEntryButton-a65ebfb3.js";import{C as pe}from"./CopyEntryTextButton-3ded1663.js";import{L as ue}from"./LockImageGallery-e97ee5fa.js";import{D as R}from"./DataContext-cc082900.js";import"./index-c62a72a6.js";import{A as me,a as he,b as fe}from"./AccordionSummary-f57a7725.js";import{M as P}from"./index-90a7e8f3.js";import{r as q}from"./index-9f8e848c.js";import{A as je}from"./AccordionActions-ab00d2d3.js";import{d as H,a as F,b as ve}from"./download-b1674e76.js";import{d as ge}from"./List-ee0dd680.js";import{d as be}from"./ContentCopy-d326e52b.js";function as({entries:s}){return e.jsxs(Z,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(ee,{dense:!0,style:{padding:0},children:s.map(t=>e.jsxs(ce,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(G,{value:t.belt}),e.jsx(k,{primary:L(t),primaryTypographyProps:{fontWeight:500},secondary:t.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(K,{id:t.id,dense:!0,exposed:!0})]},t.id))}),e.jsx(se,{}),e.jsx(J,{feature:"compact"})]})}function ke({belt:s}){const{danPoints:t}=te[s],l=t===1?"Point":t>=10?"Pts":"Points",d=` (${t} Dan ${l})`,p={textDecoration:"none",color:"#fff"};return t===0||s==="Unranked"?null:e.jsx("a",{style:p,href:"/#/dans",children:d})}function Ce({id:s,onExpand:t,entryId:l}){const{getEntryFromId:d}=n.useContext(R),p=n.useMemo(()=>d(s),[d,s]),u=ae(),i=n.useCallback(async()=>{u(`/locks?id=${s}`),t(s)},[s,u,t]),b=s===l?{border:"1px solid #777"}:{},c=s===l;return e.jsx(w,{title:p.version,arrow:!0,disableFocusListener:!0,children:e.jsx("span",{children:e.jsx(I,{onClick:i,style:b,disabled:c,children:e.jsx(Y,{value:p.belt,related:!0,disabled:c})})})})}var O={},we=W;Object.defineProperty(O,"__esModule",{value:!0});var Q=O.default=void 0,Se=we(D()),Me=e;Q=O.default=(0,Se.default)((0,Me.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint");function _e({entry:s}){const t=n.useCallback(async()=>{await navigator.clipboard.writeText(s.id),y("ID copied to clipboard.")},[s.id]);return e.jsx(w,{title:"Copy Entry Id",arrow:!0,disableFocusListener:!0,children:e.jsx(I,{onClick:t,children:e.jsx(Q,{color:"primary"})})})}var V={},Ee=W;Object.defineProperty(V,"__esModule",{value:!0});var X=V.default=void 0,$e=Ee(D()),ye=e;X=V.default=(0,$e.default)((0,ye.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");function Le({entry:s,nameType:t}){const l=n.useCallback(()=>{const p=L(s,t).replace(/[\s/]/g,"_").replace(/\W/g,""),u=`https://lpubelts.com/#/locks?tab=search&search=${s.id}&id=${s.id}&name=${p}`,i=window.open(u,"_blank","noopener,noreferrer");i&&(i.opener=null)},[s,t]);return e.jsx(w,{title:"Open Link to Entry in New Tab",arrow:!0,disableFocusListener:!0,children:e.jsx(I,{onClick:l,children:e.jsx(X,{color:"primary"})})})}function Ie({entry:s,expanded:t,onExpand:l}){var m,v,o,f,S;const{expandAll:d}=n.useContext(R),{userId:p}=re(),[u,i]=n.useState(!1),b={maxWidth:700,marginLeft:"auto",marginRight:"auto"},c=n.useRef(null),j=[...new Set([...s.relatedIds||[],...ne(s.id)])].sort((a,r)=>oe(N[a].belt,N[r].belt)||a.localeCompare(r)),T=n.useCallback((a,r)=>{l&&l(r?s.id:!1)},[s.id,l]);n.useEffect(()=>{if(t&&c&&!u&&!d){const r=window.innerWidth<=600?70:74,{id:x}=ie.parse(location.search),M=x===s.id;i(!0),setTimeout(()=>{window.scrollTo({left:0,top:c.current.offsetTop-r,behavior:M?"auto":"smooth"})},M?0:100)}else t||i(!1)},[t,s,u,d]);const B=n.useMemo(()=>{var a;return e.jsx(g,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(a=s.makeModels)==null?void 0:a.map(({make:r,model:x},M)=>e.jsx(_,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:r&&r!==x?`${r} ${x}`:x},M))})},[s.makeModels]);return e.jsxs(me,{expanded:t,onChange:T,style:b,ref:c,children:[e.jsxs(he,{expandIcon:e.jsx(de,{}),children:[e.jsx(G,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(h,{value:B,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(h,{name:"Version",value:e.jsx(_,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((m=s.lockingMechanisms)==null?void 0:m.length)>0&&e.jsx(h,{value:e.jsx(g,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(v=s.lockingMechanisms)==null?void 0:v.map((a,r)=>e.jsx(A,{value:a,field:"lockingMechanisms"},r))})})})]}),t&&e.jsxs(C.Fragment,{children:[e.jsxs(fe,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(g,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(h,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(C.Fragment,{children:[e.jsxs(_,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(ke,{belt:s.belt})]}),e.jsx(Y,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(K,{id:s.id,makeModels:s.makeModels})})]}),e.jsx(g,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!s.notes&&e.jsx(h,{name:"Notes",value:e.jsx(_,{component:"div",style:{marginTop:-16},children:e.jsx(P,{rehypePlugins:[[q,{target:"_blank"}]],children:s.notes})})})}),!!((o=s.features)!=null&&o.length)&&e.jsx(h,{name:"Features",value:e.jsx(g,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((a,r)=>e.jsx(A,{value:a,field:"features"},r))})}),(j==null?void 0:j.length)>1&&!p&&e.jsx(h,{name:"Other Versions",value:e.jsx(C.Fragment,{children:j.map(a=>e.jsx(Ce,{id:a,onExpand:l,entryId:s.id},a))})}),!!s.description&&e.jsx("div",{style:{margin:8},children:e.jsx(P,{rehypePlugins:[[q,{target:"_blank",rel:["nofollow","noopener","noreferrer"]}]],children:s.description})}),!!((f=s.media)!=null&&f.length)&&e.jsx(h,{value:e.jsx(ue,{entry:s})}),!!((S=s.links)!=null&&S.length)&&e.jsx(h,{name:"Links",value:e.jsx(g,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:a,url:r},x)=>e.jsx(U,{href:r,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:a},x))})})]}),e.jsx(je,{disableSpacing:!0,children:e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{flexGrow:1,justifyItems:"left"},children:[!d&&e.jsx(J,{feature:"lock",id:s.id}),e.jsx(_e,{entry:s}),e.jsx(Le,{entry:s})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(pe,{entry:s}),e.jsx(xe,{entry:s})]})]})})]})]})}const rs=C.memo(Ie,(s,t)=>s.entry.id===t.entry.id&&s.expanded===t.expanded&&s.onExpand===t.onExpand);var z={},Te=W;Object.defineProperty(z,"__esModule",{value:!0});var Be=z.default=void 0,Fe=Te(D()),De=e;Be=z.default=(0,Fe.default)((0,De.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function ns({text:s,entries:t}){const[l,d]=n.useState(null),p=!!l,u=n.useCallback(m=>d(m.currentTarget),[]),i=n.useCallback(()=>d(null),[]),{visibleEntries:b}=n.useContext(R),c=t||b,j=n.useCallback(()=>{const m=JSON.stringify(c);i(),H("lpubeltsdata.json",m),y("Current lock entries downloaded as lpubeltsdata.json")},[i,c]),T=n.useCallback(()=>{const v=c.map(o=>({id:o.id,make:o.makeModels.map(f=>f.make).join(","),model:o.makeModels.map(f=>f.model).join(","),version:o.version,belt:o.belt,name:L(o),versionText:o.version?" ("+o.version+")":""})).map(o=>"* "+o.name+o.versionText).join(`
`);i(),navigator.clipboard.writeText(v).then(),y("Current lock entries copied to clipboard.")},[i,c]),B=n.useCallback(()=>{const m=["id","name","version","belt"],v=c.map(a=>({id:a.id,make:a.makeModels.map(r=>r.make).join(","),model:a.makeModels.map(r=>r.model).join(","),version:a.version,belt:a.belt,name:L(a)})),o=m.join(","),f=v.map(a=>m.map(r=>a[r]).map(r=>{const x=`${r??""}`.replace(/"/g,'""');return/(\s|,|")/.test(x)?`"${x}"`:x}).join(",")).join(`
`),S=`${o}
${f}`;i(),H("lpubeltsdata.csv",S),y("Current lock entries downloaded as lpubeltsdata.csv")},[i,c]);return e.jsxs(C.Fragment,{children:[s?e.jsx(w,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(U,{variant:"outlined",size:"small",onClick:u,style:{color:"#ddd",borderColor:"#aaa"},startIcon:e.jsx(F,{}),children:"Export"})}):e.jsx(w,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(I,{onClick:u,children:e.jsx(F,{})})}),e.jsxs(le,{anchorEl:l,open:p,onClose:i,children:[!s&&e.jsxs(E,{disabled:!0,children:[e.jsx($,{children:e.jsx(F,{fontSize:"small"})}),e.jsx(k,{children:"Export"})]}),e.jsxs(E,{onClick:T,children:[e.jsx($,{children:e.jsx(be,{fontSize:"small"})}),e.jsx(k,{children:"Copy to clipboard"})]}),e.jsxs(E,{onClick:B,children:[e.jsx($,{children:e.jsx(ge,{fontSize:"small"})}),e.jsx(k,{children:"CSV"})]}),e.jsxs(E,{onClick:j,children:[e.jsx($,{children:e.jsx(ve,{fontSize:"small"})}),e.jsx(k,{children:"JSON"})]})]})]})}export{as as C,rs as E,ns as a,Be as d};
