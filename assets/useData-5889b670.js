import{j as o,R as x,r as e,e as w,B as y}from"./index-6e158227.js";import{l as L}from"./LPU-c3fa7122.js";import{L as E}from"./LinearProgress-ee2071e9.js";function k(){return o.jsxs(x.Fragment,{children:[o.jsx(E,{variant:"indeterminate",color:"secondary"}),o.jsx("img",{alt:"Loading",src:L,style:{marginLeft:"auto",marginRight:"auto",display:"block"}})]})}function P({url:s,urls:t,loadFn:r,noCache:n}){const[l,u]=e.useState(!0),[f,g]=e.useState(null),[d,p]=e.useState(!1),i=e.useCallback(async()=>{try{let a;if(s)a=await(await fetch(s,n?{cache:"no-store"}:{})).json();else if(t){a={};const m=Object.keys(t).map(async c=>{const h=n?{cache:"no-store"}:{},j=await fetch(t[c],h);a[c]=await j.json()});await Promise.all(m)}else r&&(a=await r());g(a),u(!1),p(!1)}catch(a){console.error("Error loading data.",a),w("Error loading data. Please reload the page.",{autoHideDuration:null,action:o.jsx(y,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),u(!1),p(!0)}},[s,t,r,n]);return e.useEffect(()=>{i()},[]),e.useMemo(()=>({loading:l,data:f,error:d,refresh:i}),[f,d,i,l])}export{k as L,P as u};
