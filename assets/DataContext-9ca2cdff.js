import{aJ as Le,aK as Ie,R as me}from"./index-339fbf5e.js";var ue={exports:{}};(function(re){((ae,Y)=>{re.exports?re.exports=Y():ae.fuzzysort=Y()})(Le,ae=>{var Y=(r,e)=>{if(!r||!e)return b;var a=se(r);M(e)||(e=E(e));var i=a.bitflags;return(i&e._bitflags)!==i?b:P(a,e)},_e=(r,e,a)=>{if(!r)return a!=null&&a.all?he(e,a):p;var i=se(r),v=i.bitflags,f=i.containsSpace,n=O((a==null?void 0:a.threshold)||0),s=(a==null?void 0:a.limit)||j,t=0,_=0,c=e.length;function y(G){t<s?(Q.add(G),++t):(++_,G._score>Q.peek()._score&&Q.replaceTop(G))}if(a!=null&&a.key)for(var L=a.key,g=0;g<c;++g){var m=e[g],o=H(m,L);if(o&&(M(o)||(o=E(o)),(v&o._bitflags)===v)){var x=P(i,o);x!==b&&(x._score<n||(x.obj=m,y(x)))}}else if(a!=null&&a.keys){var T=a.keys,k=T.length;e:for(var g=0;g<c;++g){var m=e[g];{for(var I=0,u=0;u<k;++u){var L=T[u],o=H(m,L);if(!o){R[u]=V;continue}M(o)||(o=E(o)),R[u]=o,I|=o._bitflags}if((v&I)!==v)continue}if(f)for(let h=0;h<i.spaceSearches.length;h++)z[h]=B;for(var u=0;u<k;++u){if(o=R[u],o===V){K[u]=V;continue}if(K[u]=P(i,o,!1,f),K[u]===b){K[u]=V;continue}if(f)for(let d=0;d<i.spaceSearches.length;d++){if(D[d]>-1e3&&z[d]>B){var S=(z[d]+D[d])/4;S>z[d]&&(z[d]=S)}D[d]>z[d]&&(z[d]=D[d])}}if(f){for(let h=0;h<i.spaceSearches.length;h++)if(z[h]===B)continue e}else{var l=!1;for(let h=0;h<k;h++)if(K[h]._score!==B){l=!0;break}if(!l)continue}var C=new fe(k);for(let h=0;h<k;h++)C[h]=K[h];if(f){var w=0;for(let h=0;h<i.spaceSearches.length;h++)w+=z[h]}else{var w=B;for(let d=0;d<k;d++){var x=C[d];if(x._score>-1e3&&w>B){var S=(w+x._score)/4;S>w&&(w=S)}x._score>w&&(w=x._score)}}if(C.obj=m,C._score=w,a!=null&&a.scoreFn){if(w=a.scoreFn(C),!w)continue;w=O(w),C._score=w}w<n||y(C)}}else for(var g=0;g<c;++g){var o=e[g];if(o&&(M(o)||(o=E(o)),(v&o._bitflags)===v)){var x=P(i,o);x!==b&&(x._score<n||y(x))}}if(t===0)return p;for(var F=new Array(t),g=t-1;g>=0;--g)F[g]=Q.poll();return F.total=t+_,F},ge=(r,e="<b>",a="</b>")=>{for(var i=typeof e=="function"?e:void 0,v=r.target,f=v.length,n=r.indexes,s="",t=0,_=0,c=!1,y=[],L=0;L<f;++L){var g=v[L];if(n[_]===L){if(++_,c||(c=!0,i?(y.push(s),s=""):s+=e),_===n.length){i?(s+=g,y.push(i(s,t++)),s="",y.push(v.substr(L+1))):s+=g+a+v.substr(L+1);break}}else c&&(c=!1,i?(y.push(i(s,t++)),s=""):s+=a);s+=g}return i?y:s},J=r=>{typeof r=="number"?r=""+r:typeof r!="string"&&(r="");var e=X(r);return ie(r,{_targetLower:e._lower,_targetLowerCodes:e.lowerCodes,_bitflags:e.bitflags})},oe=()=>{Z.clear(),U.clear()};class ne{get indexes(){return this._indexes.slice(0,this._indexes.len).sort((e,a)=>e-a)}set indexes(e){return this._indexes=e}highlight(e,a){return ge(this,e,a)}get score(){return ve(this._score)}set score(e){this._score=O(e)}}class fe extends Array{get score(){return ve(this._score)}set score(e){this._score=O(e)}}var ie=(r,e)=>{const a=new ne;return a.target=r,a.obj=e.obj??b,a._score=e._score??B,a._indexes=e._indexes??[],a._targetLower=e._targetLower??"",a._targetLowerCodes=e._targetLowerCodes??b,a._nextBeginningIndexes=e._nextBeginningIndexes??b,a._bitflags=e._bitflags??0,a},ve=r=>r===B?0:r>1?r:Math.E**(((-r+1)**.04307-1)*-2),O=r=>r===0?B:r>1?r:1-Math.pow(Math.log(r)/-2+1,1/.04307),te=r=>{typeof r=="number"?r=""+r:typeof r!="string"&&(r=""),r=r.trim();var e=X(r),a=[];if(e.containsSpace){var i=r.split(/\s+/);i=[...new Set(i)];for(var v=0;v<i.length;v++)if(i[v]!==""){var f=X(i[v]);a.push({lowerCodes:f.lowerCodes,_lower:i[v].toLowerCase(),containsSpace:!1})}}return{lowerCodes:e.lowerCodes,_lower:e._lower,containsSpace:e.containsSpace,bitflags:e.bitflags,spaceSearches:a}},E=r=>{if(r.length>999)return J(r);var e=Z.get(r);return e!==void 0||(e=J(r),Z.set(r,e)),e},se=r=>{if(r.length>999)return te(r);var e=U.get(r);return e!==void 0||(e=te(r),U.set(r,e)),e},he=(r,e)=>{var a=[];a.total=r.length;var i=(e==null?void 0:e.limit)||j;if(e!=null&&e.key)for(var v=0;v<r.length;v++){var f=r[v],n=H(f,e.key);if(n!=b){M(n)||(n=E(n));var s=ie(n.target,{_score:n._score,obj:f});if(a.push(s),a.length>=i)return a}}else if(e!=null&&e.keys)for(var v=0;v<r.length;v++){for(var f=r[v],t=new fe(e.keys.length),_=e.keys.length-1;_>=0;--_){var n=H(f,e.keys[_]);if(!n){t[_]=V;continue}M(n)||(n=E(n)),n._score=B,n._indexes.len=0,t[_]=n}if(t.obj=f,t._score=B,a.push(t),a.length>=i)return a}else for(var v=0;v<r.length;v++){var n=r[v];if(n!=b&&(M(n)||(n=E(n)),n._score=B,n._indexes.len=0,a.push(n),a.length>=i))return a}return a},P=(r,e,a=!1,i=!1)=>{if(a===!1&&r.containsSpace)return xe(r,e,i);for(var v=r._lower,f=r.lowerCodes,n=f[0],s=e._targetLowerCodes,t=f.length,_=s.length,g=0,c=0,y=0;;){var L=n===s[c];if(L){if(N[y++]=c,++g,g===t)break;n=f[g]}if(++c,c>=_)return b}var g=0,m=!1,o=0,x=e._nextBeginningIndexes;x===b&&(x=e._nextBeginningIndexes=we(e.target)),c=N[0]===0?0:x[N[0]-1];var T=0;if(c!==_)for(;;)if(c>=_){if(g<=0||(++T,T>200))break;--g;var k=$[--o];c=x[k]}else{var L=f[g]===s[c];if(L){if($[o++]=c,++g,g===t){m=!0;break}++c}else c=x[c]}var I=t<=1?-1:e._targetLower.indexOf(v,N[0]),u=!!~I,S=u?I===0||e._nextBeginningIndexes[I-1]===I:!1;if(u&&!S){for(var l=0;l<x.length;l=x[l])if(!(l<=I)){for(var C=0;C<t&&f[C]===e._targetLowerCodes[l+C];C++);if(C===t){I=l,S=!0;break}}}var w=h=>{for(var d=0,ce=0,A=1;A<t;++A)h[A]-h[A-1]!==1&&(d-=h[A],++ce);var Se=h[t-1]-h[0]-(t-1);if(d-=(12+Se)*ce,h[0]!==0&&(d-=h[0]*h[0]*.2),!m)d*=1e3;else{for(var ee=1,A=x[0];A<_;A=x[A])++ee;ee>24&&(d*=(ee-24)*10)}return d-=(_-t)/2,u&&(d/=1+t*t*1),S&&(d/=1+t*t*1),d-=(_-t)/2,d};if(m)if(S){for(var l=0;l<t;++l)N[l]=I+l;var F=N,G=w(N)}else var F=$,G=w($);else{if(u)for(var l=0;l<t;++l)N[l]=I+l;var F=N,G=w(F)}e._score=G;for(var l=0;l<t;++l)e._indexes[l]=F[l];e._indexes.len=t;const W=new ne;return W.target=e.target,W._score=e._score,W._indexes=e._indexes,W},xe=(r,e,a)=>{for(var i=new Set,v=0,f=b,n=0,s=r.spaceSearches,t=s.length,_=0,c=()=>{for(let S=_-1;S>=0;S--)e._nextBeginningIndexes[q[S*2+0]]=q[S*2+1]},y=!1,u=0;u<t;++u){D[u]=B;var L=s[u];if(f=P(L,e),a){if(f===b)continue;y=!0}else if(f===b)return c(),b;var g=u===t-1;if(!g){var m=f._indexes,o=!0;for(let l=0;l<m.len-1;l++)if(m[l+1]-m[l]!==1){o=!1;break}if(o){var x=m[m.len-1]+1,T=e._nextBeginningIndexes[x-1];for(let l=x-1;l>=0&&T===e._nextBeginningIndexes[l];l--)e._nextBeginningIndexes[l]=x,q[_*2+0]=l,q[_*2+1]=T,_++}}v+=f._score/t,D[u]=f._score/t,f._indexes[0]<n&&(v-=(n-f._indexes[0])*2),n=f._indexes[0];for(var k=0;k<f._indexes.len;++k)i.add(f._indexes[k])}if(a&&!y)return b;c();var I=P(r,e,!0);if(I!==b&&I._score>v){if(a)for(var u=0;u<t;++u)D[u]=I._score/t;return I}a&&(f=e),f._score=v;var u=0;for(let S of i)f._indexes[u++]=S;return f._indexes.len=u,f},le=r=>r.replace(/\p{Script=Latin}+/gu,e=>e.normalize("NFD")).replace(/[\u0300-\u036f]/g,""),X=r=>{r=le(r);for(var e=r.length,a=r.toLowerCase(),i=[],v=0,f=!1,n=0;n<e;++n){var s=i[n]=a.charCodeAt(n);if(s===32){f=!0;continue}var t=s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31;v|=1<<t}return{lowerCodes:i,bitflags:v,containsSpace:f,_lower:a}},de=r=>{for(var e=r.length,a=[],i=0,v=!1,f=!1,n=0;n<e;++n){var s=r.charCodeAt(n),t=s>=65&&s<=90,_=t||s>=97&&s<=122||s>=48&&s<=57,c=t&&!v||!f||!_;v=t,f=_,c&&(a[i++]=n)}return a},we=r=>{r=le(r);for(var e=r.length,a=de(r),i=[],v=a[0],f=0,n=0;n<e;++n)v>n?i[n]=v:(v=a[++f],i[n]=v===void 0?e:v);return i},Z=new Map,U=new Map,N=[],$=[],q=[],z=[],D=[],R=[],K=[],H=(r,e)=>{var a=r[e];if(a!==void 0)return a;if(typeof e=="function")return e(r);var i=e;Array.isArray(e)||(i=e.split("."));for(var v=i.length,f=-1;r&&++f<v;)r=r[i[f]];return r},M=r=>typeof r=="object"&&typeof r._bitflags=="number",j=1/0,B=-j,p=[];p.total=0;var b=null,V=J(""),be=r=>{var e=[],a=0,i={},v=f=>{for(var n=0,s=e[n],t=1;t<a;){var _=t+1;n=t,_<a&&e[_]._score<e[t]._score&&(n=_),e[n-1>>1]=e[n],t=1+(n<<1)}for(var c=n-1>>1;n>0&&s._score<e[c]._score;c=(n=c)-1>>1)e[n]=e[c];e[n]=s};return i.add=f=>{var n=a;e[a++]=f;for(var s=n-1>>1;n>0&&f._score<e[s]._score;s=(n=s)-1>>1)e[n]=e[s];e[n]=f},i.poll=f=>{if(a!==0){var n=e[0];return e[0]=e[--a],v(),n}},i.peek=f=>{if(a!==0)return e[0]},i.replaceTop=f=>{e[0]=f,v()},i},Q=be();return{single:Y,go:_e,prepare:J,cleanup:oe}})})(ue);var ye=ue.exports;const Ce=Ie(ye),ke=me.createContext({});export{ke as D,Ce as f};
