import{r as h,d as n,j as t,R as j}from"./index-8a8e18d4.js";import{L}from"./LoadingDisplay-e92f9b52.js";import{u as g}from"./useData-f4893e7a.js";import{u as b}from"./usePageTitle-61fe284e.js";import{u as v}from"./useWindowSize-5c9db850.js";import{C as S,a as w,b as D,c as T,d as C,e as A,T as k}from"./TopLocks-7b4411b8.js";import{e as R}from"./dataUrls-29ba4993.js";import{A as W}from"./AdminStatsTable-87a39969.js";import"./LPU-c3fa7122.js";import"./LinearProgress-af6ca051.js";import"./useDocumentTitle-5e7ec7ef.js";import"./nivo-bar.es-77c4ef11.js";import"./nivo-legends.es-b69b84ef.js";import"./index-fb1e2536.js";import"./adminChartDefaults-e02caa29.js";import"./nivo-line.es-242e5dcf.js";import"./TableRow-169b3ebe.js";const z=({data:s})=>{const a=h.useMemo(()=>{const{dailyAwardsTableData:i}=s,r=i.data.map(e=>e.date),o=n(r.reduce((e,l)=>l>e?l:e)),m=n("2024-10-25"),p=o.subtract(14,"day")>m?o.subtract(14,"day"):m;return{title:"",columns:i.columns,data:i.data.filter(e=>n(e.date).isAfter(p))}},[s]),d="100%",c=".83rem";return t.jsx("div",{style:{width:"100%"},children:t.jsx(W,{tableData:a,tableWidth:d,fontSize:c})})};function X(){b("Collection Report");const{data:s,loading:a,error:d}=g({url:R}),c=a?"--":"(updated: "+n(s.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+` ${s.metadata.timezone})`,r=["listUsers","wishlistLocks","recordedLocks","pickedLocks","ownLocks"].reduce((u,x)=>{if(!s)return{};const f=s.dailyTableData.data.map(y=>({x:y.date,y:y[x]}));return u[x]={data:f,id:x},u},{}),{width:o}=v(),p=o<560?"8px 8px 32px 8px":"24px 24px 32px 24px",e={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},l={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return a?t.jsx(L,{}):d?null:t.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:p,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[t.jsxs("div",{style:l,children:["Collections Summary",t.jsx("br",{}),t.jsx("span",{style:{fontSize:"0.85rem"},children:c})]}),t.jsx(S,{data:s}),s.dailyAwardsTableData&&t.jsxs(j.Fragment,{children:[t.jsx("div",{style:e,children:"Awards Summary"}),t.jsx(z,{data:s})]}),t.jsx("div",{style:e,children:"List Users"}),t.jsx(w,{data:r}),t.jsx("div",{style:e,children:"List Locks by Date"}),t.jsx(D,{data:r}),t.jsx("div",{style:e,children:"Average Items Per List"}),t.jsx(T,{data:s}),t.jsx("div",{style:e,children:"List Saves by Belt Ranking"}),t.jsx(C,{data:s}),t.jsx("div",{style:e,children:"Last 14 Days"}),t.jsx(A,{data:s}),t.jsx("div",{style:e,children:"Top Locks"}),t.jsx(k,{data:s})]})}export{X as default};
