import{r as x,d as p,j as t,ao as f,u as g}from"./index-d98bdbe2.js";import{L as y}from"./LoadingDisplay-8d359cd1.js";import{u as j}from"./usePageTitle-259386f3.js";import{C,a as S,b as v,c as U,d as L,T as w}from"./TopLocks-9d75bdfa.js";import{A as T}from"./AdminStatsTable-f71d1363.js";import{a as h}from"./ReportsContext-9a16ec34.js";import{B as D}from"./nivo-bar.es-c5742bb4.js";import{p as A}from"./adminChartDefaults-e02caa29.js";import"./LPU-c3fa7122.js";import"./LinearProgress-dff41364.js";import"./useDocumentTitle-ee8fd281.js";import"./nivo-line.es-f596c995.js";import"./nivo-legends.es-76a6416d.js";import"./index-8181f985.js";import"./nivo-axes.es-808f2c72.js";import"./line-d03ba58b.js";import"./TableRow-f9cc6022.js";import"./dataUrls-fb4714fd.js";import"./useData-54c53f6a.js";const k=({cohort:o})=>{const{data:i}=x.useContext(h),{collectionStatsDaily:l}=i,r=x.useMemo(()=>{const c=l.dayData.map(s=>s.date),a=p(c.reduce((s,e)=>e>s?e:s)),n=p("2024-10-25"),u=a.subtract(14,"day")>n?a.subtract(14,"day"):n,b=l.dayData.filter(s=>p(s[o].date).isAfter(u)).map(s=>s[o]);return{title:"",columns:B,data:b}},[o,l]),d="100%",m=".83rem";return t.jsx("div",{style:{width:"100%"},children:t.jsx(T,{tableData:r,tableWidth:d,fontSize:m})})},B=[{align:"left",name:"Date",id:"date"},{id:"totalProfiles",name:"Total Users",align:"center"},{id:"importUsers",name:"Import Users",align:"center"},{id:"newImportUsers",align:"center",name:"New Import Users"},{id:"awardUsers",name:"Award Users",align:"center"},{name:"Total Awards",align:"center",id:"totalAwards"}],M=()=>{const{data:o}=x.useContext(h),{maxAwardCounts:i}=o.collectionsStatsCurrent.allUsers,l=f.map(e=>e.rank>19?null:{id:e.name,label:e.makeModels[0].model,count:i[e.id]||0,value:i[e.id]||0}).filter(e=>e),{width:r}=g(),d=r<=360,m=r<=395,c=r<=428,a=r<=820,n=d?180:m?190:c?200:a?240:260,u={top:0,right:20,bottom:80,left:50},b=["#d5d5d5","#d8d801","#ed7d01","#389700","#0090de","#634b9f","#9d5918","#ba0303","#1a1a1a","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12"],s=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000"];return t.jsx("div",{style:{height:n,width:"100%"},children:t.jsx(D,{data:l,margin:u,padding:.15,colors:e=>b[e.index%b.length],labelTextColor:e=>s[e.index%s.length],animate:!0,enableLabel:!0,labelSkipHeight:1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},enableTotals:!0,axisBottom:{tickRotation:-45},enableGridY:!1,theme:A,isInteractive:!1})})};function _(){j("Collection Report");const{data:o,loading:i,error:l}=x.useContext(h),r=i?"--":"(updated: "+p(o.collectionsStatsCurrent.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+" PST)",{width:d}=g(),c=d<560?"8px 8px 32px 8px":"24px 24px 32px 24px",a={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},n={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return i?t.jsx(y,{}):l?null:t.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:c,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[t.jsxs("div",{style:n,children:["Collections Summary",t.jsx("br",{}),t.jsx("span",{style:{fontSize:"0.85rem"},children:r})]}),t.jsx("div",{style:a,children:"List Users"}),t.jsx(C,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Average Items Per List"}),t.jsx(S,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"List Details"}),t.jsx(v,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Import & Awards Summary"}),t.jsx(k,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Import Users by Belt"}),t.jsx(M,{}),t.jsx("div",{style:a,children:"List Saves by Belt Ranking"}),t.jsx(U,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Last 14 Days"}),t.jsx(L,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Top Locks"}),t.jsx(w,{cohort:"allUsers"})]})}export{_ as default};
