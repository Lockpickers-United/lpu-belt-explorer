import{r as t,j as e,a3 as G,a4 as H,J as P,ai as Y,B as j,$ as S,R as W,G as w,X as q,Y as T,aj as J,A as K,V as X,aG as $,P as Q,aq as v,W as U,u as Z}from"./index-ce656f7f.js";import{L as E}from"./LockListContext-bf63fe79.js";import{F}from"./filterFields-3eda790a.js";import{B as O}from"./Badge-b378fdcf.js";import{F as _,C as ee}from"./SearchBox-8f259cc0.js";import{T as te,a as R}from"./ToggleButtonGroup-b566a499.js";import{B as A}from"./Box-841e7b0a.js";function ue({label:c,isSearch:h}){const{tab:x,setDisplayAll:p}=t.useContext(E),b=t.useDeferredValue(x),s={marginTop:16,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},i=b==="search",d=i&&!h?"No search or filter criteria selected.":e.jsxs("span",{children:["No matching ",c," were found.",e.jsx("br",{}),"Try adjusting filters, search, or tab."]}),u=t.useCallback(()=>{setTimeout(()=>p(!0),50)},[p]);return e.jsxs(G,{style:s,children:[e.jsx(H,{style:{paddingBottom:8},children:e.jsx(P,{variant:"h6",align:"center",children:d})}),i&&e.jsx(Y,{style:{paddingBottom:16},children:e.jsx(j,{variant:"outlined",color:"inherit",onClick:u,style:{minWidth:160,margin:"auto"},children:"View all locks"})})]})}function oe({sortValues:c}){const[h,x]=t.useState(null),p=!!h,b=t.useCallback(o=>x(o.currentTarget),[]),s=t.useCallback(()=>x(null),[]),{filters:i,addFilter:d}=t.useContext(F),{sort:u}=i,{compact:a,setCompact:C}=t.useContext(S),g=t.useCallback(o=>()=>{s(),C(o)},[s,C]),n=t.useCallback(o=>()=>{s(),setTimeout(()=>d("sort",o,!0),0)},[d,s]),r={vertical:"top",horizontal:"right"};return e.jsxs(W.Fragment,{children:[e.jsx(w,{title:"View Options",arrow:!0,disableFocusListener:!0,children:e.jsx(j,{color:"inherit",onClick:b,style:{color:"#ddd"},children:e.jsx(O,{variant:"dot",color:"secondary",invisible:!u,anchorOrigin:r,children:"VIEW"})})}),e.jsxs(q,{anchorEl:h,open:p,onClose:s,children:[e.jsx("div",{style:{marginLeft:5,padding:5,fontWeight:700},children:"SORT BY"}),c.map(({label:o,value:m})=>e.jsx(T,{onClick:n(m),selected:u===m,children:o},o)),e.jsx(J,{}),e.jsx("div",{style:{marginLeft:5,padding:5,fontWeight:700},children:"MODE"}),e.jsx(T,{onClick:g(!1),selected:!a,children:"Normal"}),e.jsx(T,{onClick:g(!0),selected:a,children:"Compact"})]})]})}function se({onFiltersChanged:c}){const{isLoggedIn:h}=t.useContext(K),{beta:x}=t.useContext(S),{filters:p,filterCount:b,addFilters:s,addFilter:i,filterFields:d,removeFilters:u}=t.useContext(F),{tab:a}=t.useContext(E),{belt:C}=p,g=/\/locks/.test(location.hash),n=t.useMemo(()=>a||C||"White",[C,a]),r=t.useMemo(()=>n!=="search"?"belt":"all",[n]),[o,m]=t.useState(n);n!==o&&n!=="search"?m(n):r==="belt"&&n==="search"&&m("search");const[f,k]=t.useState(!1),D=t.useCallback(()=>k(!f),[f]);X("f",D);const L=t.useCallback(l=>()=>{l==="all"?i("tab","search",!0):l==="belt"&&(u(["belt"]),i("tab",o,!0))},[i,o,u]),M=t.useCallback((l,B)=>{s([{key:l,value:B},{key:"id",value:void 0},{key:"name",value:void 0}],!0),c&&c()},[s,c]),V=t.useCallback(()=>k(!0),[]),y=t.useCallback(()=>k(!1),[]),{color:I,lineColor:N="#999"}=v[o]?v[o]:{color:"#inherit"},z=r==="belt"?1:.7;return e.jsxs(W.Fragment,{children:[e.jsx(w,{title:"Filter",arrow:!0,disableFocusListener:!0,children:e.jsx(j,{color:"inherit",onClick:V,style:{color:"#ddd"},children:e.jsx(O,{variant:"dot",badgeContent:b,color:"secondary",anchorOrigin:{vertical:"top",horizontal:"right"},children:"FILTER"})})}),f&&e.jsxs($,{anchor:"right",open:f,onClose:y,children:[e.jsx(Q,{variant:"dense",onClick:y,style:{padding:"8px 0px 0px 8px"},children:e.jsx("div",{style:{fontSize:"1.3rem",fontWeight:700},children:"Filters"})}),v[o]&&g&&e.jsx("div",{style:{marginLeft:8,marginBottom:8},children:e.jsxs(te,{variant:"outlined",children:[e.jsxs(R,{onClick:L("belt"),style:{color:r==="belt"?"#eee":"#777",backgroundColor:r==="belt"?"inherit":"#111",padding:"6px 12px",borderColor:"#666"},value:"belt",disabled:r==="belt",children:[e.jsx("div",{style:{backgroundColor:I,height:16,width:16,borderColor:N,borderRadius:8,border:"1px solid",marginRight:8,opacity:z}}),o," BELT"]},"belt"),e.jsx(R,{onClick:L("all"),style:{color:r==="all"?"#eee":"#777",backgroundColor:r==="all"?"inherit":"#111",padding:"6px 12px",borderColor:"#666"},value:"all",disabled:r==="all",children:"ALL LOCKS"},"all")]})}),e.jsx(A,{margin:1,children:e.jsx(U,{direction:"column",style:{minWidth:250},children:d.filter(l=>(!l.beta||x)&&(!l.userBased||h)).filter(l=>!(r==="belt"&&a!=="search"&&l.label==="Belt")).map((l,B)=>e.jsx(_,{tab:a,...l,onFilter:M},B))})}),e.jsxs("div",{style:{padding:8},children:[e.jsx(ee,{forceText:!0}),e.jsx(j,{variant:"outlined",color:"inherit",onClick:y,children:"Done"})]})]})]})}function he({sortValues:c,extraFilters:h=[]}){const{filters:x,filterCount:p,setFilters:b}=t.useContext(F),{tab:s,sort:i,search:d}=x,u=i||p>0,a=t.useCallback(()=>{b({tab:s,search:d})},[d,b,s]),{width:C}=Z(),g=C<=500,n=g?3:0,r=g?2:0,o=g?80:60;return e.jsxs(A,{style:{display:"flex",paddingTop:n,marginBottom:r,marginLeft:0,justifyContent:"center"},sx:{".MuiBadge-anchorOriginTopRightRectangular":{marginTop:"5px"},".MuiButton-root":{minWidth:o}},children:[e.jsx(oe,{sortValues:c}),e.jsx(se,{extraFilters:h}),u&&e.jsx(j,{color:"inherit",style:{color:"#bbb"},onClick:a,children:"RESET"})]})}export{ue as N,he as V};
