import{r as w,u as ne,j as s,aw as ie,L as re,U as oe}from"./index-CnIorFME.js";import{A as de,a as ce}from"./ArrowDropDown-ClzhRFN7.js";import{c as ae,d as le,T as pe,a as U,b as k,e as fe}from"./TableRow-XiniN71E.js";const ye=({tableData:o,tableWidth:S,tableHeight:A,linkFunction:F})=>{var N;const{rows:O,columns:c,defaultSort:a="name",sortable:P,wrap:q=!1}=o,[d,L]=w.useState(a),[y,C]=w.useState(!((N=o.columns.find(e=>e.id===a))!=null&&N.descending)),D=q?{whiteSpace:"inherit"}:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},G=w.useCallback(({rows:e,sort:n,defaultSort:t,ascending:l})=>{const b=(e||[]).slice(),T=b.find(i=>(i==null?void 0:i[n])!==void 0&&(i==null?void 0:i[n])!==null),te=typeof(T==null?void 0:T[n])==="number",B=(i,p,f,h)=>{const v=i==null?void 0:i[f],m=p==null?void 0:p[f];if(h){const E=Number(v??0),M=Number(m??0);return E<M?-1:E>M?1:0}const u=(v??"").toString(),r=(m??"").toString();return u.localeCompare(r,void 0,{sensitivity:"base"})};return b.sort((i,p)=>{var u;const f=B(i,p,n,te);if(f!==0)return l?f:-f;const h=b.find(r=>(r==null?void 0:r[t])!==void 0&&(r==null?void 0:r[t])!==null),v=typeof(h==null?void 0:h[t]),m=B(i,p,t,v==="number");return(u=c==null?void 0:c.find(r=>r.id===t))!=null&&u.descending?-m:m}),b},[c]),J=d||(c!=null&&c.find(e=>e.id===a)?a:"name"),R=G({rows:O,sort:J,defaultSort:a,ascending:y}),x=R.filter(e=>e[d]&&![0,"0"].includes(e[d])),K=R.filter(e=>!x.includes(e)),Q=d&&d!==a?[...x,...K]:R,j={columns:c,data:Q};j.columns.filter(e=>(e==null?void 0:e.id)&&(e==null?void 0:e.align));const[z,X]=w.useState(!1);o.columns.map(e=>(e==null?void 0:e.id)==="dateString"&&!z?X(!0):null),o.columns=z?o.columns.filter((e=>e.id!=="date")):o.columns;const H=w.useCallback(e=>{var n;if(e!==d){L(e);const t=!((n=o.columns.find(l=>l.id===e))!=null&&n.descending);C(t)}else C(!y)},[y,C,L,d,o]),Y=y?s.jsx(de,{}):s.jsx(ce,{}),{width:g}=ne(),Z=g<=360,_=g<=395,$=g<=428,V=g<=560,W=g<=820,I=Z?".8rem":_?".85rem":$?".9rem":".95rem",ee={left:14,center:0,right:0},se={left:0,center:0,right:20};return s.jsxs("div",{style:{width:S},children:[s.jsx("div",{style:{fontSize:"1.3rem",margin:"10px"},children:o.title}),s.jsx(ae,{id:"statsTable",style:{padding:"0px 0px 0px 4px",width:S,marginLeft:"auto",marginRight:"auto",height:A},component:ie,elevation:2,children:s.jsxs(le,{size:"small",stickyHeader:!!A,style:{width:S},children:[s.jsx(pe,{children:s.jsx(U,{style:{backgroundColor:"#111"},children:j.columns.map((e,n)=>s.jsx(k,{sx:{alignContent:"center",justifyItems:e.align,fontSize:I,lineHeight:"1.1rem",padding:"6px 2px",color:"#fff"},component:"th",scope:"row",children:P&&e.id!=="index"&&s.jsxs("div",{style:{display:"flex",marginLeft:n===0?10:20},children:[s.jsx(re,{onClick:()=>H(e.id),style:{color:d===e.id?"#fff":"#bbb",alignContent:"center"},children:s.jsx("nobr",{children:e.name})}),d===e.id?s.jsx(oe,{onClick:()=>H(e.id),style:{padding:0},children:Y}):s.jsx("div",{style:{width:24}})]})||s.jsx("div",{style:{display:"flex",marginLeft:n===0?10:20,marginRight:24},children:e.name})},n+1))})}),s.jsx(fe,{children:j.data.map((e,n)=>s.jsx(U,{index:n,sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:j.columns.map((t,l)=>t.id!=="spacer"?s.jsx(k,{sx:{...D,textAlign:t.align,fontSize:I,padding:"8px 2px",border:0,color:"#eee"},component:"th",scope:"row",children:s.jsx("div",{style:{textAlign:t.align,marginLeft:ee[t.align],marginRight:se[t.align]},children:F(t.id,e[t.id]?(e[t.displayField]||e[t.id]).toLocaleString():"")})},l+1):s.jsx(k,{style:{border:0}},l+1))},n))})]})})]})};export{ye as D};
