import{j as a,r as c,A as m,y as g,v as b,R as u}from"./index-2580bfdf.js";import{T as f}from"./Tracker-4e2548e9.js";import{G as y,H as v,J as T,K as w,d as C,T as k,N as L,F as D}from"./Nav-adbcdc61.js";import{T as R,a as j,b as s,c as N,d as E,e as H}from"./TableRow-5e60ed3d.js";import{L as _}from"./LinearProgress-d8dea6d7.js";function A(){const t={border:0,padding:"4px 12px",backgroundColor:"#000"};return a.jsx(R,{children:a.jsxs(j,{children:[a.jsx(s,{align:"center",style:t,children:"#"}),a.jsx(s,{style:{fontWeight:700,fontSize:"1.2rem",border:0,padding:"4px 16px 4px 0px",backgroundColor:"#000"},children:"Name"},"Display Name"),a.jsx(s,{align:"center",style:t,children:a.jsx(y,{})}),a.jsx(s,{align:"center",style:t,children:a.jsx(v,{})}),a.jsx(s,{align:"center",style:t,children:a.jsx(T,{})}),a.jsx(s,{align:"center",style:t,children:a.jsx(w,{})})]})})}function d({align:t="center",user:e,leader:o,value:i}){const{displayName:l,id:x}=o,h=(e==null?void 0:e.uid)===x,r=l?"#eee":"#bbb",n=h?{fontWeight:600,color:"#4db013"}:{fontWeight:500,color:r},p={color:r};return a.jsx(s,{align:t,sx:p,style:n,children:i})}function F({index:t,leader:e,user:o}){return a.jsxs(j,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#000"},"td, th":{padding:"6px 2px",border:0}},children:[a.jsx(d,{leader:e,user:o,value:t+1}),a.jsx(d,{leader:e,user:o,value:e.displayName||"Anonymous",align:"left"}),a.jsx(d,{leader:e,user:o,value:e.own}),a.jsx(d,{leader:e,user:o,value:e.picked}),a.jsx(d,{leader:e,user:o,value:e.recorded}),a.jsx(d,{leader:e,user:o,value:e.wishlist})]},e.id)}function S(){const{user:t}=c.useContext(m),[e,o]=c.useState({data:[],metadata:{}}),[i,l]=c.useState(!0);c.useEffect(()=>{const r=async()=>{const p=await(await fetch(M)).json();o(p),l(!1)};try{r()}catch(n){console.error("Error loading leaderboard data.",n),g("Error loading leaderboard data. Please reload the page.",{autoHideDuration:null,action:a.jsx(b,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),l(!1)}},[]);const x=i?"####-##-## ##:##":C(e.metadata.updatedDateTime).format("MM/DD/YY hh:mm"),h=i?W:e.data;return a.jsxs(u.Fragment,{children:[i&&a.jsx(_,{variant:"indeterminate",color:"secondary"}),a.jsxs("div",{style:{maxWidth:700,padding:8,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",marginTop:16},children:[a.jsx(N,{sx:{height:"78vh",backgroundColor:"#111"},children:a.jsxs(E,{stickyHeader:!0,children:[a.jsx(A,{}),a.jsx(H,{children:h.map((r,n)=>a.jsx(F,{index:n,leader:r,user:t},r.id))})]})}),a.jsxs(k,{variant:"caption",align:"right",component:"div",style:{width:"100%",marginTop:8},children:["Last updated: ",x," GMT"]}),a.jsx("img",{alt:"leaderboard",src:"https://images.lpubelts.com/i/leaderboard.gif",width:10,height:10}),a.jsx("br",{})]})]})}const W=[...Array(40)].map((t,e)=>({id:e,displayName:"........................",own:"---",picked:"---",recorded:"---",wishlist:"--"})),M="https://explore.lpubelts.com/leaderboard/leaderboardData.json";function Y(){return a.jsxs(u.Fragment,{children:[a.jsx(L,{title:"Collection Leaderboard"}),a.jsx(S,{}),a.jsx(D,{}),a.jsx(f,{feature:"leaderboard"})]})}export{Y as default};
