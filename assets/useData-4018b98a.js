import{r as a,H as m,j,B as x}from"./index-d5272593.js";function g({url:r,urls:t,loadFn:n,text:c}){const[l,i]=a.useState(!0),[u,p]=a.useState(null),[f,d]=a.useState(!1),s=a.useCallback(async()=>{try{i(!0);let e;if(r){const o=await fetch(r,{cache:"no-store"});e=c?await o.text():await o.json()}else if(t){e={};const o=Object.keys(t).map(async h=>{const w=await fetch(t[h],{cache:"no-store"});e[h]=c?await w.text():await w.json()});await Promise.all(o)}else n&&(e=await n());p(e),i(!1),d(!1)}catch(e){console.error("Error loading data.",e),m("Error loading data. Please reload the page.",{autoHideDuration:null,action:j.jsx(x,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),i(!1),d(!0)}},[r,t,n,c]);return a.useEffect(()=>{s().then()},[s]),a.useMemo(()=>({loading:l,data:u,error:f,refresh:s}),[u,f,s,l])}export{g as u};
