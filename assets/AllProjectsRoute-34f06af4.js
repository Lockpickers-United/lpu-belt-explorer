import{u as M,r as n,a2 as R,ag as Y,d,ah as N,j as e,R as y,N as w,F as A}from"./index-6b3915c1.js";import{u as z}from"./usePageTitle-f677ea35.js";import{L as E}from"./LeaderboardName-cb57cff6.js";import{C as O}from"./ChoiceButtonGroup-cda8e833.js";import{c as F,d as U,T as I,a as D,b as i,e as G}from"./TableRow-0131dddf.js";import{L as H}from"./Link-9801146b.js";import{u as _}from"./useData-efa41930.js";import{L as q}from"./LoadingDisplay-f3fd7a08.js";import"./useDocumentTitle-5a0341cc.js";import"./ToggleButtonGroup-e683650d.js";import"./Box-f0ba61d3.js";import"./CircularProgress-28ff75fd.js";function J({projects:o,updated:m}){const{isMobile:x}=M(),p=n.useMemo(()=>[{label:"All"},{label:"Scorecard Only"}],[]),[g,f]=n.useState(p[0]),P=n.useCallback(t=>f(t),[]),C=g.label==="Scorecard Only"?o.filter(t=>!t.tabName):o,[l,S]=R(),r=l.get("sort"),c=r&&r.includes("ev"),[h,j]=n.useState(!1),[a,b]=n.useState(!1),u=n.useCallback(t=>()=>{r&&t!==r?(l.set("sort",t),j(c?h:!1),b(c?!1:a)):r&&t===r?(j(c?h:!h),b(c?!a:a)):t==="date"?(l.set("sort",t),j(!0)):t==="evDate"?(l.set("sort",t),b(!0)):l.set("sort",t),S(l)},[c,a,h,l,S,r]),v=n.useMemo(()=>o.length>1&&r?C.sort((t,s)=>{if(r==="evName")return(t.displayName||"").localeCompare(s.displayName||"");if(r==="evLock")return t.evidenceName.localeCompare(s.evidenceName)||t.displayName.localeCompare(s.displayName);if(r==="evBelt")return Y(t.belt.replace(" Belt",""),s.belt.replace(" Belt",""))||t.displayName.localeCompare(s.displayName);if(r==="evDate")return d(s.date).valueOf()-d(t.date).valueOf()}):C.sort((t,s)=>d(s.date).valueOf()-d(t.date).valueOf()),[r,o,a]),T=n.useMemo(()=>a?v.reverse():v,[v,a]),k=x?"auto":"170px",L=x?16:20,W=n.useCallback(t=>{const s=t.replace(" Belt","");return N[s]?N[s].color:t.includes("Dan")?"#769e49":"#b00"},[]),B=n.useCallback(t=>{const s=window.open(t,"_blank","noopener,noreferrer");s&&(s.opener=null)},[]);return e.jsx(y.Fragment,{children:e.jsxs("div",{style:{justifyItems:"center",marginTop:40},children:[e.jsxs("div",{style:{fontWeight:700,fontSize:"1.2rem",width:"100%",textAlign:"center",margin:"20px 0px"},children:["Recent Projects",e.jsxs("div",{style:{fontWeight:400,fontSize:"0.9rem",width:"100%",textAlign:"center",margin:"0px 0px"},children:["Through ",d(m).format("MMM DD, YYYY")]})]}),e.jsx("div",{style:{marginBottom:20},children:e.jsx(O,{options:p,onChange:P})}),e.jsx(F,{sx:{backgroundColor:"#111",maxWidth:650},children:e.jsxs(U,{sx:{minWidth:360,align:"left"},children:[e.jsx(I,{children:e.jsxs(D,{children:[e.jsx(i,{align:"left",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"4px 0px 4px 16px",backgroundColor:"#222",width:k},children:e.jsx("span",{style:r==="evName"?{}:{cursor:"pointer",color:"#ccc"},onClick:u("evName"),children:"User"})}),e.jsxs(i,{align:"left",colSpan:2,style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:"0px 0px 0px 4px",backgroundColor:"#222"},children:[e.jsx("span",{style:r==="evLock"?{}:{cursor:"pointer",color:"#ccc"},onClick:u("evLock"),children:"Project"}),e.jsx("span",{style:r==="evBelt"?{}:{cursor:"pointer",color:"#ccc"},onClick:u("evBelt"),children:"Â (Tier)"})]}),e.jsx(i,{align:"center",style:{fontWeight:700,fontSize:"1.0rem",border:0,padding:0,backgroundColor:"#222"},children:e.jsx("span",{style:!c||r==="evDate"?{}:{cursor:"pointer",color:"#ccc"},onClick:u("evDate"),children:"Date"})})]})}),e.jsx(G,{children:T.map((t,s)=>e.jsxs(D,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#000"},"td, th":{padding:"6px 2px",border:0}},children:[e.jsx(i,{align:"left",style:{padding:"0px 0px 0px 16px"},children:e.jsx("span",{style:{fontWeight:500,width:k},children:e.jsx(E,{leader:t,isCurrentUser:t.isCurrentUser,tab:"blackBelts",maxLength:L})})}),e.jsx(i,{align:"left",style:{backgroundColor:W(t.belt),borderBottom:"1px solid #333",width:4,marginLeft:5}}),e.jsx(i,{align:"left",children:e.jsx("div",{style:{fontWeight:500,marginLeft:5},children:e.jsx(H,{onClick:()=>B(t.evidenceUrl),style:{color:"#fff"},children:t.evidenceName})})}),e.jsx(i,{align:"center",children:e.jsx("nobr",{children:d(t.date).format("MMM DD, YYYY")})})]},s))})]})})]})})}function ae(){var f;z("All Projects");const{data:o,loading:m,error:x}=_({url:K}),p=o?o==null?void 0:o.evidence:[],g=e.jsx(y.Fragment,{});return e.jsxs(y.Fragment,{children:[e.jsx(w,{title:"All Projects",extras:g}),(m||x)&&e.jsx(q,{}),!m&&p.length>0&&e.jsx(J,{projects:p,updated:(f=o==null?void 0:o.metadata)==null?void 0:f.updatedDateTime}),e.jsx(A,{})]})}const K="https://explore.lpubelts.com/data/allProjects.json";export{ae as default};
