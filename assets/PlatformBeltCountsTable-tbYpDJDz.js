import{u as y,r as T,j as e,a7 as k,ax as L}from"./index-BaQvk_ff.js";import{X as R}from"./nivo-bar-B4QToG08.js";import{b as W,p as w}from"./chartDefaults-pV7GKcxU.js";import{B as z}from"./BeltIcon-D4FOLUUi.js";import{c as D,d as P,T as O,a as B,b as j,e as A}from"./TableRow-Dt7xs9N3.js";const H=({beltDistribution:u})=>{const{isMobile:n}=y(),c=n?320:480,b=n?{top:0,right:45,bottom:40,left:60}:{top:0,right:5,bottom:40,left:60},h=n?15:20,x=-45;let o=[...W];o.pop(),o.reverse();const r=T.useCallback((a,d)=>{},[]);return e.jsx("div",{style:{height:c,width:"100%"},children:e.jsx(R,{data:u,keys:["Discord","Reddit"],indexBy:"belt",layout:"horizontal",reverse:!1,groupMode:"grouped",margin:b,background:"#fff",padding:.13,innerPadding:2,borderRadius:1,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:"auto",theme:{...w,background:"#000"},colors:o,colorBy:"indexValue",enableLabel:!1,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0},axisBottom:{tickRotation:x,format:".0%"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#333",size:1.3,padding:2,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#444",rotation:60,lineWidth:1,spacing:15},{id:"dotsLegend",type:"patternDots",background:"#ccc",color:"#333",size:1.3,padding:2,stagger:!0},{id:"linesLegend",type:"patternLines",background:"#ccc",color:"#444",rotation:60,lineWidth:1,spacing:10},{id:"plainLegend",type:"patternLines",background:"#ccc",color:"#ccc",rotation:-45,lineWidth:1,spacing:10}],fill:[{match:{id:"Reddit"},id:"dots"}],legends:[{dataFrom:"keys",itemTextColor:"#ccc",symbolShape:({x:a,y:d,size:p,borderWidth:i,borderColor:l,id:m})=>{const f=m==="Reddit"?"dotsLegend":"plainLegend";return e.jsx("g",{children:e.jsx("rect",{x:a,y:d,width:p,height:p,fill:`url(#${f})`,stroke:l,strokeWidth:i})})},anchor:"bottom-right",direction:"column",justify:!1,translateX:20,translateY:-40,itemsSpacing:8,itemWidth:90,itemHeight:h,itemDirection:"left-to-right",itemOpacity:1,symbolSize:h,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,isInteractive:!0,tooltip:({id:a,value:d,indexValue:p,color:i})=>e.jsxs("div",{style:{padding:12,background:"#444",display:"flex",alignItems:"center"},children:[e.jsx("div",{style:{width:15,height:15,background:i}}),e.jsxs("div",{style:{fontSize:12,marginLeft:10},children:[a," - ",p,": ",(d*100).toFixed(0)+"%"]})]}),onClick:(a,d)=>{r(a,d)}})})};function F({data:u}){const{discordBeltCounts:n,redditBeltCounts:c}=u,b=Object.keys(n).filter(i=>i.includes("Belt")).reduce((i,l)=>i+n[l],0),h=Object.keys(c).filter(i=>i.includes("Belt")).reduce((i,l)=>i+c[l],0),o=[...k].reverse().reduce((i,l)=>{const m=`${l} Belt`;return i.push({belt:l,Discord:n[m]/b,Reddit:c[m]/h,DiscordColor:"#38bcb2"}),i},[]),{isMobile:r}=y(),a=r?0:70,d=r?20:0,p=r?5:38;return e.jsxs("div",{style:{width:330,textAlign:"center",padding:"0px 0px 0px 0px",marginTop:d},children:[e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,textAlign:"center",marginBottom:p,paddingLeft:a},children:"Belt Percentages"}),e.jsx(H,{beltDistribution:o})]})}function N({data:u}){const{discordBeltCounts:n,redditBeltCounts:c}=u,b=Object.keys(n).filter(t=>t.includes("Belt")).reduce((t,s)=>t+n[s],0),h=Object.keys(c).filter(t=>t.includes("Belt")).reduce((t,s)=>t+c[s],0),x=k.reduce((t,s)=>{const g=`${s} Belt`;return t.push({belt:s,discord:n[g],reddit:c[g]}),t},[]);x.push({belt:"Total",discord:b,reddit:h});const o={columns:[{name:"Discord",align:"center",id:"discord"},{name:"Belt",align:"center",id:"belt"},{name:"Reddit",align:"center",id:"reddit"}],data:x},{width:r}=y(),a=r<=360,d=r<=395,p=r<=428,i=r<=560,l=r<=820,m=a?".8rem":d?".85rem":p?".9rem":".95rem",f=250,v={},S="nowrap";return e.jsxs("div",{style:{marginLeft:40,marginRight:40},children:[e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,textAlign:"center",marginBottom:5},children:"Belt Counts"}),o.title&&e.jsx("div",{style:{fontSize:"1.3rem",margin:"10px"},children:o.title}),e.jsx(D,{id:"statsTable",style:{padding:"0px 0px 0px 0px",width:f,marginLeft:"auto",marginRight:"auto",border:"1px solid #444"},component:L,elevation:2,children:e.jsxs(P,{size:"small",children:[e.jsx(O,{children:e.jsx(B,{children:o.columns.map((t,s)=>e.jsx(j,{sx:{textAlign:t==null?void 0:t.align,fontSize:m,lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:t.name},s+1))})}),e.jsx(A,{children:o.data.map((t,s)=>e.jsx(B,{index:s,sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:o.columns.map((g,C)=>e.jsx(j,{style:v,sx:{textAlign:g.align,fontSize:m,whiteSpace:S,padding:"8px",border:0,color:"#eee",justifyItems:"center",fontWeight:700},component:"th",scope:"row",children:g.id==="belt"&&t[g.id]!=="Total"?e.jsx(z,{value:t[g.id],style:{marginBottom:-10},containerStyle:{width:32,maxWidth:32,marginRight:"auto",marginLeft:"auto"}}):t[g.id]?t[g.id].toLocaleString():""},C+1))},s))})]})})]})}export{N as P,F as a};
