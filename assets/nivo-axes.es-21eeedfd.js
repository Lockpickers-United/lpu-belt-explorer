import{aJ as zn,r as N,j as P}from"./index-c4914b37.js";import{f as dr,i as fn,g as Bt,h as mr,r as ft,E as Xn,Z as It,m as xr,n as ct}from"./nivo-legends.es-ff5a0033.js";import{n as L,o as G,p as W,q as K,r as $n,s as Wt,v as Lt,w as st,x as yr,y as lt,z as qt,A as zt,B as Xt,C as Gt,D as Kt,E as vr,F as pr,G as br,H as Vt,I as Mr,J as wr,K as Jt,e as Qt,c as Zt,L as ne,i as te,M as kr,N as ee,O as Tr,h as Cr,P as re,Q as Sr,R as $r,S as Ar,a as Pr,b as Fr,T as Dr,U as Un,V as Er,W as Nr,k as rn,m as ie,u as Ur,X as Or}from"./_createSet-5359ad34.js";import{P as C}from"./index-8da7e6ec.js";function ae(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Gn(n){let t=n,e=n;n.length===1&&(t=(a,u)=>n(a)-u,e=_r(n));function r(a,u,f,c){for(f==null&&(f=0),c==null&&(c=a.length);f<c;){const l=f+c>>>1;e(a[l],u)<0?f=l+1:c=l}return f}function i(a,u,f,c){for(f==null&&(f=0),c==null&&(c=a.length);f<c;){const l=f+c>>>1;e(a[l],u)>0?c=l:f=l+1}return f}function o(a,u,f,c){f==null&&(f=0),c==null&&(c=a.length);const l=r(a,u,f,c-1);return l>f&&t(a[l-1],u)>-t(a[l],u)?l-1:l}return{left:r,center:o,right:i}}function _r(n){return(t,e)=>ae(n(t),e)}function Yr(n){return n===null?NaN:+n}const Rr=Gn(ae),jr=Rr.right;Gn(Yr).center;const Hr=jr;var On=Math.sqrt(50),_n=Math.sqrt(10),Yn=Math.sqrt(2);function Rn(n,t,e){var r,i=-1,o,a,u;if(t=+t,n=+n,e=+e,n===t&&e>0)return[n];if((r=t<n)&&(o=n,n=t,t=o),(u=oe(n,t,e))===0||!isFinite(u))return[];if(u>0){let f=Math.round(n/u),c=Math.round(t/u);for(f*u<n&&++f,c*u>t&&--c,a=new Array(o=c-f+1);++i<o;)a[i]=(f+i)*u}else{u=-u;let f=Math.round(n*u),c=Math.round(t*u);for(f/u<n&&++f,c/u>t&&--c,a=new Array(o=c-f+1);++i<o;)a[i]=(f+i)/u}return r&&a.reverse(),a}function oe(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=On?10:o>=_n?5:o>=Yn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=On?10:o>=_n?5:o>=Yn?2:1)}function jn(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=On?i*=10:o>=_n?i*=5:o>=Yn&&(i*=2),t<n?-i:i}function Br(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function Kn(){var n=dr().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,u=!1,f=0,c=0,l=.5;delete n.unknown;function g(){var s=t().length,h=i<r,d=h?i:r,m=h?r:i;o=(m-d)/Math.max(1,s-f+c*2),u&&(o=Math.floor(o)),d+=(m-d-o*(s-f))*l,a=o*(1-f),u&&(d=Math.round(d),a=Math.round(a));var x=Br(s).map(function(b){return d+o*b});return e(h?x.reverse():x)}return n.domain=function(s){return arguments.length?(t(s),g()):t()},n.range=function(s){return arguments.length?([r,i]=s,r=+r,i=+i,g()):[r,i]},n.rangeRound=function(s){return[r,i]=s,r=+r,i=+i,u=!0,g()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(s){return arguments.length?(u=!!s,g()):u},n.padding=function(s){return arguments.length?(f=Math.min(1,c=+s),g()):f},n.paddingInner=function(s){return arguments.length?(f=Math.min(1,s),g()):f},n.paddingOuter=function(s){return arguments.length?(c=+s,g()):c},n.align=function(s){return arguments.length?(l=Math.max(0,Math.min(1,s)),g()):l},n.copy=function(){return Kn(t(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(l)},fn.apply(g(),arguments)}function ue(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return ue(t())},n}function Ir(){return ue(Kn.apply(null,arguments).paddingInner(1))}function Vn(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function fe(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function gn(){}var cn=.7,mn=1/cn,an="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",H="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wr=/^#([0-9a-f]{3,8})$/,Lr=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),qr=new RegExp("^rgb\\("+[H,H,H]+"\\)$"),zr=new RegExp("^rgba\\("+[an,an,an,sn]+"\\)$"),Xr=new RegExp("^rgba\\("+[H,H,H,sn]+"\\)$"),Gr=new RegExp("^hsl\\("+[sn,H,H]+"\\)$"),Kr=new RegExp("^hsla\\("+[sn,H,H,sn]+"\\)$"),gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vn(gn,ln,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:ht,formatHex:ht,formatHsl:Vr,formatRgb:dt,toString:dt});function ht(){return this.rgb().formatHex()}function Vr(){return ce(this).formatHsl()}function dt(){return this.rgb().formatRgb()}function ln(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Wr.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?mt(t):e===3?new O(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?hn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?hn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lr.exec(n))?new O(t[1],t[2],t[3],1):(t=qr.exec(n))?new O(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zr.exec(n))?hn(t[1],t[2],t[3],t[4]):(t=Xr.exec(n))?hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gr.exec(n))?vt(t[1],t[2]/100,t[3]/100,1):(t=Kr.exec(n))?vt(t[1],t[2]/100,t[3]/100,t[4]):gt.hasOwnProperty(n)?mt(gt[n]):n==="transparent"?new O(NaN,NaN,NaN,0):null}function mt(n){return new O(n>>16&255,n>>8&255,n&255,1)}function hn(n,t,e,r){return r<=0&&(n=t=e=NaN),new O(n,t,e,r)}function Jr(n){return n instanceof gn||(n=ln(n)),n?(n=n.rgb(),new O(n.r,n.g,n.b,n.opacity)):new O}function Hn(n,t,e,r){return arguments.length===1?Jr(n):new O(n,t,e,r??1)}function O(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}Vn(O,Hn,fe(gn,{brighter:function(n){return n=n==null?mn:Math.pow(mn,n),new O(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?cn:Math.pow(cn,n),new O(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatRgb:yt,toString:yt}));function xt(){return"#"+An(this.r)+An(this.g)+An(this.b)}function yt(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function An(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function vt(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new j(n,t,e,r)}function ce(n){if(n instanceof j)return new j(n.h,n.s,n.l,n.opacity);if(n instanceof gn||(n=ln(n)),!n)return new j;if(n instanceof j)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(t===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-t)/u+2:a=(t-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new j(a,u,f,n.opacity)}function Qr(n,t,e,r){return arguments.length===1?ce(n):new j(n,t,e,r??1)}function j(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}Vn(j,Qr,fe(gn,{brighter:function(n){return n=n==null?mn:Math.pow(mn,n),new j(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?cn:Math.pow(cn,n),new j(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new O(Pn(n>=240?n-240:n+120,i,r),Pn(n,i,r),Pn(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function Pn(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Jn=n=>()=>n;function Zr(n,t){return function(e){return n+e*t}}function ni(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function ti(n){return(n=+n)==1?se:function(t,e){return e-t?ni(t,e,n):Jn(isNaN(t)?e:t)}}function se(n,t){var e=t-n;return e?Zr(n,e):Jn(isNaN(n)?t:n)}const pt=function n(t){var e=ti(t);function r(i,o){var a=e((i=Hn(i)).r,(o=Hn(o)).r),u=e(i.g,o.g),f=e(i.b,o.b),c=se(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=u(l),i.b=f(l),i.opacity=c(l),i+""}}return r.gamma=n,r}(1);function ei(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function ri(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ii(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Qn(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function ai(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function xn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function oi(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=Qn(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Bn.source,"g");function ui(n){return function(){return n}}function fi(n){return function(t){return n(t)+""}}function ci(n,t){var e=Bn.lastIndex=Fn.lastIndex=0,r,i,o,a=-1,u=[],f=[];for(n=n+"",t=t+"";(r=Bn.exec(n))&&(i=Fn.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,f.push({i:a,x:xn(r,i)})),e=Fn.lastIndex;return e<t.length&&(o=t.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?fi(f[0].x):ui(t):(t=f.length,function(c){for(var l=0,g;l<t;++l)u[(g=f[l]).i]=g.x(c);return u.join("")})}function Qn(n,t){var e=typeof t,r;return t==null||e==="boolean"?Jn(t):(e==="number"?xn:e==="string"?(r=ln(t))?(t=r,pt):ci:t instanceof ln?pt:t instanceof Date?ai:ri(t)?ei:Array.isArray(t)?ii:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oi:xn)(n,t)}function si(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function li(n){return function(){return n}}function gi(n){return+n}var bt=[0,1];function tn(n){return n}function In(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:li(isNaN(t)?NaN:.5)}function hi(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function di(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=In(i,r),o=e(a,o)):(r=In(r,i),o=e(o,a)),function(u){return o(r(u))}}function mi(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=In(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(u){var f=Hr(n,u,1,r)-1;return o[f](i[f](u))}}function kn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Zn(){var n=bt,t=bt,e=Qn,r,i,o,a=tn,u,f,c;function l(){var s=Math.min(n.length,t.length);return a!==tn&&(a=hi(n[0],n[s-1])),u=s>2?mi:di,f=c=null,g}function g(s){return s==null||isNaN(s=+s)?o:(f||(f=u(n.map(r),t,e)))(r(a(s)))}return g.invert=function(s){return a(i((c||(c=u(t,n.map(r),xn)))(s)))},g.domain=function(s){return arguments.length?(n=Array.from(s,gi),l()):n.slice()},g.range=function(s){return arguments.length?(t=Array.from(s),l()):t.slice()},g.rangeRound=function(s){return t=Array.from(s),e=si,l()},g.clamp=function(s){return arguments.length?(a=s?!0:tn,l()):a!==tn},g.interpolate=function(s){return arguments.length?(e=s,l()):e},g.unknown=function(s){return arguments.length?(o=s,g):o},function(s,h){return r=s,i=h,l()}}function le(){return Zn()(tn,tn)}function xi(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function yn(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function on(n){return n=yn(Math.abs(n)),n?n[1]:NaN}function yi(n,t){return function(e,r){for(var i=e.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(e.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(t)}}function vi(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var pi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vn(n){if(!(t=pi.exec(n)))throw new Error("invalid format: "+n);var t;return new nt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vn.prototype=nt.prototype;function nt(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}nt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bi(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var ge;function Mi(n,t){var e=yn(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(ge=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yn(n,Math.max(0,t+o-1))[0]}function Mt(n,t){var e=yn(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:xi,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Mt(n*100,t),r:Mt,s:Mi,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function kt(n){return n}var Tt=Array.prototype.map,Ct=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wi(n){var t=n.grouping===void 0||n.thousands===void 0?kt:yi(Tt.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?kt:vi(Tt.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",f=n.nan===void 0?"NaN":n.nan+"";function c(g){g=vn(g);var s=g.fill,h=g.align,d=g.sign,m=g.symbol,x=g.zero,b=g.width,p=g.comma,k=g.precision,T=g.trim,M=g.type;M==="n"?(p=!0,M="g"):wt[M]||(k===void 0&&(k=12),T=!0,M="g"),(x||s==="0"&&h==="=")&&(x=!0,s="0",h="=");var y=m==="$"?e:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",A=m==="$"?r:/[%p]/.test(M)?a:"",$=wt[M],q=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function Z(v){var D=y,S=A,_,B,R;if(M==="c")S=$(v)+S,v="";else{v=+v;var I=v<0||1/v<0;if(v=isNaN(v)?f:$(Math.abs(v),k),T&&(v=bi(v)),I&&+v==0&&d!=="+"&&(I=!1),D=(I?d==="("?d:u:d==="-"||d==="("?"":d)+D,S=(M==="s"?Ct[8+ge/3]:"")+S+(I&&d==="("?")":""),q){for(_=-1,B=v.length;++_<B;)if(R=v.charCodeAt(_),48>R||R>57){S=(R===46?i+v.slice(_+1):v.slice(_))+S,v=v.slice(0,_);break}}}p&&!x&&(v=t(v,1/0));var E=D.length+v.length+S.length,w=E<b?new Array(b-E+1).join(s):"";switch(p&&x&&(v=t(w+v,w.length?b-S.length:1/0),w=""),h){case"<":v=D+v+S+w;break;case"=":v=D+w+v+S;break;case"^":v=w.slice(0,E=w.length>>1)+D+v+S+w.slice(E);break;default:v=w+D+v+S;break}return o(v)}return Z.toString=function(){return g+""},Z}function l(g,s){var h=c((g=vn(g),g.type="f",g)),d=Math.max(-8,Math.min(8,Math.floor(on(s)/3)))*3,m=Math.pow(10,-d),x=Ct[8+d/3];return function(b){return h(m*b)+x}}return{format:c,formatPrefix:l}}var dn,tt,he;ki({thousands:",",grouping:[3],currency:["$",""]});function ki(n){return dn=wi(n),tt=dn.format,he=dn.formatPrefix,dn}function Ti(n){return Math.max(0,-on(Math.abs(n)))}function Ci(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(on(t)/3)))*3-on(Math.abs(n)))}function Si(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,on(t)-on(n))+1}function $i(n,t,e,r){var i=jn(n,t,e),o;switch(r=vn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=Ci(i,a))&&(r.precision=o),he(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Si(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ti(i))&&(r.precision=o-(r.type==="%")*2);break}}return tt(r)}function de(n){var t=n.domain;return n.ticks=function(e){var r=t();return Rn(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return $i(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],u=r[o],f,c,l=10;for(u<a&&(c=a,a=u,u=c,c=i,i=o,o=c);l-- >0;){if(c=oe(a,u,e),c===f)return r[i]=a,r[o]=u,t(r);if(c>0)a=Math.floor(a/c)*c,u=Math.ceil(u/c)*c;else if(c<0)a=Math.ceil(a*c)/c,u=Math.floor(u*c)/c;else break;f=c}return n},n}function me(){var n=le();return n.copy=function(){return kn(n,me())},fn.apply(n,arguments),de(n)}function xe(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function St(n){return Math.log(n)}function $t(n){return Math.exp(n)}function Ai(n){return-Math.log(-n)}function Pi(n){return-Math.exp(-n)}function Fi(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Di(n){return n===10?Fi:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}function Ei(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}function At(n){return function(t){return-n(-t)}}function Ni(n){var t=n(St,$t),e=t.domain,r=10,i,o;function a(){return i=Ei(r),o=Di(r),e()[0]<0?(i=At(i),o=At(o),n(Ai,Pi)):n(St,$t),t}return t.base=function(u){return arguments.length?(r=+u,a()):r},t.domain=function(u){return arguments.length?(e(u),a()):e()},t.ticks=function(u){var f=e(),c=f[0],l=f[f.length-1],g;(g=l<c)&&(s=c,c=l,l=s);var s=i(c),h=i(l),d,m,x,b=u==null?10:+u,p=[];if(!(r%1)&&h-s<b){if(s=Math.floor(s),h=Math.ceil(h),c>0){for(;s<=h;++s)for(m=1,d=o(s);m<r;++m)if(x=d*m,!(x<c)){if(x>l)break;p.push(x)}}else for(;s<=h;++s)for(m=r-1,d=o(s);m>=1;--m)if(x=d*m,!(x<c)){if(x>l)break;p.push(x)}p.length*2<b&&(p=Rn(c,l,b))}else p=Rn(s,h,Math.min(h-s,b)).map(o);return g?p.reverse():p},t.tickFormat=function(u,f){if(f==null&&(f=r===10?".0e":","),typeof f!="function"&&(f=tt(f)),u===1/0)return f;u==null&&(u=10);var c=Math.max(1,r*u/t.ticks().length);return function(l){var g=l/o(Math.round(i(l)));return g*r<r-.5&&(g*=r),g<=c?f(l):""}},t.nice=function(){return e(xe(e(),{floor:function(u){return o(Math.floor(i(u)))},ceil:function(u){return o(Math.ceil(i(u)))}}))},t}function ye(){var n=Ni(Zn()).domain([1,10]);return n.copy=function(){return kn(n,ye()).base(n.base())},fn.apply(n,arguments),n}function Pt(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function Ft(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Ui(n){var t=1,e=n(Pt(t),Ft(t));return e.constant=function(r){return arguments.length?n(Pt(t=+r),Ft(t)):t},de(e)}function ve(){var n=Ui(Zn());return n.copy=function(){return kn(n,ve()).constant(n.constant())},fn.apply(n,arguments)}var pn=L(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});pn.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?L(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):pn};const Oi=pn;pn.range;var pe=L(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*G)},function(n,t){return(t-n)/G},function(n){return n.getUTCSeconds()});const en=pe;pe.range;var be=L(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*G)},function(n,t){n.setTime(+n+t*W)},function(n,t){return(t-n)/W},function(n){return n.getMinutes()});const Me=be;be.range;var we=L(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*G-n.getMinutes()*W)},function(n,t){n.setTime(+n+t*K)},function(n,t){return(t-n)/K},function(n){return n.getHours()});const ke=we;we.range;var Te=L(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const Ce=Te;Te.range;var Se=L(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*W)},function(n,t){return(t-n)/W},function(n){return n.getUTCMinutes()});const $e=Se;Se.range;var Ae=L(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*K)},function(n,t){return(t-n)/K},function(n){return n.getUTCHours()});const Pe=Ae;Ae.range;var Fe=L(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const De=Fe;Fe.range;function Ee(n,t,e,r,i,o){const a=[[en,1,G],[en,5,5*G],[en,15,15*G],[en,30,30*G],[o,1,W],[o,5,5*W],[o,15,15*W],[o,30,30*W],[i,1,K],[i,3,3*K],[i,6,6*K],[i,12,12*K],[r,1,st],[r,2,2*st],[e,1,yr],[t,1,lt],[t,3,3*lt],[n,1,$n]];function u(c,l,g){const s=l<c;s&&([c,l]=[l,c]);const h=g&&typeof g.range=="function"?g:f(c,l,g),d=h?h.range(c,+l+1):[];return s?d.reverse():d}function f(c,l,g){const s=Math.abs(l-c)/g,h=Gn(([,,x])=>x).right(a,s);if(h===a.length)return n.every(jn(c/$n,l/$n,g));if(h===0)return Oi.every(Math.max(jn(c,l,g),1));const[d,m]=a[s/a[h-1][2]<a[h][2]/s?h-1:h];return d.every(m)}return[u,f]}const[_i,Yi]=Ee(Wt,De,zt,qt,Pe,$e),[Ri,ji]=Ee(Lt,Ce,Gt,Xt,ke,Me);function Hi(n){return new Date(n)}function Bi(n){return n instanceof Date?+n:+new Date(+n)}function et(n,t,e,r,i,o,a,u,f,c){var l=le(),g=l.invert,s=l.domain,h=c(".%L"),d=c(":%S"),m=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),p=c("%b %d"),k=c("%B"),T=c("%Y");function M(y){return(f(y)<y?h:u(y)<y?d:a(y)<y?m:o(y)<y?x:r(y)<y?i(y)<y?b:p:e(y)<y?k:T)(y)}return l.invert=function(y){return new Date(g(y))},l.domain=function(y){return arguments.length?s(Array.from(y,Bi)):s().map(Hi)},l.ticks=function(y){var A=s();return n(A[0],A[A.length-1],y??10)},l.tickFormat=function(y,A){return A==null?M:c(A)},l.nice=function(y){var A=s();return(!y||typeof y.range!="function")&&(y=t(A[0],A[A.length-1],y??10)),y?s(xe(A,y)):l},l.copy=function(){return kn(l,et(n,t,e,r,i,o,a,u,f,c))},l}function Ii(){return fn.apply(et(Ri,ji,Lt,Ce,Gt,Xt,ke,Me,en,Kt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wi(){return fn.apply(et(_i,Yi,Wt,De,zt,qt,Pe,$e,en,vr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var Li=pr,qi=Bt,zi=1,Xi=2;function Gi(n,t,e,r){var i=e.length,o=i,a=!r;if(n==null)return!o;for(n=Object(n);i--;){var u=e[i];if(a&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++i<o;){u=e[i];var f=u[0],c=n[f],l=u[1];if(a&&u[2]){if(c===void 0&&!(f in n))return!1}else{var g=new Li;if(r)var s=r(c,l,f,n,t,g);if(!(s===void 0?qi(l,c,zi|Xi,r,g):s))return!1}}return!0}var Ki=Gi,Vi=br;function Ji(n){return n===n&&!Vi(n)}var Ne=Ji,Qi=Ne,Zi=Vt;function na(n){for(var t=Zi(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,Qi(i)]}return t}var ta=na;function ea(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}var Ue=ea,ra=Ki,ia=ta,aa=Ue;function oa(n){var t=ia(n);return t.length==1&&t[0][2]?aa(t[0][0],t[0][1]):function(e){return e===n||ra(e,n,t)}}var ua=oa,fa=Bt,ca=Mr,sa=wr,la=Jt,ga=Ne,ha=Ue,da=Qt,ma=1,xa=2;function ya(n,t){return la(n)&&ga(t)?ha(da(n),t):function(e){var r=ca(e,n);return r===void 0&&r===t?sa(e,n):fa(t,r,ma|xa)}}var va=ya;function pa(n){return function(t){return t==null?void 0:t[n]}}var ba=pa,Ma=Zt;function wa(n){return function(t){return Ma(t,n)}}var ka=wa,Ta=ba,Ca=ka,Sa=Jt,$a=Qt;function Aa(n){return Sa(n)?Ta($a(n)):Ca(n)}var Pa=Aa,Fa=ua,Da=va,Ea=ne,Na=te,Ua=Pa;function Oa(n){return typeof n=="function"?n:n==null?Ea:typeof n=="object"?Na(n)?Da(n[0],n[1]):Fa(n):Ua(n)}var Oe=Oa,_a=Oe,Ya=mr;function Ra(n,t){return n&&n.length?Ya(n,_a(t)):[]}var ja=Ra;const Ha=zn(ja);var Ba=kr,Ia=Vt;function Wa(n,t){return n&&Ba(n,t,Ia)}var La=Wa,qa=ee;function za(n,t){return function(e,r){if(e==null)return e;if(!qa(e))return n(e,r);for(var i=e.length,o=t?i:-1,a=Object(e);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}var Xa=za,Ga=La,Ka=Xa,Va=Ka(Ga),Ja=Va,Qa=Ja,Za=ee;function no(n,t){var e=-1,r=Za(n)?Array(n.length):[];return Qa(n,function(i,o,a){r[++e]=t(i,o,a)}),r}var to=no;function eo(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}var ro=eo,Dt=Tr;function io(n,t){if(n!==t){var e=n!==void 0,r=n===null,i=n===n,o=Dt(n),a=t!==void 0,u=t===null,f=t===t,c=Dt(t);if(!u&&!c&&!o&&n>t||o&&a&&f&&!u&&!c||r&&a&&f||!e&&f||!i)return 1;if(!r&&!o&&!c&&n<t||c&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!f)return-1}return 0}var ao=io,oo=ao;function uo(n,t,e){for(var r=-1,i=n.criteria,o=t.criteria,a=i.length,u=e.length;++r<a;){var f=oo(i[r],o[r]);if(f){if(r>=u)return f;var c=e[r];return f*(c=="desc"?-1:1)}}return n.index-t.index}var fo=uo,Dn=Cr,co=Zt,so=Oe,lo=to,go=ro,ho=re,mo=fo,xo=ne,yo=te;function vo(n,t,e){t.length?t=Dn(t,function(o){return yo(o)?function(a){return co(a,o.length===1?o[0]:o)}:o}):t=[xo];var r=-1;t=Dn(t,ho(so));var i=lo(n,function(o,a,u){var f=Dn(t,function(c){return c(o)});return{criteria:f,index:++r,value:o}});return go(i,function(o,a){return mo(o,a,e)})}var po=vo,bo=$r,Mo=po,wo=Sr,Et=Ar,ko=wo(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Et(n,t[0],t[1])?t=[]:e>2&&Et(t[0],t[1],t[2])&&(t=[t[0]]),Mo(n,bo(t,1),[])}),To=ko;const Co=zn(To);var So=Pr,$o=Fr,Ao="[object Date]";function Po(n){return $o(n)&&So(n)==Ao}var Fo=Po,Do=Fo,Eo=re,Nt=Dr,Ut=Nt&&Nt.isDate,No=Ut?Eo(Ut):Do,Uo=No;const Oo=zn(Uo);var En=new Date,Nn=new Date;function F(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return n(o=new Date(+o)),o},i.ceil=function(o){return n(o=new Date(o-1)),t(o,1),n(o),o},i.round=function(o){var a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=function(o,a){return t(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,u){var f=[],c;if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;do f.push(c=new Date(+o)),t(o,u),n(o);while(c<o&&o<a);return f},i.filter=function(o){return F(function(a){if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},function(a,u){if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!o(a););else for(;--u>=0;)for(;t(a,1),!o(a););})},e&&(i.count=function(o,a){return En.setTime(+o),Nn.setTime(+a),n(En),n(Nn),Math.floor(e(En,Nn))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var bn=F(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});bn.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?F(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):bn};const Ot=bn;bn.range;var Mn=1e3,un=6e4,wn=36e5,_e=6048e5,Ye=F(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+t*Mn)},function(n,t){return(t-n)/Mn},function(n){return n.getUTCSeconds()});const _t=Ye;Ye.range;var Re=F(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*Mn)},function(n,t){n.setTime(+n+t*un)},function(n,t){return(t-n)/un},function(n){return n.getMinutes()});const _o=Re;Re.range;var je=F(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*Mn-n.getMinutes()*un)},function(n,t){n.setTime(+n+t*wn)},function(n,t){return(t-n)/wn},function(n){return n.getHours()});const Yo=je;je.range;function J(n){return F(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e*7)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*un)/_e})}var Wn=J(0),He=J(1),Be=J(2),Ie=J(3),We=J(4),Le=J(5),qe=J(6);Wn.range;He.range;Be.range;Ie.range;We.range;Le.range;qe.range;var ze=F(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()});const Ro=ze;ze.range;var rt=F(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});rt.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:F(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)})};const jo=rt;rt.range;var Xe=F(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*un)},function(n,t){return(t-n)/un},function(n){return n.getUTCMinutes()});const Ho=Xe;Xe.range;var Ge=F(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+t*wn)},function(n,t){return(t-n)/wn},function(n){return n.getUTCHours()});const Bo=Ge;Ge.range;function Q(n){return F(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e*7)},function(t,e){return(e-t)/_e})}var Ln=Q(0),Ke=Q(1),Ve=Q(2),Je=Q(3),Qe=Q(4),Ze=Q(5),nr=Q(6);Ln.range;Ke.range;Ve.range;Je.range;Qe.range;Ze.range;nr.range;var tr=F(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()});const Io=tr;tr.range;var it=F(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});it.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:F(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})};const Wo=it;it.range;function V(){return V=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},V.apply(this,arguments)}var nn=[function(n){return n.setMilliseconds(0)},function(n){return n.setSeconds(0)},function(n){return n.setMinutes(0)},function(n){return n.setHours(0)},function(n){return n.setDate(1)},function(n){return n.setMonth(0)}],Lo={millisecond:[],second:nn.slice(0,1),minute:nn.slice(0,2),hour:nn.slice(0,3),day:nn.slice(0,4),month:nn.slice(0,5),year:nn.slice(0,6)},qo=function(n){return function(t){return Lo[n].forEach(function(e){e(t)}),t}},er=function(n){var t=n.format,e=t===void 0?"native":t,r=n.precision,i=r===void 0?"millisecond":r,o=n.useUTC,a=o===void 0||o,u=qo(i);return function(f){if(f===void 0)return f;if(e==="native"||f instanceof Date)return u(f);var c=a?Er(e):Nr(e);return u(c(f))}},zo=function(n,t,e,r){var i,o,a,u,f=n.min,c=f===void 0?0:f,l=n.max,g=l===void 0?"auto":l,s=n.stacked,h=s!==void 0&&s,d=n.reverse,m=d!==void 0&&d,x=n.clamp,b=x!==void 0&&x,p=n.nice,k=p!==void 0&&p;c==="auto"?i=h===!0?(o=t.minStacked)!=null?o:0:t.min:i=c,g==="auto"?a=h===!0?(u=t.maxStacked)!=null?u:0:t.max:a=g;var T=me().rangeRound(r==="x"?[0,e]:[e,0]).domain(m?[a,i]:[i,a]).clamp(b);return k===!0?T.nice():typeof k=="number"&&T.nice(k),Xo(T,h)},Xo=function(n,t){t===void 0&&(t=!1);var e=n;return e.type="linear",e.stacked=t,e},Go=function(n,t,e){var r=Ir().range([0,e]).domain(t.all);return r.type="point",r},Ko=function(n,t,e,r){var i=n.round,o=i===void 0||i,a=Kn().range(r==="x"?[0,e]:[e,0]).domain(t.all).round(o);return Vo(a)},Vo=function(n){var t=n;return t.type="band",t},Jo=function(n,t,e){var r,i,o=n.format,a=o===void 0?"native":o,u=n.precision,f=u===void 0?"millisecond":u,c=n.min,l=c===void 0?"auto":c,g=n.max,s=g===void 0?"auto":g,h=n.useUTC,d=h===void 0||h,m=n.nice,x=m!==void 0&&m,b=er({format:a,precision:f,useUTC:d});r=l==="auto"?b(t.min):a!=="native"?b(l):l,i=s==="auto"?b(t.max):a!=="native"?b(s):s;var p=d?Wi():Ii();p.range([0,e]),r&&i&&p.domain([r,i]),x===!0?p.nice():typeof x!="object"&&typeof x!="number"||p.nice(x);var k=p;return k.type="time",k.useUTC=d,k},Qo=function(n,t,e,r){var i,o=n.base,a=o===void 0?10:o,u=n.min,f=u===void 0?"auto":u,c=n.max,l=c===void 0?"auto":c;if(t.all.some(function(m){return m===0}))throw new Error("a log scale domain must not include or cross zero");var g,s,h=!1;if(t.all.filter(function(m){return m!=null}).forEach(function(m){h||(i===void 0?i=Math.sign(m):Math.sign(m)!==i&&(h=!0))}),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");g=f==="auto"?t.min:f,s=l==="auto"?t.max:l;var d=ye().domain([g,s]).rangeRound(r==="x"?[0,e]:[e,0]).base(a).nice();return d.type="log",d},Zo=function(n,t,e,r){var i,o,a=n.constant,u=a===void 0?1:a,f=n.min,c=f===void 0?"auto":f,l=n.max,g=l===void 0?"auto":l,s=n.reverse,h=s!==void 0&&s;i=c==="auto"?t.min:c,o=g==="auto"?t.max:g;var d=ve().constant(u).rangeRound(r==="x"?[0,e]:[e,0]).nice();h===!0?d.domain([o,i]):d.domain([i,o]);var m=d;return m.type="symlog",m},nu=function(n){return n==="x"?"y":"x"},tu=function(n,t){return n===t},eu=function(n,t){return n.getTime()===t.getTime()};function Yt(n,t,e,r){switch(n.type){case"linear":return zo(n,t,e,r);case"point":return Go(n,t,e);case"band":return Ko(n,t,e,r);case"time":return Jo(n,t,e);case"log":return Qo(n,t,e,r);case"symlog":return Zo(n,t,e,r);default:throw new Error("invalid scale spec")}}var Rt=function(n,t,e){var r;if("stacked"in e&&e.stacked){var i=n.data[t==="x"?"xStacked":"yStacked"];return i==null?null:e(i)}return(r=e(n.data[t]))!=null?r:null},pu=function(n,t,e,r,i){var o=n.map(function(l){return function(g){return V({},g,{data:g.data.map(function(s){return{data:V({},s)}})})}(l)}),a=ru(o,t,e);"stacked"in t&&t.stacked===!0&&iu(a,o),"stacked"in e&&e.stacked===!0&&au(a,o);var u=Yt(t,a.x,r,"x"),f=Yt(e,a.y,i,"y"),c=o.map(function(l){return V({},l,{data:l.data.map(function(g){return V({},g,{position:{x:Rt(g,"x",u),y:Rt(g,"y",f)}})})})});return V({},a,{series:c,xScale:u,yScale:f})},ru=function(n,t,e){return{x:jt(n,"x",t),y:jt(n,"y",e)}},jt=function(n,t,e,r){var i=r===void 0?{}:r,o=i.getValue,a=o===void 0?function(d){return d.data[t]}:o,u=i.setValue,f=u===void 0?function(d,m){d.data[t]=m}:u;if(e.type==="linear")n.forEach(function(d){d.data.forEach(function(m){var x=a(m);x&&f(m,parseFloat(String(x)))})});else if(e.type==="time"&&e.format!=="native"){var c=er(e);n.forEach(function(d){d.data.forEach(function(m){var x=a(m);x&&f(m,c(x))})})}var l=[];switch(n.forEach(function(d){d.data.forEach(function(m){l.push(a(m))})}),e.type){case"linear":var g=Co(ft(l).filter(function(d){return d!==null}),function(d){return d});return{all:g,min:Math.min.apply(Math,g),max:Math.max.apply(Math,g)};case"time":var s=Ha(l,function(d){return d.getTime()}).slice(0).sort(function(d,m){return m.getTime()-d.getTime()}).reverse();return{all:s,min:s[0],max:Un(s)};default:var h=ft(l);return{all:h,min:h[0],max:Un(h)}}},rr=function(n,t,e){var r=nu(n),i=[];t[r].all.forEach(function(o){var a=Oo(o)?eu:tu,u=[];e.forEach(function(f){var c=f.data.find(function(h){return a(h.data[r],o)}),l=null,g=null;if(c!==void 0){if((l=c.data[n])!==null){var s=Un(u);s===void 0?g=l:s!==null&&(g=s+l)}c.data[n==="x"?"xStacked":"yStacked"]=g}u.push(g),g!==null&&i.push(g)})}),t[n].minStacked=Math.min.apply(Math,i),t[n].maxStacked=Math.max.apply(Math,i)},iu=function(n,t){return rr("x",n,t)},au=function(n,t){return rr("y",n,t)},ir=function(n){var t=n.bandwidth();if(t===0)return n;var e=t/2;return n.round()&&(e=Math.round(e)),function(r){var i;return((i=n(r))!=null?i:0)+e}},ar={millisecond:[Ot,Ot],second:[_t,_t],minute:[_o,Ho],hour:[Yo,Bo],day:[F(function(n){return n.setHours(0,0,0,0)},function(n,t){return n.setDate(n.getDate()+t)},function(n,t){return(t.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)}),F(function(n){return n.setUTCHours(0,0,0,0)},function(n,t){return n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t.getTime()-n.getTime())/864e5},function(n){return Math.floor(n.getTime()/864e5)})],week:[Wn,Ln],sunday:[Wn,Ln],monday:[He,Ke],tuesday:[Be,Ve],wednesday:[Ie,Je],thursday:[We,Qe],friday:[Le,Ze],saturday:[qe,nr],month:[Ro,Io],year:[jo,Wo]},ou=Object.keys(ar),uu=new RegExp("^every\\s*(\\d+)?\\s*("+ou.join("|")+")s?$","i"),or=function(n,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in n){var e=t.match(uu);if(e){var r=e[1],i=e[2],o=ar[i][n.useUTC?1:0];if(i==="day"){var a,u,f=n.domain(),c=f[0],l=f[1],g=new Date(l);return g.setDate(g.getDate()+1),(a=(u=o.every(Number(r??1)))==null?void 0:u.range(c,g))!=null?a:[]}if(r===void 0)return n.ticks(o);var s=o.every(Number(r));if(s)return n.ticks(s)}throw new Error("Invalid tickValues: "+t)}if("ticks"in n){if(t===void 0)return n.ticks();if(typeof(h=t)=="number"&&isFinite(h)&&Math.floor(h)===h)return n.ticks(t)}var h;return n.domain()};function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Y.apply(this,arguments)}var ur=function(n){var t,e=n.axis,r=n.scale,i=n.ticksPosition,o=n.tickValues,a=n.tickSize,u=n.tickPadding,f=n.tickRotation,c=n.truncateTickAt,l=n.engine,g=l===void 0?"svg":l,s=or(r,o),h=xr[g],d="bandwidth"in r?ir(r):r,m={lineX:0,lineY:0},x={textX:0,textY:0},b=typeof document=="object"&&document.dir==="rtl",p=h.align.center,k=h.baseline.center;return e==="x"?(t=function(T){var M;return{x:(M=d(T))!=null?M:0,y:0}},m.lineY=a*(i==="after"?1:-1),x.textY=(a+u)*(i==="after"?1:-1),k=i==="after"?h.baseline.top:h.baseline.bottom,f===0?p=h.align.center:i==="after"&&f<0||i==="before"&&f>0?(p=h.align[b?"left":"right"],k=h.baseline.center):(i==="after"&&f>0||i==="before"&&f<0)&&(p=h.align[b?"right":"left"],k=h.baseline.center)):(t=function(T){var M;return{x:0,y:(M=d(T))!=null?M:0}},m.lineX=a*(i==="after"?1:-1),x.textX=(a+u)*(i==="after"?1:-1),p=i==="after"?h.align.left:h.align.right),{ticks:s.map(function(T){var M=typeof T=="string"?function(y){var A=String(y).length;return c&&c>0&&A>c?""+String(y).slice(0,c).concat("..."):""+y}(T):T;return Y({key:T instanceof Date?""+T.valueOf():""+T,value:M},t(T),m,x)}),textAlign:p,textBaseline:k}},fr=function(n,t){if(n===void 0||typeof n=="function")return n;if(t.type==="time"){var e=Kt(n);return function(r){return e(r instanceof Date?r:new Date(r))}}return Or(n)},qn=function(n){var t,e=n.width,r=n.height,i=n.scale,o=n.axis,a=n.values,u=(t=a,(Array.isArray(t)?a:void 0)||or(i,a)),f="bandwidth"in i?ir(i):i,c=o==="x"?u.map(function(l){var g,s;return{key:l instanceof Date?""+l.valueOf():""+l,x1:(g=f(l))!=null?g:0,x2:(s=f(l))!=null?s:0,y1:0,y2:r}}):u.map(function(l){var g,s;return{key:l instanceof Date?""+l.valueOf():""+l,x1:0,x2:e,y1:(g=f(l))!=null?g:0,y2:(s=f(l))!=null?s:0}});return c},fu=N.memo(function(n){var t,e=n.value,r=n.format,i=n.lineX,o=n.lineY,a=n.onClick,u=n.textBaseline,f=n.textAnchor,c=n.animatedProps,l=Xn(),g=l.axis.ticks.line,s=l.axis.ticks.text,h=(t=r==null?void 0:r(e))!=null?t:e,d=N.useMemo(function(){var m={opacity:c.opacity};return a?{style:Y({},m,{cursor:"pointer"}),onClick:function(x){return a(x,h)}}:{style:m}},[c.opacity,a,h]);return P.jsxs(rn.g,Y({transform:c.transform},d,{children:[P.jsx("line",{x1:0,x2:i,y1:0,y2:o,style:g}),s.outlineWidth>0&&P.jsx(rn.text,{dominantBaseline:u,textAnchor:f,transform:c.textTransform,style:s,strokeWidth:2*s.outlineWidth,stroke:s.outlineColor,strokeLinejoin:"round",children:""+h}),P.jsx(rn.text,{dominantBaseline:u,textAnchor:f,transform:c.textTransform,style:s,children:""+h})]}))}),cu=function(n){var t=n.axis,e=n.scale,r=n.x,i=r===void 0?0:r,o=n.y,a=o===void 0?0:o,u=n.length,f=n.ticksPosition,c=n.tickValues,l=n.tickSize,g=l===void 0?5:l,s=n.tickPadding,h=s===void 0?5:s,d=n.tickRotation,m=d===void 0?0:d,x=n.format,b=n.renderTick,p=b===void 0?fu:b,k=n.truncateTickAt,T=n.legend,M=n.legendPosition,y=M===void 0?"end":M,A=n.legendOffset,$=A===void 0?0:A,q=n.onClick,Z=n.ariaHidden,v=Xn(),D=v.axis.legend.text,S=N.useMemo(function(){return fr(x,e)},[x,e]),_=ur({axis:t,scale:e,ticksPosition:f,tickValues:c,tickSize:g,tickPadding:h,tickRotation:m,truncateTickAt:k}),B=_.ticks,R=_.textAlign,I=_.textBaseline,E=null;if(T!==void 0){var w,z=0,X=0,Tn=0;t==="y"?(Tn=-90,z=$,y==="start"?(w="start",X=u):y==="middle"?(w="middle",X=u/2):y==="end"&&(w="end")):(X=$,y==="start"?w="start":y==="middle"?(w="middle",z=u/2):y==="end"&&(w="end",z=u)),E=P.jsxs(P.Fragment,{children:[D.outlineWidth>0&&P.jsx("text",{transform:"translate("+z+", "+X+") rotate("+Tn+")",textAnchor:w,style:Y({dominantBaseline:"central"},D),strokeWidth:2*D.outlineWidth,stroke:D.outlineColor,strokeLinejoin:"round",children:T}),P.jsx("text",{transform:"translate("+z+", "+X+") rotate("+Tn+")",textAnchor:w,style:Y({dominantBaseline:"central"},D),children:T})]})}var at=It(),ot=at.animate,ut=at.config,Cn=Ur({transform:"translate("+i+","+a+")",lineX2:t==="x"?u:0,lineY2:t==="x"?0:u,config:ut,immediate:!ot}),Sn=N.useCallback(function(U){return{opacity:1,transform:"translate("+U.x+","+U.y+")",textTransform:"translate("+U.textX+","+U.textY+") rotate("+m+")"}},[m]),sr=N.useCallback(function(U){return{opacity:0,transform:"translate("+U.x+","+U.y+")",textTransform:"translate("+U.textX+","+U.textY+") rotate("+m+")"}},[m]),lr=ie(B,{keys:function(U){return U.key},initial:Sn,from:sr,enter:Sn,update:Sn,leave:{opacity:0},config:ut,immediate:!ot});return P.jsxs(rn.g,{transform:Cn.transform,"aria-hidden":Z,children:[lr(function(U,gr,du,hr){return N.createElement(p,Y({tickIndex:hr,format:S,rotate:m,textBaseline:I,textAnchor:R,truncateTickAt:k,animatedProps:U},gr,q?{onClick:q}:{}))}),P.jsx(rn.line,{style:v.axis.domain.line,x1:0,x2:Cn.lineX2,y1:0,y2:Cn.lineY2}),E]})},su=N.memo(cu),lu={ticksPosition:C.oneOf(["before","after"]),tickValues:C.oneOfType([C.number,C.arrayOf(C.oneOfType([C.number,C.string,C.instanceOf(Date)])),C.string]),rotateOnTickLength:C.shape({angle:C.number,length:C.number}),tickSize:C.number,tickPadding:C.number,tickRotation:C.number,format:C.oneOfType([C.func,C.string]),renderTick:C.func,legend:C.node,legendPosition:C.oneOf(["start","middle","end"]),legendOffset:C.number,ariaHidden:C.bool},bu=C.shape(lu),cr=["top","right","bottom","left"],Mu=N.memo(function(n){var t=n.xScale,e=n.yScale,r=n.width,i=n.height,o={top:n.top,right:n.right,bottom:n.bottom,left:n.left};return P.jsx(P.Fragment,{children:cr.map(function(a){var u=o[a];if(!u)return null;var f=a==="top"||a==="bottom";return P.jsx(su,Y({},u,{axis:f?"x":"y",x:a==="right"?r:0,y:a==="bottom"?i:0,scale:f?t:e,length:f?r:i,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:u.truncateTickAt}),a)})})}),gu=N.memo(function(n){var t=n.animatedProps,e=Xn();return P.jsx(rn.line,Y({},t,e.grid.line))}),Ht=N.memo(function(n){var t=n.lines,e=It(),r=e.animate,i=e.config,o=ie(t,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:i,immediate:!r});return P.jsx("g",{children:o(function(a,u){return N.createElement(gu,Y({},u,{key:u.key,animatedProps:a}))})})}),wu=N.memo(function(n){var t=n.width,e=n.height,r=n.xScale,i=n.yScale,o=n.xValues,a=n.yValues,u=N.useMemo(function(){return!!r&&qn({width:t,height:e,scale:r,axis:"x",values:o})},[r,o,t,e]),f=N.useMemo(function(){return!!i&&qn({width:t,height:e,scale:i,axis:"y",values:a})},[e,t,i,a]);return P.jsxs(P.Fragment,{children:[u&&P.jsx(Ht,{lines:u}),f&&P.jsx(Ht,{lines:f})]})}),hu=function(n,t){var e,r=t.axis,i=t.scale,o=t.x,a=o===void 0?0:o,u=t.y,f=u===void 0?0:u,c=t.length,l=t.ticksPosition,g=t.tickValues,s=t.tickSize,h=s===void 0?5:s,d=t.tickPadding,m=d===void 0?5:d,x=t.tickRotation,b=x===void 0?0:x,p=t.format,k=t.legend,T=t.legendPosition,M=T===void 0?"end":T,y=t.legendOffset,A=y===void 0?0:y,$=t.theme,q=ur({axis:r,scale:i,ticksPosition:l,tickValues:g,tickSize:h,tickPadding:m,tickRotation:b,engine:"canvas"}),Z=q.ticks,v=q.textAlign,D=q.textBaseline;n.save(),n.translate(a,f),n.textAlign=v,n.textBaseline=D;var S=$.axis.ticks.text;n.font=(S.fontWeight?S.fontWeight+" ":"")+S.fontSize+"px "+S.fontFamily,((e=$.axis.domain.line.strokeWidth)!=null?e:0)>0&&(n.lineWidth=Number($.axis.domain.line.strokeWidth),n.lineCap="square",$.axis.domain.line.stroke&&(n.strokeStyle=$.axis.domain.line.stroke),n.beginPath(),n.moveTo(0,0),n.lineTo(r==="x"?c:0,r==="x"?0:c),n.stroke());var _=typeof p=="function"?p:function(w){return""+w};if(Z.forEach(function(w){var z;((z=$.axis.ticks.line.strokeWidth)!=null?z:0)>0&&(n.lineWidth=Number($.axis.ticks.line.strokeWidth),n.lineCap="square",$.axis.ticks.line.stroke&&(n.strokeStyle=$.axis.ticks.line.stroke),n.beginPath(),n.moveTo(w.x,w.y),n.lineTo(w.x+w.lineX,w.y+w.lineY),n.stroke());var X=_(w.value);n.save(),n.translate(w.x+w.textX,w.y+w.textY),n.rotate(ct(b)),S.outlineWidth>0&&(n.strokeStyle=S.outlineColor,n.lineWidth=2*S.outlineWidth,n.lineJoin="round",n.strokeText(""+X,0,0)),$.axis.ticks.text.fill&&(n.fillStyle=S.fill),n.fillText(""+X,0,0),n.restore()}),k!==void 0){var B=0,R=0,I=0,E="center";r==="y"?(I=-90,B=A,M==="start"?(E="start",R=c):M==="middle"?(E="center",R=c/2):M==="end"&&(E="end")):(R=A,M==="start"?E="start":M==="middle"?(E="center",B=c/2):M==="end"&&(E="end",B=c)),n.translate(B,R),n.rotate(ct(I)),n.font=($.axis.legend.text.fontWeight?$.axis.legend.text.fontWeight+" ":"")+$.axis.legend.text.fontSize+"px "+$.axis.legend.text.fontFamily,$.axis.legend.text.fill&&(n.fillStyle=$.axis.legend.text.fill),n.textAlign=E,n.textBaseline="middle",n.fillText(k,0,0)}n.restore()},ku=function(n,t){var e=t.xScale,r=t.yScale,i=t.width,o=t.height,a=t.top,u=t.right,f=t.bottom,c=t.left,l=t.theme,g={top:a,right:u,bottom:f,left:c};cr.forEach(function(s){var h=g[s];if(!h)return null;var d=s==="top"||s==="bottom",m=s==="top"||s==="left"?"before":"after",x=d?e:r,b=fr(h.format,x);hu(n,Y({},h,{axis:d?"x":"y",x:s==="right"?i:0,y:s==="bottom"?o:0,scale:x,format:b,length:d?i:o,ticksPosition:m,theme:l}))})},Tu=function(n,t){var e=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values;qn({width:e,height:r,scale:i,axis:o,values:a}).forEach(function(u){n.beginPath(),n.moveTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.stroke()})};export{Tu as D,Mu as X,Ja as _,Oe as a,Yt as c,pu as d,ku as j,Ha as q,bu as w,wu as z};
