import{r as y,d as x,j as t,ai as g}from"./index-fc3a79f0.js";import{L as j}from"./LoadingDisplay-e41c4094.js";import{u as L}from"./useData-e37ba8f4.js";import{u as k}from"./usePageTitle-768e6f6c.js";import{u as h}from"./useWindowSize-1ab73cdf.js";import{C as v,a as C,b as S,c as T,d as D,e as w,T as B}from"./TopLocks-1a39c70d.js";import{e as A}from"./dataUrls-29ba4993.js";import{A as M}from"./AdminStatsTable-4a045493.js";import{B as R}from"./nivo-bar.es-bbcfcbf7.js";import{p as W}from"./adminChartDefaults-e02caa29.js";import"./LPU-c3fa7122.js";import"./LinearProgress-c90ed6f1.js";import"./useDocumentTitle-4dc2aa75.js";import"./nivo-line.es-fc60d30b.js";import"./nivo-legends.es-129ba0ea.js";import"./index-6f4d5bcf.js";import"./TableRow-b92fd265.js";const z=({data:e})=>{const o=y.useMemo(()=>{const{dailyAwardsTableData:l}=e,n=l.data.map(a=>a.date),d=x(n.reduce((a,r)=>r>a?r:a)),m=x("2024-10-25"),b=d.subtract(14,"day")>m?d.subtract(14,"day"):m;return{title:"",columns:l.columns,data:l.data.filter(a=>x(a.date).isAfter(b))}},[e]),c="100%",i=".83rem";return t.jsx("div",{style:{width:"100%"},children:t.jsx(M,{tableData:o,tableWidth:c,fontSize:i})})},H=({data:e})=>{const{maxBeltCounts:o}=e,c=g.map(s=>s.rank>20?null:{id:s.name,label:s.makeModels[0].model,count:o[s.id]||0,value:o[s.id]||0}).filter(s=>s),{width:i}=h(),l=i<=360,n=i<=395,d=i<=428,m=i<=820,b=l?180:n?190:d?200:m?240:250,a={top:0,right:20,bottom:80,left:50},r=["#d5d5d5","#d8d801","#ed7d01","#389700","#0090de","#634b9f","#9d5918","#ba0303","#1a1a1a","#373737","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12"],p=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000"];return t.jsx("div",{style:{height:b,width:"100%"},children:t.jsx(R,{data:c,margin:a,padding:.15,colors:s=>r[s.index%r.length],labelTextColor:s=>p[s.index%p.length],animate:!0,enableLabel:!0,labelSkipHeight:1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},enableTotals:!0,axisBottom:{tickRotation:-45},enableGridY:!1,theme:W,isInteractive:!1})})};function N(){k("Collection Report");const{data:e,loading:o,error:c}=L({url:A}),i=o?"--":"(updated: "+x(e.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+` ${e.metadata.timezone})`,n=["listUsers","wishlistLocks","recordedLocks","scorecardLocks","pickedLocks","ownLocks"].reduce((p,s)=>{if(!e)return{};const f=e.dailyTableData.data.map(u=>({x:u.date,y:u[s]}));return p[s]={data:f,id:s},p},{}),{width:d}=h(),b=d<560?"8px 8px 32px 8px":"24px 24px 32px 24px",a={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},r={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return o?t.jsx(j,{}):c?null:t.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:b,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[t.jsxs("div",{style:r,children:["Collections Summary",t.jsx("br",{}),t.jsx("span",{style:{fontSize:"0.85rem"},children:i})]}),t.jsx(v,{data:e}),t.jsx("div",{style:a,children:"Awards Summary"}),t.jsx(z,{data:e}),t.jsx("div",{style:a,children:"Users by Belt"}),t.jsx(H,{data:e}),t.jsx("div",{style:a,children:"List Users"}),t.jsx(C,{data:n}),t.jsx("div",{style:a,children:"List Locks by Date"}),t.jsx(S,{data:n}),t.jsx("div",{style:a,children:"Average Items Per List"}),t.jsx(T,{data:e}),t.jsx("div",{style:a,children:"List Saves by Belt Ranking"}),t.jsx(D,{data:e}),t.jsx("div",{style:a,children:"Last 14 Days"}),t.jsx(w,{data:e}),t.jsx("div",{style:a,children:"Top Locks"}),t.jsx(B,{data:e})]})}export{N as default};
