import{j as s,a1 as q,P as A,Q as O,Y as G,ah as N,T as _,ap as U,ac as J,r as o,ad as E,u as K,E as D,I as C,J as R,K as W,G as Q,R as v,an as Y,aq as X,ak as Z,ar as T,V as p,H as j,B as ee}from"./index-23813ab5.js";import{B as $}from"./BeltStripe-27ecd2f9.js";import{C as H,B as V}from"./BeltIcon-22057808.js";import{e as se}from"./entryName-0f0cdae6.js";import{L as te}from"./ListItem-903c75c7.js";import{d as ae,F as d}from"./FieldValue-21b83f84.js";import{a as ie,F,C as ne,b as oe}from"./InlineFilterDisplay-534d07b7.js";import{F as re,D as le}from"./filterFields-909e75a1.js";import{A as ce,a as de,b as ue}from"./AccordionSummary-e648f6ae.js";import{M as me}from"./index-14d4431f.js";import{r as xe}from"./index-9cd40e21.js";import{A as pe}from"./AccordionActions-df56c3bb.js";import{L as he}from"./LockListContext-1c7a88fd.js";function ze({entries:e}){return s.jsxs(q,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[s.jsx(A,{dense:!0,style:{padding:0},children:e.map(t=>s.jsxs(te,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[s.jsx($,{value:t.belt}),s.jsx(O,{primary:se(t),primaryTypographyProps:{fontWeight:500},secondary:t.version,style:{padding:"0px 0px 0px 10px"}}),s.jsx(G,{style:{minWidth:20,marginLeft:16},children:s.jsx(H,{id:t.id,dense:!0})})]},t.id))}),s.jsx(N,{}),s.jsx(_,{feature:"compact"})]})}function fe({belt:e}){const{danPoints:t}=U[e],a=t===1?"Point":t>=10?"Pts":"Points",r=` (${t} Dan ${a})`,l={textDecoration:"none",color:"#fff"};return t===0||e==="Unranked"?null:s.jsx("a",{style:l,href:"/#/dans",children:r})}function ge({entry:e}){const t=J(),{filters:a,addFilter:r,removeFilters:l}=o.useContext(re),u=o.useCallback(f=>{r("image",f+1,!0)},[r]),h=o.useCallback(()=>{l(["image"])},[l]),m=o.useCallback(()=>{const{image:f}=E.parse(t.search);return y(f,e)},[e,t]),c=o.useMemo(()=>a.image?+a.image-1:-1,[a]),k=y(c,e);return s.jsx(ie,{media:e.media,openIndex:c,initiallyOpen:k,onOpenImage:u,onCloseImage:h,onBackButton:m,shareParams:{id:e.id,name:a.name}})}const y=(e,t)=>/\d+/.test(e)&&!!t.media[e];function je({id:e,onExpand:t,entryId:a}){const{getEntryFromId:r}=o.useContext(le),l=o.useMemo(()=>r(e),[r,e]),u=K(),h=o.useCallback(async()=>{u(`/locks?id=${e}`),t(e)},[e,u,t]),m=e===a?{border:"1px solid #777"}:{},c=e===a;return s.jsx(D,{title:l.version,arrow:!0,disableFocusListener:!0,children:s.jsx(C,{onClick:h,style:m,disabled:c,children:s.jsx(V,{value:l.belt,related:!0,disabled:c})})})}var b={},ve=W;Object.defineProperty(b,"__esModule",{value:!0});var z=b.default=void 0,ke=ve(R()),Ce=s;z=b.default=(0,ke.default)((0,Ce.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint");function be({entry:e}){const t=o.useCallback(async()=>{await navigator.clipboard.writeText(e.id),Q("ID copied to clipboard.")},[e.id]);return s.jsx(C,{onClick:t,style:{marginRight:210},children:s.jsx(z,{color:"primary"})})}function we({entry:e,expanded:t,onExpand:a}){var L,I,M,B,S;const{userId:r}=Y(),[l,u]=o.useState(!1),h={maxWidth:700,marginLeft:"auto",marginRight:"auto"},m=o.useRef(null),c=[...new Set([...e.relatedIds||[],...X(e.id)])].sort((i,n)=>Z(T[i].belt,T[n].belt)||i.localeCompare(n)),k=o.useCallback((i,n)=>{a&&a(n?e.id:!1)},[e.id,a]);o.useEffect(()=>{if(t&&m&&!l){const n=window.innerWidth<=600?70:74,{id:x}=E.parse(location.search),g=x===e.id;u(!0),setTimeout(()=>{window.scrollTo({left:0,top:m.current.offsetTop-n,behavior:g?"auto":"smooth"})},g?0:100)}else t||u(!1)},[t,e,l]);const f=o.useMemo(()=>{var i;return s.jsx(p,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(i=e.makeModels)==null?void 0:i.map(({make:n,model:x},g)=>s.jsx(j,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:n&&n!==x?`${n} ${x}`:x},g))})},[e.makeModels]);return s.jsxs(ce,{expanded:t,onChange:k,style:h,ref:m,children:[s.jsxs(de,{expandIcon:s.jsx(ae,{}),children:[s.jsx($,{value:e.belt}),s.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[s.jsx(d,{value:f,textStyle:e.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!e.version&&s.jsx(d,{name:"Version",value:s.jsx(j,{style:{fontSize:"0.95rem",lineHeight:1.25},children:e.version}),textStyle:e.belt==="Unranked"?{color:"#aaa"}:{}})]}),s.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((L=e.lockingMechanisms)==null?void 0:L.length)>0&&s.jsx(d,{value:s.jsx(p,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(I=e.lockingMechanisms)==null?void 0:I.map((i,n)=>s.jsx(F,{value:i,field:"lockingMechanisms"},n))})})})]}),t&&s.jsxs(v.Fragment,{children:[s.jsxs(ue,{sx:{padding:"8px 16px 0px 16px"},children:[s.jsxs(p,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[s.jsx(d,{style:{width:"50%",marginLeft:"0px"},value:s.jsxs(v.Fragment,{children:[s.jsxs(j,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[e.belt,s.jsx(fe,{belt:e.belt})]}),s.jsx(V,{value:e.belt,style:{marginBottom:-10}})]})}),s.jsx("div",{style:{marginLeft:"auto"},children:s.jsx(H,{id:e.id,makeModels:e.makeModels})})]}),s.jsx(p,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!e.notes&&s.jsx(d,{name:"Notes",value:s.jsx(j,{component:"div",style:{marginTop:-16},children:s.jsx(me,{rehypePlugins:[[xe,{target:"_blank"}]],children:e.notes})})})}),!!((M=e.features)!=null&&M.length)&&s.jsx(d,{name:"Features",value:s.jsx(p,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:e.features.map((i,n)=>s.jsx(F,{value:i,field:"features"},n))})}),(c==null?void 0:c.length)>1&&!r&&s.jsx(d,{name:"Other Versions",value:s.jsx(v.Fragment,{children:c.map(i=>s.jsx(je,{id:i,onExpand:a,entryId:e.id},i))})}),!!((B=e.media)!=null&&B.length)&&s.jsx(d,{value:s.jsx(ge,{entry:e})}),!!((S=e.links)!=null&&S.length)&&s.jsx(d,{name:"Links",value:s.jsx(p,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:e.links.map(({title:i,url:n},x)=>s.jsx(ee,{href:n,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:i},x))})})]}),s.jsxs(pe,{disableSpacing:!0,children:[s.jsx(_,{feature:"lock",id:e.id}),s.jsx(be,{entry:e}),s.jsx(ne,{entry:e}),s.jsx(oe,{entry:e})]})]})]})}const Pe=v.memo(we,(e,t)=>e.entry.id===t.entry.id&&e.expanded===t.expanded&&e.onExpand===t.onExpand);var w={},Le=W;Object.defineProperty(w,"__esModule",{value:!0});var P=w.default=void 0,Ie=Le(R()),Me=s;P=w.default=(0,Ie.default)((0,Me.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");function qe(){const{compact:e,setCompact:t,setExpanded:a}=o.useContext(he),r=o.useCallback(()=>{t(!e),a(null)},[e,t,a]);return s.jsx(D,{title:"Toggle Compact View",arrow:!0,disableFocusListener:!0,children:s.jsx(C,{onClick:r,children:s.jsx(P,{color:e?"secondary":"inherit"})})})}export{ze as C,Pe as E,qe as T};
