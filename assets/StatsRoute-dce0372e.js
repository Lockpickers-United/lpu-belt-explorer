import{O as re,P as oe,j as e,u as w,R as O,r as m,$ as E,A as ce,ac as Y,an as de,J as Q,I as Z,D as he,N as xe,h as pe,T as me}from"./index-cc69fbd2.js";import{L as ge}from"./LoadingDisplay-7125bf60.js";import{u as ue}from"./useData-71c3159a.js";import{u as be}from"./usePageTitle-cd3bce5f.js";import{L as fe}from"./LockViewsLine-624d51e8.js";import{c as V,d as N,T as _,a as M,b as u,e as U}from"./TableRow-5cd992f4.js";import{d as ye}from"./PhotoCamera-5724dc25.js";import{C as je}from"./ChoiceButtonGroup-b9e72222.js";import{B as P}from"./nivo-bar.es-e4d7fbf3.js";import{b as I,p as F,l as ve,a as $,c as te}from"./chartDefaults-ca889cb2.js";import{P as ke}from"./nivo-line.es-1695e53f.js";import{_ as X,d as Se,a as we,l as Le}from"./lockStats-10c578f1.js";import{F as se,I as ie,S as ae}from"./Select-dd159d92.js";import{P as Be}from"./PlatformBeltCountsTable-10dacf57.js";import{b as Ce,c as We,p as Ae,a as Me,s as Re,d as Te,e as De,f as Oe}from"./dataUrls-88e95518.js";import{E as Pe}from"./ErrorMessage-6f0c6846.js";import"./LPU-c3fa7122.js";import"./LinearProgress-93f6ea5c.js";import"./useDocumentTitle-9fbe7a50.js";import"./ToggleButtonGroup-cfb90189.js";import"./nivo-axes.es-499236ff.js";import"./nivo-legends.es-dbbbc2c2.js";import"./index-7ea9f11c.js";import"./line-ade87339.js";import"./BeltIcon-3978099a.js";var K={},Ie=oe;Object.defineProperty(K,"__esModule",{value:!0});var le=K.default=void 0,Fe=Ie(re()),He=e;le=K.default=(0,Fe.default)((0,He.jsx)("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4z"}),"SsidChart");const J=({tableData:t})=>{const s={padding:"0px",fontWeight:700,backgroundColor:"#000"},i={border:0,padding:"4px 8px 0px 0px",fontWeight:400};return e.jsx(V,{id:"dailyAverages",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(N,{children:[e.jsx(_,{children:e.jsx(M,{children:e.jsx(u,{colSpan:2,style:s,children:t.description})})}),e.jsx(U,{children:t.data.map((a,l)=>e.jsxs(M,{index:l,children:[e.jsx(u,{style:i,children:a.label},l+1),e.jsx(u,{style:i,sx:{textAlign:"left"},children:a.value.toLocaleString()})]},l))})]})})};function ze({data:t}){const{width:s}=w(),i=s<500,a=s<700,l=a?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},n=a?"26px":"10px",{lockStats:{lockCounts:r},siteFullNew:{dailyAverages:c,totals:o}}=t;return e.jsxs("div",{style:l,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 26px",minWidth:"180px",maxWidth:"306px",height:140},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(le,{style:{fontSize:"x-large"}})}),e.jsx(J,{tableData:c})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${n}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:o})}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${n}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:r})})]})}function Ve({data:t}){const{width:s}=w(),i=s<500,a=s<700,l=a?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},n=i?"32px":"10px",r=a?255:155,c=a?330:360,o={padding:"0px",fontWeight:700,backgroundColor:"#000"},x={border:0,padding:"4px 8px 0px 0px",fontWeight:400},f={border:0,padding:"4px 8px 0px 0px",fontWeight:700},{photoSegments:h,topPhotographers:d,uniqueImages:v,contributors:p}=t.lockStats.photoStats;return e.jsx(O.Fragment,{children:e.jsxs("div",{style:l,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 32px",minWidth:"300px",maxWidth:c,height:230},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(ye,{style:{fontSize:"x-large"}})}),e.jsx(V,{id:"photoStats",style:{padding:"0px 0px 0px 4px",maxWidth:"240px"},children:e.jsx(N,{children:e.jsxs(U,{children:[e.jsxs(M,{index:1,children:[e.jsx(u,{style:f,sx:{maxWidth:108},children:"Unique Images"},"images"),e.jsx(u,{style:f,children:v},"imageCount")]},1),e.jsxs(M,{index:2,children:[e.jsx(u,{style:f,sx:{maxWidth:108},children:"Individual Contributors"},"contribs"),e.jsx(u,{style:f,children:p},"contribCount")]},2)]})})}),e.jsx("div",{style:{height:16}}),e.jsx(V,{id:"areaList",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(N,{children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:o,children:"Segment"}),e.jsx(u,{style:o,sx:{textAlign:"center"},children:"Count"}),e.jsx(u,{style:o,sx:{textAlign:"center"},children:"w/Media"}),e.jsx(u,{style:o,sx:{textAlign:"center"},children:"Coverage"})]})}),e.jsx(U,{children:h.map((g,y)=>e.jsxs(M,{index:y,children:[e.jsx(u,{style:x,children:g.segment},y+1),e.jsx(u,{style:x,sx:{textAlign:"center"},children:g.count}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:g.media}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:g.coverage})]},y))})]})})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,margin:`10px 0px 0px ${n}`,minWidth:"260px",maxWidth:"330px",height:230},children:e.jsx(V,{sx:{height:200,backgroundColor:"#111",marginLeft:"auto",marginRight:"auto",width:{leaderboardWidth:r}},children:e.jsxs(N,{stickyHeader:!0,children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:o,children:"Top Contributors"}),e.jsx(u,{style:o,sx:{textAlign:"center"},children:"Images"})]})}),e.jsx(U,{children:d.map((g,y)=>e.jsxs(M,{children:[e.jsxs(u,{style:x,sx:{},children:["  ",g.contributor]}),e.jsx(u,{style:x,sx:{textAlign:"center"},children:g.images})]},y))})]})})})]})})}const Ne=({beltDistribution:t})=>{const{width:s}=w(),i=s<500,l=s<700?i?275:325:350,n=i?{top:30,right:5,bottom:55,left:48}:{top:30,right:20,bottom:30,left:50},r=i?-45:0;return e.jsx("div",{style:{height:l},children:e.jsx(P,{data:t,maxValue:.2,margin:n,padding:.15,colors:c=>I[c.index%I.length],animate:!0,enableLabel:!1,axisBottom:{tickRotation:r},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},enableGridY:!1,theme:F,isInteractive:!1})})};function Ue({data:t}){const s=m.useMemo(()=>{const{lockStats:{locksByBelt:n},siteFullNew:{lockViewsByBelt:r},collectionsStatsCurrent:c}=t,o=[...E,"Unranked"].map(x=>({label:x,id:x,...c.allUsers.savesByBelt[x]}));return[{label:"Site Views",data:r.data},{label:"Locks",data:n},{label:"Collection Saves",data:o}]},[t]),[i,a]=m.useState(s[0]),l=m.useCallback(n=>a(n),[]);return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(je,{options:s,onChange:l}),e.jsx(Ne,{beltDistribution:i.data})]})}function Ge({data:t}){const{redditGrowth:s}=t,{width:i}=w(),a=i<500,n=i<700?a?220:300:350,r=a?2:3,c=s.map(o=>({total:Object.keys(o).reduce((f,h)=>h==="date"?f:+o[h]+f,0)}));return e.jsxs("div",{style:{height:n},children:[e.jsx(P,{data:s,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],indexBy:"date",groupMode:"stacked",margin:{top:10,right:20,bottom:50,left:55},padding:.1,innerPadding:.5,borderRadius:r,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:8e3,theme:F,colors:I,animate:!0,enableLabel:!0,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0}),e.jsx("div",{style:{height:30,marginTop:-20},children:e.jsx(P,{data:c,indexBy:"total",margin:{top:10,right:20,bottom:40,left:55},maxValue:0,theme:ve,axisLeft:null,enableGridY:!1,enableGridX:!1,animate:!0,isInteractive:!1})})]})}function qe({data:t,lockCollection:s,userText:i,collectionBarHeight:a}){const{isLoggedIn:l}=m.useContext(ce),n={aveOwn:t.collectionsStatsCurrent.allUsers.listStats.own.averageSaves,maxOwn:t.collectionsStatsCurrent.allUsers.listStats.own.maxSaves,avePicked:t.collectionsStatsCurrent.allUsers.listStats.picked.averageSaves,maxPicked:t.collectionsStatsCurrent.allUsers.listStats.picked.maxSaves,aveRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.averageSaves,maxRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.maxSaves,aveWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.averageSaves,maxWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.maxSaves,aveScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.averageSaves,maxScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.maxSaves},r=s.own?s.own.length:0,c=s.picked?s.picked.length:0,o=s.recordedLocks?s.recordedLocks.length:0,x=s.wishlist?s.wishlist.length:0,h=r+c+o+x?{own:r,picked:c,scorecard:o,wishlist:x}:{own:0,picked:0,scorecard:0,wishlist:0},d={own:n.aveOwn,picked:n.avePicked,scorecard:n.aveScorecard,wishlist:n.aveWishlist},v={own:n.maxOwn,picked:n.maxPicked,scorecard:n.maxScorecard,wishlist:n.maxWishlist},p={own:Math.min(d.own,h.own),picked:Math.min(d.picked,h.picked),scorecard:Math.min(d.scorecard,h.scorecard),wishlist:Math.min(d.wishlist,h.wishlist)},g={own:h.own>d.own?0:d.own-p.own,picked:h.picked>d.picked?0:d.picked-p.picked,scorecard:h.scorecard>d.scorecard?0:d.scorecard-p.scorecard,wishlist:h.wishlist>d.wishlist?0:d.wishlist-p.wishlist},y={own:2,picked:2,scorecard:2,wishlist:2},D={own:Math.max(h.own-(p.own+g.own+y.own),0),picked:Math.max(h.picked-(p.picked+g.picked+y.picked),0),scorecard:Math.max(h.scorecard-(p.scorecard+g.scorecard+y.scorecard),0),wishlist:Math.max(h.wishlist-(p.wishlist+g.wishlist+y.wishlist),0)},b={own:Math.min(v.own-h.own,v.own-d.own-y.own),picked:Math.min(v.picked-h.picked,v.picked-d.picked-y.picked),scorecard:Math.min(v.scorecard-h.scorecard,v.scorecard-d.scorecard-y.scorecard),wishlist:Math.min(v.wishlist-h.wishlist,v.wishlist-d.wishlist-y.wishlist)},j=["own","picked","scorecard","wishlist"],W=j.map((C,R)=>({row:j[R],"Average A":p[C],"Average B":g[C],Average:y[C],USER:D[C],"Top 10":b[C]})),{width:S}=w(),A=S<=560,H=a,G=A?{top:10,right:20,bottom:50,left:55}:{top:10,right:20,bottom:50,left:55},B=["#3c90c5","#aaa","#000","#3c90c5","#aaa"],L=l&&s?[{title:i,color:"#3c90c5",width:"14px"}]:[];L.push({title:"Average",color:"#000",width:"35px"},{title:"Max",color:"#aaaaaa",width:"120px"});const z=({items:C})=>e.jsxs("div",{className:"chart-legend",style:{display:"flex",fontSize:".9rem",color:"#ddd",marginTop:13},children:[e.jsx("div",{style:{width:"100%"}}),C.map(R=>e.jsxs("div",{style:{display:"flex",padding:"0px 18px 24px 18px"},children:[e.jsx("div",{style:{backgroundColor:R.color,height:15,width:15,margin:"2px 6px 0px 0px",border:"1px solid #555"}}),e.jsx("div",{style:{textAlign:"left",width:R.width},children:R.title})]},R.title)),e.jsx("div",{style:{width:"100%"}})]});return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{height:H},children:e.jsx(P,{data:W,keys:["Average A","Average B","Average","USER","Top 10"],theme:F,indexBy:"row",margin:G,padding:.2,valueScale:{type:"linear"},colors:B,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:"00",legend:"Saves",legendPosition:"middle",legendOffset:-45,legendOpacity:.9},enableGridY:!1,isInteractive:!1,animate:!1})}),e.jsx(z,{items:L})]})}const q=({dataset:t,title:s})=>{const i={border:0,padding:"4px 8px 0px 0px",fontWeight:400,textOverflow:"ellipsis"};return e.jsxs("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,align:"center",margin:"0px 15px 16px 15px",width:300,height:490,marginLeft:"auto",marginRight:"auto"},children:[e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,width:"100%",textAlign:"left",marginBottom:10,paddingLeft:6},children:s}),e.jsx(V,{id:"areaList",sx:{height:420,backgroundColor:"#111",margin:"auto"},children:e.jsxs(N,{stickyHeader:!0,children:[e.jsx(_,{children:e.jsxs(M,{children:[e.jsx(u,{style:{padding:"4px 10px 4px 12px",fontWeight:700,textAlign:"right"},children:"#"}),e.jsx(u,{style:{padding:"4px 0px",fontWeight:700},children:"Lock"})]})}),e.jsx(U,{children:t.map((a,l)=>e.jsxs(M,{index:l,children:[e.jsx(u,{style:i,sx:{textAlign:"right",padding:"0px",width:34,verticalAlign:"top"},children:l+1},l+1),e.jsx(u,{style:i,sx:{textOverflow:"ellipsis"},children:a.name},a.name)]},l))})]})})]})};function Ye({data:t}){const s=t.collectionsStatsCurrent.allUsers.listStats.own.topItems,i=t.collectionsStatsCurrent.allUsers.listStats.picked.topItems,a=t.collectionsStatsCurrent.allUsers.listStats.wishlist.topItems,l=t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.topItems.slice(0,25),{width:n}=w(),r=n<=560,x={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...r?{}:{display:"flex"}};return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:x,children:[e.jsx(q,{dataset:s,title:"Owned"}),e.jsx(q,{dataset:i,title:"Picked"})]}),e.jsxs("div",{style:x,children:[e.jsx(q,{dataset:a,title:"Wishlist"}),e.jsx(q,{dataset:l,title:"Scorecard"})]})]})}function _e({data:t}){const{hourlyRequests:s}=t.siteFullNew,{width:i}=w(),a=i<=360,l=i<=395,n=i<=560,r=a?230:l?270:n?290:350,c=n?["midnight","2 am","4 am","6 am","8 am","10 am","noon","2 pm","4 pm","6 pm","8 pm","10 pm"]:["midnight","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","noon","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"];return e.jsx("div",{style:{height:r},children:e.jsx(ke,{theme:$e,data:s,colors:["#007de2","#16325d"],lineWidth:3,margin:{top:10,right:20,bottom:70,left:58},curve:"natural",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.0f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},axisBottom:{tickValues:c,tickSize:5,tickPadding:5,tickRotation:-45,direction:"row"},legends:[{anchor:"bottom",itemTextColor:"#ddd",text:{fontSize:18},direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})}const Ee={grid:{line:{stroke:"#333",strokeWidth:1}}},$e={...F,...Ee},ee=({dataset:t,pieColors:s})=>{const{width:i}=w(),a=i<=360,l=i<=395,n=i<=428,r=i<=560,c=r?{top:20,right:50,bottom:20,left:80}:{top:-50,right:50,bottom:20,left:80};let o=320;a?o=165:l?o=180:n?o=230:r&&(o=240);const x=r?6:4,f=r?4:0,h=r?4:8;return e.jsx("div",{style:{height:o,padding:"0px 8px 0px 8px",width:"100%",backgroundColor:"#000"},children:e.jsx(X,{data:t,theme:$,colors:s,margin:c,startAngle:-45,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:x,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>d.label,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:h,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:f,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")};function Xe({data:t}){const{trafficTotals:{platform:s,browser:i}}=t.siteFullNew,a=["#007de2","#0367ba","#005ba0","#004fa4","#063b87","#062f6b"],l=["#c34100","#b33600","#a02d01","#7d2900","#6a2200","#621d00","#581d00"],{width:n}=w(),r=n<=560,x={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...r?{}:{display:"flex"}};return e.jsx(O.Fragment,{children:e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:x,children:[e.jsx(ee,{dataset:s,pieColors:a}),e.jsx(ee,{dataset:i,pieColors:l})]})})})}function Je({beltData:t}){const{width:s}=w(),i=s<=360,a=s<=560,l=i?170:a?200:180,n=50,r=a?{top:0,right:20,bottom:n,left:20}:{top:0,right:10,bottom:n,left:10},c=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#ddd"];return e.jsx("div",{style:{height:l,padding:"0px 8px 0px 8px",width:"100%"},children:e.jsx(P,{data:t,margin:r,padding:.15,colors:o=>I[o.index%I.length],animate:!0,axisBottom:{tickRotation:-45},axisLeft:null,enableGridY:!1,theme:F,isInteractive:!1,enableLabel:!0,label:o=>o.data.count,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:o=>c[o.index%c.length]})},"bar")}function Ke({beltData:t}){const{width:s}=w(),i=s<=360,a=s<=395,l=s<=428,n=s<=560,r={top:12,right:40,bottom:20,left:40},c=i?120:a?140:l||n?180:120,o=n?5:4,x=n?10:8,f=n?0:8,h=["#949494","#6b6b6b","#565656","#3e3e3e","#333333","#2a2a2a"];return e.jsx("div",{style:{height:c,padding:"0px 0px 0px 0px",width:"100%",backgroundColor:"#000"},children:e.jsx(X,{data:t,theme:$,colors:h,margin:r,startAngle:-90,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:o,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>d.label,arcLinkLabelsDiagonalLength:6,arcLinkLabelsStraightLength:f,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:x,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")}function Qe({data:t}){const{brandBelts:s,brandMechanisms:i}=t.brandDistribution,a=s.map(k=>k.brandName),[l,n]=m.useState(2),[r,c]=m.useState(s[l].brandName),o=i.map(k=>k.brandName),[x,f]=m.useState(2),h=s[l].data,d=i[x].data,[v,p]=m.useState(!1),g=m.useCallback(()=>p(!1),[]),y=m.useCallback(()=>p(!0),[]),D=m.useCallback(k=>{n(a.findIndex(T=>T===k.target.value)),f(o.findIndex(T=>T===k.target.value)),c(k.target.value),g(),document.getElementById("brandPulldown").classList.remove("active"),document.getElementById("brandSelect").classList.remove("active")},[a,o,g]),{width:b}=w(),j=b<=360,W=b<=395,S=b<=428,A=b<=560,H=A?10:20,L={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...A?{}:{display:"flex"}},z=A?"100%":"55%",C=A?"100%":"45%",R=j?200:A?210:180,ne=j||W?120:S?170:A?180:160;return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{marginTop:24,textAlign:"center"},children:e.jsxs(se,{id:"brandPulldown",size:"small",style:{marginBottom:H,minWidth:200,textAlign:"left"},children:[e.jsx(ie,{children:"Brand"}),e.jsx(ae,{id:"brandSelect",value:r,label:"Brand",open:v,onClose:g,onOpen:y,onChange:D,style:{fontWeight:700,color:"#eee"},children:a.map((k,T)=>k==="Top Brands"&&e.jsx(Y,{disabled:!0,value:k,children:k},T)||k==="All Brands"&&e.jsx(Y,{disabled:!0,value:k,children:k},T)||k==="divider"&&e.jsx(de,{},T)||e.jsx(Y,{value:k,children:k},T))})]})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:L,children:[e.jsx("div",{style:{width:z,verticalAlign:"top",height:R},children:e.jsx(Je,{beltData:h,brandName:r})}),e.jsx("div",{style:{width:C,height:ne},children:e.jsx(Ke,{beltData:d,brandName:r})})]})})]})}function Ze({data:t,belt:s}){const{pickStatsData:i}=t,a=Object.keys(i.byBeltByMechanism).reduce((b,j)=>(b[j]=Object.keys(i.byBeltByMechanism[j]).reduce((W,S)=>(W.push({id:S,label:S,value:i.byBeltByMechanism[j][S]}),W),[]),b),{}),l=Object.keys(i.byMechanism).map(b=>({id:b,label:b,value:i.byMechanism[b]})),n=m.useMemo(()=>["All Belts",...E],[]),r=m.useMemo(()=>{const b={...a,"All Belts":l},j=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return b[n[s]].sort((W,S)=>j.indexOf(W.label)-j.indexOf(S.label))},[a,l,n,s]),c=m.useMemo(()=>r.reduce((b,j)=>b+j.value,0),[r]),{width:o}=w(),x=o<=360,f=o<=395,h=o<=428,d=o<=560,v={top:30,right:0,bottom:30,left:0};let p=320;x?p=145:f?p=180:h?p=230:d&&(p=240);const g=d?5:4,y=d?10:8,D=d?0:8;return e.jsx(O.Fragment,{children:e.jsxs("div",{style:{height:p,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx(X,{data:r,theme:$,colors:te,margin:v,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:g,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:b=>b.label+": "+Math.round(b.value/c*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:D,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:y,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:p/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Picks"})]},"pickPie")})}function et({data:t}){const{lockingMechanismsByBelt:s,lockingMechanisms:i}=t.lockStats,a=m.useMemo(()=>["All Belts",...E],[]),[l,n]=m.useState(0),r=m.useCallback(()=>{n(l<a.length-1?l+1:0)},[l,a.length]),c=m.useCallback(()=>{n(l>0?l-1:a.length-1)},[l,a.length]),o=m.useMemo(()=>{const B={...s,"All Belts":i},L=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return B[a[l]].sort((z,C)=>L.indexOf(z.label)-L.indexOf(C.label))},[s,i,a,l]),x=m.useMemo(()=>o.reduce((B,L)=>B+L.value,0),[o]),[f,h]=m.useState(!1),d=m.useCallback(()=>h(!1),[]),v=m.useCallback(()=>h(!0),[]),p=m.useCallback(B=>{n(a.findIndex(L=>L===B.target.value)),d()},[d,a]),{width:g}=w(),y=g<=360,D=g<=395,b=g<=428,j=g<=560,W={top:30,right:0,bottom:30,left:0};let S=320;y?S=145:D?S=180:b?S=230:j&&(S=240);const A=j?5:4,H=j?10:8,G=j?0:8;return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{marginBottom:10,display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{padding:"0px",width:220,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(Q,{title:"Previous Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Z,{onClick:c,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(Se,{})})}),e.jsx("div",{style:{padding:"0px",display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"},children:e.jsxs(se,{id:"beltPulldown",size:"small",variant:"outlined",style:{marginBottom:0,width:140},children:[e.jsx(ie,{style:{color:"#bbb"},children:"Belt"}),e.jsx(ae,{id:"beltSelect",value:a[l],label:"Brand",open:f,onClose:d,onOpen:v,onChange:p,style:{fontWeight:700,color:"#eee",fontSize:"1.1rem"},children:a.map((B,L)=>e.jsx(Y,{value:a[L],children:a[L]},L))})]})}),e.jsx(Q,{title:"Next Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Z,{onClick:r,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(we,{})})})]})}),e.jsxs("div",{style:{height:S,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx(X,{data:o,theme:$,colors:te,margin:W,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:A,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:B=>B.label+": "+Math.round(B.value/x*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:G,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:H,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:S/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Locks"})]},"lockPie"),e.jsx(Ze,{data:t,belt:l})]})}const tt=({beltDistribution:t})=>{const{width:s}=w(),i=s<500,a=s<700,l=250,n=i?{top:10,right:5,bottom:80,left:48}:{top:10,right:75,bottom:50,left:85},r=1,c=i?-45:0;return e.jsx("div",{style:{height:l},children:e.jsx(P,{data:t,keys:["Discord","Reddit"],indexBy:"belt",groupMode:"grouped",margin:n,background:"#fff",padding:.12,innerPadding:2,borderRadius:r,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:"auto",theme:{...F,background:"#000"},colors:I,colorBy:"indexValue",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#000",size:1,padding:3,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#444",rotation:30,lineWidth:1,spacing:18},{id:"dotsLegend",type:"patternDots",background:"#ccc",color:"#000",size:1,padding:3,stagger:!0},{id:"linesLegend",type:"patternLines",background:"#ccc",color:"#444",rotation:30,lineWidth:1,spacing:10},{id:"plainLegend",type:"patternLines",background:"#ccc",color:"#ccc",rotation:-45,lineWidth:1,spacing:10}],fill:[{match:{id:"Reddit"},id:"lines"}],animate:!0,enableLabel:!1,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},legends:[{dataFrom:"keys",itemTextColor:"#ccc",symbolShape:({x:o,y:x,size:f,borderWidth:h,borderColor:d,id:v})=>{const p=v==="Reddit"?"linesLegend":"plainLegend";return e.jsx("g",{children:e.jsx("rect",{x:o,y:x,width:f,height:f,fill:`url(#${p})`,stroke:d,strokeWidth:h})})},anchor:"top-right",direction:"row",justify:!1,translateX:0,translateY:20,itemsSpacing:2,itemWidth:90,itemHeight:20,itemDirection:"left-to-right",itemOpacity:1,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],axisBottom:{tickRotation:c},isInteractive:!1})})};function st({data:t}){const{discordBeltCounts:s,redditBeltCounts:i}=t,a=Object.keys(s).filter(r=>r.includes("Belt")).reduce((r,c)=>r+s[c],0),l=Object.keys(i).filter(r=>r.includes("Belt")).reduce((r,c)=>r+i[c],0),n=E.reduce((r,c)=>{const o=`${c} Belt`;return r.push({belt:c,Discord:s[o]/a,Reddit:i[o]/l,DiscordColor:"#38bcb2"}),r},[]);return e.jsx(tt,{beltDistribution:n})}function it({data:t}){const{lockCollection:s}=m.useContext(he),{width:i}=w(),a=i<=360,l=i<560,n=l?"8px 8px 32px 8px":"24px 24px 32px 24px",r=l?a?200:230:320,c={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},o={margin:"0px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return e.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:n,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem"},children:[e.jsx("div",{style:o,children:"Site Stats"}),e.jsx(ze,{data:t}),e.jsx("div",{style:c,children:"Weekly Lock Views"}),e.jsx(fe,{data:t.siteFullNew}),e.jsx("div",{style:c,children:"Photo Stats"}),e.jsx(Ve,{data:t}),e.jsx("div",{style:c,children:"Belt Distribution"}),e.jsx(Ue,{data:t}),e.jsx("div",{style:c,children:"Brand Lock Distribution"}),e.jsx(Qe,{data:t}),e.jsx("div",{style:c,children:"Locking Mechanisms By Belt"}),e.jsx(et,{data:t}),e.jsx("div",{style:c,children:"Collection Stats"}),e.jsx(qe,{data:t,lockCollection:s,userText:"You",collectionBarHeight:r}),e.jsx("div",{style:c,children:"Collections Top Locks"}),e.jsx(Ye,{data:t}),e.jsx("div",{style:c,children:"Discord & Reddit Belt Counts"}),e.jsx(st,{data:t}),e.jsx(Be,{data:t}),e.jsx("div",{style:c,children:"Reddit Belts Over Time"}),e.jsx(Ge,{data:t}),e.jsx("div",{style:c,children:"Hourly Traffic"}),e.jsx(_e,{data:t}),e.jsx("div",{style:c,children:"Visits by Platform & Browser"}),e.jsx(Xe,{data:t})]})}function Mt(){be("Stats & Insights");const{data:t,loading:s,error:i,errorMessage:a}=ue({urls:at});return e.jsxs(O.Fragment,{children:[e.jsx(xe,{title:"Stats & Insights"}),i&&e.jsx(Pe,{errorMessage:a}),s&&e.jsx(ge,{}),!s&&!i&&!!t&&e.jsx(it,{data:{...t,lockStats:Le}}),e.jsx(pe,{}),e.jsx(me,{feature:"stats"})]})}const at={brandDistribution:Ce,collectionsStatsCurrent:We,popularAreas:Ae,redditGrowth:Me,siteFullNew:Re,pickStatsData:Te,discordBeltCounts:De,redditBeltCounts:Oe};export{Mt as default};
