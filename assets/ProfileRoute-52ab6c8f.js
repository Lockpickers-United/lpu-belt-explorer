import{ak as p,r,X as h,u as j,j as t,T as b,I as k,al as y,R as m,a0 as f,a2 as g,b as C,a3 as P,B as v,a1 as E,J as L,N as T,K as B,O as F}from"./index-18bad79c.js";import{B as w,L as D,D as R,I,h as N,d as M,f as W,g as S}from"./FilterButton-c953388e.js";import{C as A,E as H,b as O,T as q,D as z}from"./data-51291fda.js";import{u as G,L as J}from"./useData-af018914.js";import{C as K}from"./CopyProfileLinkButton-d6da1a01.js";import{u as U}from"./useWindowSize-e2b73192.js";import"./dayjs.min-f98bcbf0.js";import"./ImageViewer-229ccf17.js";import"./Link-a00a84f3.js";import"./LinearProgress-52d1a4bc.js";import"./Chip-a5b81c5a.js";import"./InputLabel-15c9e6c4.js";import"./Badge-19e3b9ed.js";import"./SwitchBase-f9c34efc.js";import"./index-3c9a2feb.js";import"./index-89bb5fba.js";import"./LPU-c3fa7122.js";function V(){const{userId:o}=p(),{user:n}=r.useContext(h),i=j(),e=r.useCallback(()=>{i("/profile/edit")},[i]);return o!==(n==null?void 0:n.uid)?null:t.jsx(b,{title:"Edit Profile",arrow:!0,disableFocusListener:!0,children:t.jsx(k,{onClick:e,children:t.jsx(y,{})})})}const X="/assets/mycollection-8a0b4848.png";function _(){const{user:o}=r.useContext(h),{userId:n}=p(),i=j(),{isMobile:e}=U(),s=e?{marginTop:-32,maxWidth:700,marginLeft:8,marginRight:8,borderRadius:0}:{marginTop:-32,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},a=n===(o==null?void 0:o.uid),l=a?t.jsxs(m.Fragment,{children:[t.jsxs("span",{children:["There are no locks in your collection.",t.jsx("br",{}),'Browse the site and use the "My Collection" button to track locks that you own, picked, recorded, or wish to buy.',t.jsx("br",{})]}),t.jsx("img",{alt:"My Collection",src:X})]}):"There are no locks in this collection.",c=a?"Explore":"Go Home",d=r.useCallback(()=>{i("/locks")},[i]);return t.jsx(w,{alignContent:"center",children:t.jsxs(f,{style:s,children:[t.jsx(g,{children:t.jsx(C,{variant:"h6",align:"center",children:l})}),t.jsxs(P,{children:[t.jsx("div",{style:{width:"100%"}}),t.jsx(v,{variant:"outlined",color:"secondary",onClick:d,style:{whiteSpace:"nowrap"},children:c})]})]})})}function Q(){const o={marginTop:16,maxWidth:350,marginLeft:"auto",marginRight:"auto",borderRadius:0};return t.jsxs(f,{style:o,children:[t.jsx(E,{title:"Profile Not Found!"}),t.jsx(g,{children:t.jsx(C,{variant:"h6",align:"center",children:"This profile was not found, or is not public."})})]})}function Y({profile:o}){const{compact:n,expanded:i,setExpanded:e}=r.useContext(D),{visibleEntries:s=[]}=r.useContext(R),a=r.useDeferredValue(i);return t.jsxs("div",{style:{margin:8,paddingBottom:32},children:[t.jsx(I,{profile:o}),n?t.jsx(A,{entries:s}):s.map(l=>t.jsx(H,{entry:l,expanded:l.id===a,onExpand:e},l.id))]})}function ht(){const{userId:o}=p(),{getProfile:n}=r.useContext(L),i=r.useCallback(()=>{try{return n(o)}catch(u){console.log("gotem",u)}},[n,o]),{data:e={},loading:s,error:a}=G({loadFn:i}),l=r.useMemo(()=>{if(s||!e)return[];const u=new Set(N.flatMap(({key:x})=>e[x]));return O.filter(x=>u.has(x.id))},[e,s]),c=t.jsxs(m.Fragment,{children:[t.jsx(M,{}),t.jsx(q,{}),t.jsx(V,{}),t.jsx(K,{})]}),d=s?"Loading...":"Profile";return t.jsx(m.Fragment,{children:t.jsx(W,{children:t.jsx(z,{allEntries:l,profile:e,children:t.jsxs(S,{children:[t.jsx(T,{title:d,extras:c}),s&&t.jsx(J,{}),!s&&e&&!a&&t.jsx(Y,{profile:e}),!s&&e&&!a&&l.length===0&&t.jsx(_,{}),!s&&a&&t.jsx(Q,{}),t.jsx(B,{}),t.jsx(F,{feature:"profile"})]})})})})}export{ht as default};
