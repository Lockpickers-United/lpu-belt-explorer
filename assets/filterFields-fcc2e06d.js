import{R as ne,a2 as oe,r as z,j as ve,aC as ce,aD as de,as as ie}from"./index-9f09f3ae.js";const ue=ne.createContext({});function xe({children:H,filterFields:D=[]}){const[d,S]=oe(),F=z.useMemo(()=>Array.from(d.keys()).reduce((x,m)=>{const w=d.getAll(m);return x[m]=w.length===1?w[0]:w,x},{}),[d]),V=z.useCallback(h=>{Object.keys(h).forEach(x=>{h[x]||delete h[x]}),S(h)},[S]),W=z.useCallback((h,x)=>{h.forEach(({key:m,value:w})=>{!w&&x?d.delete(m):w?x?Array.isArray(w)?(d.delete(m),w.forEach(A=>d.append(m,A))):d.set(m,w):d.has(m)?d.append(m,w):d.set(m,w):w||d.delete(m)}),S(d)},[d,S]),G=z.useCallback((h,x,m)=>W([{key:h,value:x}],m),[W]),X=z.useCallback(h=>{h.forEach(x=>d.delete(x)),S(d)},[d,S]),L=z.useCallback((h,x)=>{const m=d.getAll(h);d.delete(h),Array.isArray(m)&&m.length>1&&m.filter(A=>A!==x).forEach(A=>d.append(h,A)),S(d)},[d,S]),$=z.useCallback(()=>{const{tab:h,sort:x}=F;V({tab:h,sort:x})},[F,V]),J=z.useMemo(()=>Array.from(d.keys()).filter(x=>!ge.includes(x)).length,[d]),I=!!(F!=null&&F.search),Z=z.useMemo(()=>({filters:F,filterCount:J,addFilter:G,addFilters:W,removeFilter:L,removeFilters:X,setFilters:V,clearFilters:$,filterFields:D,filterFieldsByFieldName:D.reduce((h,x)=>({...h,[x.fieldName]:x}),{id:{label:"ID"}}),isSearch:I}),[G,W,$,J,F,L,X,V,D,I]);return ve.jsx(ue.Provider,{value:Z,children:H})}const ge=["id","name","search","tab","sort","image","locks","debug","preview","single","expandAll"];var le={exports:{}};(function(H){((D,d)=>{H.exports?H.exports=d():D.fuzzysort=d()})(ce,D=>{var d=(a,e)=>{if(a=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!a||!e)return c;var n=$(a);E(e)||(e=L(e));var i=n.bitflags;return(i&e._bitflags)!==i?c:I(n,e)},S=(a,e,n)=>{if(a=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:e?e[0]:c}];if(!a)return n&&n.all?J(a,e,n):R;var i=$(a),l=i.bitflags;i.containsSpace;var t=n&&n.threshold||P,s=n&&n.limit||j,r=0,o=0,f=e.length;if(n&&n.key)for(var v=n.key,g=0;g<f;++g){var _=e[g],u=U(_,v);if(u&&(E(u)||(u=L(u)),(l&u._bitflags)===l)){var p=I(i,u);p!==c&&(p.score<t||(p={target:p.target,_targetLower:"",_targetLowerCodes:c,_nextBeginningIndexes:c,_bitflags:0,score:p.score,_indexes:p._indexes,obj:_},r<s?(k.add(p),++r):(++o,p.score>k.peek().score&&k.replaceTop(p))))}}else if(n&&n.keys)for(var B=n.scoreFn||te,q=n.keys,Y=q.length,g=0;g<f;++g){for(var _=e[g],N=new Array(Y),C=0;C<Y;++C){var v=q[C],u=U(_,v);if(!u){N[C]=c;continue}E(u)||(u=L(u)),(l&u._bitflags)!==l?N[C]=c:N[C]=I(i,u)}N.obj=_;var b=B(N);b!==c&&(b<t||(N.score=b,r<s?(k.add(N),++r):(++o,b>k.peek().score&&k.replaceTop(N))))}else for(var g=0;g<f;++g){var u=e[g];if(u&&(E(u)||(u=L(u)),(l&u._bitflags)===l)){var p=I(i,u);p!==c&&(p.score<t||(r<s?(k.add(p),++r):(++o,p.score>k.peek().score&&k.replaceTop(p))))}}if(r===0)return R;for(var Q=new Array(r),g=r-1;g>=0;--g)Q[g]=k.poll();return Q.total=r+o,Q},F=(a,e,n)=>{if(typeof e=="function")return V(a,e);if(a===c)return c;e===void 0&&(e="<b>"),n===void 0&&(n="</b>");var i="",l=0,t=!1,s=a.target,r=s.length,o=a._indexes;o=o.slice(0,o.len).sort((g,_)=>g-_);for(var f=0;f<r;++f){var v=s[f];if(o[l]===f){if(++l,t||(t=!0,i+=e),l===o.length){i+=v+n+s.substr(f+1);break}}else t&&(t=!1,i+=n);i+=v}return i},V=(f,e)=>{if(f===c)return c;var n=f.target,i=n.length,l=f._indexes;l=l.slice(0,l.len).sort((_,u)=>_-u);for(var t="",s=0,r=0,o=!1,f=[],v=0;v<i;++v){var g=n[v];if(l[r]===v){if(++r,o||(o=!0,f.push(t),t=""),r===l.length){t+=g,f.push(e(t,s++)),t="",f.push(n.substr(v+1));break}}else o&&(o=!1,f.push(e(t,s++)),t="");t+=g}return f},W=a=>a._indexes.slice(0,a._indexes.len).sort((e,n)=>e-n),G=a=>{typeof a!="string"&&(a="");var e=h(a);return{target:a,_targetLower:e._lower,_targetLowerCodes:e.lowerCodes,_nextBeginningIndexes:c,_bitflags:e.bitflags,score:c,_indexes:[0],obj:c}},X=a=>{typeof a!="string"&&(a=""),a=a.trim();var e=h(a),n=[];if(e.containsSpace){var i=a.split(/\s+/);i=[...new Set(i)];for(var l=0;l<i.length;l++)if(i[l]!==""){var t=h(i[l]);n.push({lowerCodes:t.lowerCodes,_lower:i[l].toLowerCase(),containsSpace:!1})}}return{lowerCodes:e.lowerCodes,bitflags:e.bitflags,containsSpace:e.containsSpace,_lower:e._lower,spaceSearches:n}},L=a=>{if(a.length>999)return G(a);var e=A.get(a);return e!==void 0||(e=G(a),A.set(a,e)),e},$=a=>{if(a.length>999)return X(a);var e=O.get(a);return e!==void 0||(e=X(a),O.set(a,e)),e},J=(a,e,n)=>{var i=[];i.total=e.length;var l=n&&n.limit||j;if(n&&n.key)for(var t=0;t<e.length;t++){var s=e[t],r=U(s,n.key);if(r){E(r)||(r=L(r)),r.score=P,r._indexes.len=0;var o=r;if(o={target:o.target,_targetLower:"",_targetLowerCodes:c,_nextBeginningIndexes:c,_bitflags:0,score:r.score,_indexes:c,obj:s},i.push(o),i.length>=l)return i}}else if(n&&n.keys)for(var t=0;t<e.length;t++){for(var s=e[t],f=new Array(n.keys.length),v=n.keys.length-1;v>=0;--v){var r=U(s,n.keys[v]);if(!r){f[v]=c;continue}E(r)||(r=L(r)),r.score=P,r._indexes.len=0,f[v]=r}if(f.obj=s,f.score=P,i.push(f),i.length>=l)return i}else for(var t=0;t<e.length;t++){var r=e[t];if(r&&(E(r)||(r=L(r)),r.score=P,r._indexes.len=0,i.push(r),i.length>=l))return i}return i},I=(a,e,n=!1)=>{if(n===!1&&a.containsSpace)return Z(a,e);for(var i=a._lower,l=a.lowerCodes,t=l[0],s=e._targetLowerCodes,r=l.length,o=s.length,_=0,f=0,v=0;;){var g=t===s[f];if(g){if(T[v++]=f,++_,_===r)break;t=l[_]}if(++f,f>=o)return c}var _=0,u=!1,p=0,B=e._nextBeginningIndexes;B===c&&(B=e._nextBeginningIndexes=m(e.target)),f=T[0]===0?0:B[T[0]-1];var q=0;if(f!==o)for(;;)if(f>=o){if(_<=0||(++q,q>200))break;--_;var Y=K[--p];f=B[Y]}else{var g=l[_]===s[f];if(g){if(K[p++]=f,++_,_===r){u=!0;break}++f}else f=B[f]}var N=e._targetLower.indexOf(i,T[0]),C=~N;if(C&&!u)for(var b=0;b<v;++b)T[b]=N+b;var Q=!1;C&&(Q=e._nextBeginningIndexes[N-1]===N);{if(u)var y=K,ee=p;else var y=T,ee=v;for(var M=0,ae=0,b=1;b<r;++b)y[b]-y[b-1]!==1&&(M-=y[b],++ae);var fe=y[r-1]-y[0]-(r-1);if(M-=(12+fe)*ae,y[0]!==0&&(M-=y[0]*y[0]*.2),!u)M*=1e3;else{for(var re=1,b=B[0];b<o;b=B[b])++re;re>24&&(M*=(re-24)*10)}C&&(M/=1+r*r*1),Q&&(M/=1+r*r*1),M-=o-r,e.score=M;for(var b=0;b<ee;++b)e._indexes[b]=y[b];return e._indexes.len=ee,e}},Z=(a,e)=>{for(var n=new Set,i=0,l=c,t=0,s=a.spaceSearches,v=0;v<s.length;++v){var r=s[v];if(l=I(r,e),l===c)return c;i+=l.score,l._indexes[0]<t&&(i-=t-l._indexes[0]),t=l._indexes[0];for(var o=0;o<l._indexes.len;++o)n.add(l._indexes[o])}var f=I(a,e,!0);if(f!==c&&f.score>i)return f;l.score=i;var v=0;for(let g of n)l._indexes[v++]=g;return l._indexes.len=v,l},h=a=>{for(var e=a.length,n=a.toLowerCase(),i=[],l=0,t=!1,s=0;s<e;++s){var r=i[s]=n.charCodeAt(s);if(r===32){t=!0;continue}var o=r>=97&&r<=122?r-97:r>=48&&r<=57?26:r<=127?30:31;l|=1<<o}return{lowerCodes:i,bitflags:l,containsSpace:t,_lower:n}},x=a=>{for(var e=a.length,n=[],i=0,l=!1,t=!1,s=0;s<e;++s){var r=a.charCodeAt(s),o=r>=65&&r<=90,f=o||r>=97&&r<=122||r>=48&&r<=57,v=o&&!l||!t||!f;l=o,t=f,v&&(n[i++]=s)}return n},m=a=>{for(var e=a.length,n=x(a),i=[],l=n[0],t=0,s=0;s<e;++s)l>s?i[s]=l:(l=n[++t],i[s]=l===void 0?e:l);return i},w=()=>{A.clear(),O.clear(),T=[],K=[]},A=new Map,O=new Map,T=[],K=[],te=a=>{for(var e=P,n=a.length,i=0;i<n;++i){var l=a[i];if(l!==c){var t=l.score;t>e&&(e=t)}}return e===P?c:e},U=(a,e)=>{var n=a[e];if(n!==void 0)return n;var i=e;Array.isArray(e)||(i=e.split("."));for(var l=i.length,t=-1;a&&++t<l;)a=a[i[t]];return a},E=a=>typeof a=="object",j=1/0,P=-j,R=[];R.total=0;var c=null,se=a=>{var e=[],n=0,i={},l=t=>{for(var s=0,r=e[s],o=1;o<n;){var f=o+1;s=o,f<n&&e[f].score<e[o].score&&(s=f),e[s-1>>1]=e[s],o=1+(s<<1)}for(var v=s-1>>1;s>0&&r.score<e[v].score;v=(s=v)-1>>1)e[s]=e[v];e[s]=r};return i.add=t=>{var s=n;e[n++]=t;for(var r=s-1>>1;s>0&&t.score<e[r].score;r=(s=r)-1>>1)e[s]=e[r];e[s]=t},i.poll=t=>{if(n!==0){var s=e[0];return e[0]=e[--n],l(),s}},i.peek=t=>{if(n!==0)return e[0]},i.replaceTop=t=>{e[0]=t,l()},i},k=se();return{single:d,go:S,highlight:F,prepare:G,indexes:W,cleanup:w}})})(le);var he=le.exports;const me=de(he),_e=ne.createContext({}),pe=[{label:"Make",fieldName:"makes"},{label:"Locking Mechanism",fieldName:"lockingMechanisms"},{label:"Belt",fieldName:"belt",sort:ie},{label:"Features",fieldName:"features"},{label:"Content",fieldName:"content"},{label:"Collection",fieldName:"collection",userBased:!0}],we=[{label:"Make",fieldName:"make"},{label:"Wheels",fieldName:"wheels"},{label:"UL Group",fieldName:"group"},{label:"Quest Tier",fieldName:"tier"},{label:"Fence Type",fieldName:"fence"},{label:"Digits",fieldName:"digits"},{label:"Features",fieldName:"features"},{label:"Content",fieldName:"content"},{label:"Collection",fieldName:"collection",userBased:!0}],Ne=[{label:"Type",fieldName:"type"},{label:"Make",fieldName:"makes"},{label:"Locking Mechanism",fieldName:"lockingMechanisms"},{label:"Belt",fieldName:"belt",sort:ie},{label:"Features",fieldName:"features"},{label:"Documentation",fieldName:"documentation"},{label:"Scoring",fieldName:"scoring"}],Se=[{label:"Winner",fieldName:"winner"},{label:"Watchlist",fieldName:"collection",userBased:!0},{label:"Tag",fieldName:"tags"},{label:"Contributor",fieldName:"contributedBy"},{label:"Country",fieldName:"country"},{label:"Shipping Type",fieldName:"shippingType"},{label:"Split Shipping",fieldName:"splitShipping"}];export{_e as D,ue as F,xe as a,we as d,me as f,pe as l,Se as r,Ne as s};
