import{r as _,F as Ce,au as le,j as l,u as Gn,R as qt,b as Gi,$ as me,J as hn,I as fn,ac as Yi,aJ as Vi,aj as qi,d as pn,as as Xi,bI as Zi,bJ as Ji,D as Ki,N as Qi,e as tr,a0 as er,h as nr,T as ir}from"./index-53d62699.js";import{L as rr}from"./LoadingDisplay-474a3cdf.js";import{u as or}from"./useData-c7632b9e.js";import{u as sr}from"./usePageTitle-7df63d4f.js";import{_ as ar,d as lr,a as cr,l as ur}from"./lockStats-fcacd2cd.js";import{E as dr}from"./ErrorMessage-517758c6.js";import{b as ce,a as hr}from"./chartDefaults-bfd54756.js";import{L as jt}from"./Link-a31792ef.js";import{D as Yn,f as fr}from"./DataContext-b47f9407.js";import{r as _n}from"./index-43983ac4.js";import{e as gn}from"./entryName-1db11a1a.js";import{B as pr}from"./BeltStripeMini-55e52f79.js";import{a as Vn,b as At,c as mn,d as yn,T as _r,e as xn}from"./TableRow-f903caf8.js";import{V as gr}from"./ViewFilterButtons-640a2ff1.js";import{b as mr}from"./sortFields-b1bde6f9.js";import{F as yr,I as xr,S as br}from"./Select-fbba8654.js";import{C as vr}from"./Collapse-d2b7caa6.js";import{ae as kr,r as wr}from"./nivo-legends.es-c197e616.js";import{aJ as Cr,aK as jr,aI as Bt,u as St,j as ft,aF as qn,S as $,a5 as je,a6 as Be,a7 as Se,a8 as Oe,a9 as Le,aa as Me,ab as Te,ac as $e,ad as Pe,ae as ze,af as Ee,ag as We,ah as Ae,ai as Ne,aj as Re,ak as Ie,al as De,am as Fe,an as Ue,ao as He,ap as Ge,aq as Ye,ar as Ve,as as qe,at as Xe,au as Ze,av as Je,aw as Xn,ax as Zn,ay as Jn,az as Kn,aA as Qn,aB as ti,aC as ei,aD as ni,aE as Ke,C as Br,V as Sr,aG as Or,a4 as Lr,t as Mr,aH as Tr,b1 as $r,b2 as Pr,b3 as zr,b4 as Er,b5 as Wr,b6 as Ar,b7 as Nr,b8 as Rr,b9 as Ir,ba as Dr,bb as Fr,bc as Ur,bd as Hr,be as Gr,bf as Yr,bg as Vr,bh as qr,bi as Xr,bj as Zr,bk as Jr,bl as Kr,bm as Qr,bn as to,bo as eo,bp as no,bq as io,br as ro,aL as ii,aT as oo,bC as so}from"./_getTag-7b19a7ba.js";import{c as ao,Y as lo,Z as co,i as uo,m as ho,p as fo,t as po,w as _o,a as go,u as mo,y as yo,_ as xo}from"./viridis-8d7d418b.js";import{a as bo}from"./_baseClone-8b2d6c41.js";import{a as ue}from"./adminChartDefaults-c1f0e13b.js";import{b as vo}from"./filterFields-223f086e.js";import{c as ko}from"./collectionStatsById-8def94ca.js";import{b as wo,c as Co,p as jo,a as Bo,s as So,d as Oo,o as Lo,e as Mo,f as To}from"./dataUrls-88e95518.js";import"./LPU-c3fa7122.js";import"./LinearProgress-f6fcb4cb.js";import"./useDocumentTitle-eb0a8150.js";import"./line-41429601.js";import"./path-a545ef0e.js";import"./Sort-84a22f32.js";import"./Chip-10db28d5.js";import"./FilterAlt-aff4b02c.js";import"./Box-bfa64bff.js";import"./LockListContext-bcb7829b.js";import"./ToggleButtonGroup-e47bd419.js";import"./Cancel-79ccf270.js";import"./index-c2e38515.js";import"./rankingRequestData-d3ef79e5.js";function bn(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function ri(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function de(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&(n+=r)}return n}const $o={White:340,Yellow:681,Orange:1182,Green:668,Blue:269,Purple:150,Brown:91,Red:74,Black:159,Total:3614},Po={White:1232,Yellow:2166,Orange:2842,Green:1121,Blue:328,Purple:147,Brown:88,Red:62,Black:134,Total:8120},vn={discord:$o,reddit:Po};function zo({data:t}){const{scorecardStats:e,discordBeltCounts:n,redditBeltCounts:i}=t,{userCounts:r}=e,{filters:o,addFilter:s,removeFilters:a}=_.useContext(Ce),u=Eo(),c=o!=null&&o.dataset?o==null?void 0:o.dataset:"pickerData",[f,h]=_.useState(c),p=_.useCallback(d=>{s("dataset",d,!0),h(d)},[s]),C=9435-r.totalUsers,y=_.useMemo(()=>{const d={data:[{id:"LPUbelts Users",label:"LPUbelts Users",value:r.totalUsers},{id:"Other LPU Pickers",label:"Other LPU Pickers (approx)",value:C}],colors:["#37bd17","#17561b"],description:"Click chart for details",startAngle:-65},k={parent:"pickerData",data:[{id:"Scorecard Users",label:"Scorecard Users",value:r.scorecardUsers},{id:"Other LPUbelts Users",label:"Other LPUbelts Users",value:r.totalUsers-r.scorecardUsers}],colors:["#d2bc18","#444"],description:"LPUbelts Scorecard Usage",startAngle:-35},v={parent:"LPUbelts Users",data:[{id:"Imported Belts",label:"Imported Belts",value:r.beltedUsers},{id:"Other Scorecard Users",label:"Other Scorecard Users",value:r.scorecardUsers-r.beltedUsers}],colors:["#189ad2","#444"],description:"Scorecard Belt Imports",startAngle:-120},x={parent:"Scorecard Users",data:Object.keys(r.belts).sort((T,I)=>le(T,I)).map(T=>({id:T,label:T,value:r.belts[T]})),colors:ce,description:"Imported Belt Breakdown (click Black for Dan breakdown)",startAngle:-10},g={parent:"Imported Belts",data:Object.keys(r.dans).sort((T,I)=>parseInt(T)-parseInt(I)).map(T=>({id:kn(T),label:kn(T),value:r.dans[T]})),colors:wn,description:"Dan Breakdown"},E={parent:"pickerData",data:[{id:"Discord",label:"Discord",value:vn.discord.Total},{id:"Reddit",label:"Reddit",value:vn.reddit.Total}],colors:["#a981ec","#7833e3"],description:"Platforms users overlap, numbers shown for relative size"},N=Object.keys(n).reduce((T,I)=>{const Z=I.replace(" Belt","").trim();return T[Z]=n[I],T},{}),Y={parent:"Other LPU Pickers",data:Object.keys(N).filter(T=>!T.includes("Dan")).sort((T,I)=>le(T,I)).map(T=>{const I=T==="Black"?"Black Belt":T;return{id:I,label:I,value:N[T]}}),colors:ce,description:l.jsxs("span",{children:["Discord Belt Breakdown | ",l.jsx(jt,{onClick:()=>p("Reddit"),style:{color:"#189dea",textDecoration:"none",cursor:"pointer"},children:"Reddit"})]}),startAngle:-15},V={parent:"Discord",data:Object.keys(n).filter(T=>T.includes("Dan")).sort((T,I)=>parseInt(T)-parseInt(I)).map(T=>({id:T,label:T,value:n[T]})),colors:wn,description:"Discord Dan Breakdown"},G=Object.keys(i).reduce((T,I)=>{const Z=I.replace(" Belt","").trim();return T[Z]=i[I],T},{}),X={parent:"Other LPU Pickers",data:Object.keys(G).filter(T=>!T.includes("Dan")).sort((T,I)=>le(T,I)).map(T=>({id:T,label:T,value:G[T]})),colors:ce,description:l.jsxs("span",{children:["Reddit Belt Breakdown | ",l.jsx(jt,{onClick:()=>p("Discord"),style:{color:"#189dea",textDecoration:"none",cursor:"pointer"},children:"Discord"})]}),startAngle:-25};return{pickerData:d,"LPUbelts Users":k,"Scorecard Users":v,"Imported Belts":x,Black:g,"Other LPU Pickers":E,Discord:Y,"Black Belt":V,Reddit:X}},[n,p,C,i,r]),L=y[f].data,b=y[f].data.reduce((d,k)=>d+k.value,0),S=_.useCallback(d=>{y[d.id]&&(document.getElementById("chartDescription").style.opacity="0.2",setTimeout(()=>{document.getElementById("chartDescription").style.opacity="1",p(d.id)},200))},[p,y]),M=_.useCallback(()=>{y[y[f].parent].parent?s("dataset",y[f].parent,!0):a(["dataset"]),h(y[f].parent)},[s,y,f,a]),j=_.useCallback((d,k)=>{y[d.id]&&(k.currentTarget.style.cursor="pointer")},[y]),{width:m}=Gn(),P=m<=360,O=m<=395,B=m<=428,w=m<=560,W={top:30,right:0,bottom:30,left:0};let A=320;P?A=175:O?A=190:B?A=230:w&&(A=240);const U="1.0rem",H=w?5:4,D=w?10:8,F=w?0:8;return l.jsxs(qt.Fragment,{children:[l.jsx("div",{style:{fontSize:"0.95rem",fontWeight:500,width:"100%",textAlign:"center",marginBottom:4,opacity:1,transitionProperty:"opacity, left, top, height",transitionDuration:"0.1s, 0.1s"},id:"chartDescription",children:y[f].description}),l.jsxs("div",{style:{height:A,margin:"0px 8px 0px 8px",width:"100%",position:"relative"},children:[l.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:l.jsx(ar,{data:L,theme:hr,colors:y[f].colors,margin:W,startAngle:y[f].startAngle||-40,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:0,arcLinkLabelsSkipAngle:H,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>d.label+": "+Math.round(d.value/b*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:F,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:D,arcLabelsTextColor:"#111",isInteractive:!0,transitionMode:"startAngle",motionConfig:"slow",sortByValue:!1,onClick:d=>{S(d)},onMouseEnter:(d,k)=>{j(d,k)},tooltip:d=>{const k=(d.datum.arc.angleDeg>H,d.datum.label+": "),v=d.datum.value;return l.jsx("div",{style:{fontSize:"0.8rem",background:"#555",padding:"3px 4px",color:"#ddd",borderRadius:"5px",display:w||u?"none":"block"},children:l.jsxs("div",{children:[k,v]})})}})}),l.jsx("div",{style:{width:"100%",position:"absolute",top:A/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:y[f].parent&&l.jsx(jt,{onClick:M,style:{color:"#ccc",cursor:"pointer",fontSize:U},children:"back"})})]},"pickPie")]})}function kn(t){const e=["st","nd","rd","th"];return t+""+e[Math.min(4,parseInt(t))-1]}const wn=["#222222","#2E2E2E","#3A3A3A","#464646","#525252","#5E5E5E","#6A6A6A","#767676","#828282","#8E8E8E","#9A9A9A","#A6A6A6","#B2B2B2","#BEBEBE","#CACACA","#D6D6D6","#E2E2E2","#EFEFEF","#FAFAFA","#FFFFFF"];function Eo(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.matchMedia("(pointer: coarse)").matches}function Cn({entry:t,index:e,collapse:n=!1}){const i=Gi(),o=gn(t).replace(/[\s/]/g,"_").replace(/\W/g,""),s=_.useCallback(u=>{const c=`/locks?tab=search&search=${u.id}&id=${u.id}&name=${o}`;i(c)},[i,o]),a=t.belt==="Unranked"?"#bbb":"#fff";return l.jsxs(Vn,{sx:{"&:nth-of-type(odd) td, &:nth-of-type(odd) th":{backgroundColor:"#000"},"td, th":{padding:0,border:0}},style:{display:"table-row"},children:[l.jsx(At,{align:"left",style:{borderBottom:"1px solid #000",width:4,marginLeft:5,height:40,paddingBottom:1},children:l.jsx(pr,{value:t.belt})}),l.jsx(At,{align:"left",style:{alignItems:"center"},children:l.jsx("div",{style:{fontWeight:500,marginLeft:10,fontSize:"0.9rem"},children:l.jsx(jt,{onClick:()=>s(t),style:{color:a},children:gn(t)})})}),l.jsx(At,{align:"center",style:{fontWeight:500,fontSize:"0.9rem",paddingRight:5},children:t.currentPicks})]},e)}function Wo(){var P;const{visibleEntries:t=[]}=_.useContext(Yn),{filters:e,addFilter:n,removeFilters:i}=_.useContext(Ce),{userBelt:r="All Belts",sort:o}=e,[s,a]=_.useState(o);_.useEffect(()=>{a(!!o)},[o]);const u=60;let c=((P=t.find(O=>O.displayRank===u))==null?void 0:P.currentPicks)||0;c=c>2?c:0;const f=_.useMemo(()=>t.filter(O=>O.currentPicks>=c),[t,c]),h=_.useMemo(()=>t.filter(O=>O.currentPicks<c),[t,c]),p=_.useMemo(()=>["All Belts",...me],[]),C=_.useCallback(()=>{const O=p.findIndex(w=>w===r),B=O<p.length-1?O+1:0;n("userBelt",p[B],!0)},[n,p,r]),y=_.useCallback(()=>{const O=p.findIndex(w=>w===r),B=O>0?O-1:p.length-1;n("userBelt",p[B],!0)},[n,p,r]),[L,b]=_.useState(!1),S=_.useCallback(()=>b(!1),[]),M=_.useCallback(()=>b(!0),[]),j=_.useCallback(O=>{O.target.value!=="All Belts"?n("userBelt",O.target.value,!0):i(["userBelt"]),S()},[n,S,i]),m=_.useCallback(()=>{a(!s)},[s]);return l.jsxs(qt.Fragment,{children:[l.jsx("div",{style:{marginBottom:10,display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{padding:"0px",width:220,display:"flex",justifyContent:"center",alignItems:"center"},children:[l.jsx(hn,{title:"Previous Belt",arrow:!0,disableFocusListener:!0,children:l.jsx(fn,{onClick:y,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:l.jsx(lr,{})})}),l.jsx("div",{style:{padding:"0px",display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"},children:l.jsxs(yr,{id:"beltPulldown",size:"small",variant:"outlined",style:{marginBottom:0,width:140},children:[l.jsx(xr,{style:{color:"#bbb"},children:"User Belt"}),l.jsx(br,{id:"beltSelect",value:r||"All Belts",label:"Brand",open:L,onClose:S,onOpen:M,onChange:j,style:{fontWeight:700,color:"#eee",fontSize:"1.1rem"},children:p.map((O,B)=>l.jsx(Yi,{value:p[B],children:p[B]},B))})]})}),l.jsx(hn,{title:"Next Belt",arrow:!0,disableFocusListener:!0,children:l.jsx(fn,{onClick:C,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:l.jsx(cr,{})})})]})}),l.jsx(gr,{sortValues:mr,extraFilters:[{key:"tab",value:"search"}],compactMode:!1,resetAll:!0,expandAll:!1,style:{marginBottom:10}}),l.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{border:"4px solid #1c1c1c",width:"100%",maxWidth:600},children:[l.jsx(mn,{sx:{backgroundColor:"#111",width:"100%"},children:l.jsxs(yn,{style:{backgroundColor:"#1c1c1c"},children:[l.jsx(_r,{children:l.jsxs(Vn,{style:{padding:"0px",fontWeight:700},children:[l.jsx(At,{colSpan:"2",style:{padding:1,fontWeight:700,fontSize:"1.05rem"},children:"Lock"}),l.jsx(At,{style:{padding:1,fontWeight:700,fontSize:"1.05rem",paddingRight:5},children:"Picks"})]})}),l.jsx(xn,{children:f.map((O,B)=>l.jsx(Cn,{entry:O,index:B},B))})]})}),l.jsx(vr,{in:!!s,timeout:"auto",unmountOnExit:!0,children:l.jsx(mn,{sx:{backgroundColor:"#111",width:"100%"},children:l.jsx(yn,{style:{backgroundColor:"#1c1c1c"},children:l.jsx(xn,{children:h.map((O,B)=>l.jsx(Cn,{entry:O,index:B},B))})})})})]})}),h.length>0&&l.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:l.jsx("div",{style:{border:"4px solid #1c1c1c",width:"100%",maxWidth:600,textAlign:"center"},children:l.jsx(jt,{onClick:m,style:{color:"#fff",fontSize:"1.0rem",cursor:"pointer"},children:!s&&"Show More"||"Show Less"})})})]})}function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ye.apply(null,arguments)}var Ao=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],No=function(t,e){return ye({},e,t)},Ro=function(t,e){var n=Cr({},t,e);return Ao.forEach(function(i){jr(n,i,No(Bt(n,i),n.text))}),n},Io={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"#ffffff",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},Do=function(t){return _.useMemo(function(){return Ro(Io,t)},[t])},oi=_.createContext(null),Fo={},Uo=function(t){var e=t.theme,n=e===void 0?Fo:e,i=t.children,r=Do(n);return l.jsx(oi.Provider,{value:r,children:i})},it=function(){var t=_.useContext(oi);if(t===null)throw new Error("Unable to find the theme, did you forget to wrap your component with ThemeProvider?");return t},Ho=["outlineWidth","outlineColor","outlineOpacity"],Go=function(t){return t.outlineWidth,t.outlineColor,t.outlineOpacity,function(e,n){if(e==null)return{};var i={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;i[r]=e[r]}return i}(t,Ho)};function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pt.apply(null,arguments)}var Yo=["basic","chip","container","table","tableCell","tableCellValue"],Vo={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},jn=function(t,e){return"translate("+t+"px, "+e+"px)"},si=_.memo(function(t){var e,n=t.position,i=t.anchor,r=t.children,o=it(),s=mt(),a=s.animate,u=s.config,c=Si(),f=c[0],h=c[1],p=_.useRef(!1),C=void 0,y=!1,L=h.width>0&&h.height>0,b=Math.round(n[0]),S=Math.round(n[1]);L&&(i==="top"?(b-=h.width/2,S-=h.height+14):i==="right"?(b+=14,S-=h.height/2):i==="bottom"?(b-=h.width/2,S+=14):i==="left"?(b-=h.width+14,S-=h.height/2):i==="center"&&(b-=h.width/2,S-=h.height/2),C={transform:jn(b,S)},p.current||(y=!0),p.current=[b,S]);var M=St({to:C,config:u,immediate:!a||y}),j=o.tooltip;j.basic,j.chip,j.container,j.table,j.tableCell,j.tableCellValue;var m=function(O,B){if(O==null)return{};var w={};for(var W in O)if({}.hasOwnProperty.call(O,W)){if(B.indexOf(W)!==-1)continue;w[W]=O[W]}return w}(j,Yo),P=pt({},Vo,m,{transform:(e=M.transform)!=null?e:jn(b,S),opacity:M.transform?1:0});return l.jsx(ft.div,{ref:f,style:P,children:r})});si.displayName="TooltipWrapper";var xe=_.memo(function(t){var e=t.size,n=e===void 0?12:e,i=t.color,r=t.style;return l.jsx("span",{style:pt({display:"block",width:n,height:n,background:i},r===void 0?{}:r)})}),Bn=_.memo(function(t){var e,n=t.id,i=t.value,r=t.format,o=t.enableChip,s=o!==void 0&&o,a=t.color,u=t.renderContent,c=it(),f=Oi(r);if(typeof u=="function")e=u();else{var h=i;f!==void 0&&h!==void 0&&(h=f(h)),e=l.jsxs("div",{style:c.tooltip.basic,children:[s&&l.jsx(xe,{color:a,style:c.tooltip.chip}),h!==void 0?l.jsxs("span",{children:[n,": ",l.jsx("strong",{children:""+h})]}):n]})}return l.jsx("div",{style:c.tooltip.container,role:"tooltip",children:e})}),qo={width:"100%",borderCollapse:"collapse"},Xo=_.memo(function(t){var e,n=t.title,i=t.rows,r=i===void 0?[]:i,o=t.renderContent,s=it();return r.length?(e=typeof o=="function"?o():l.jsxs("div",{children:[n&&n,l.jsx("table",{style:pt({},qo,s.tooltip.table),children:l.jsx("tbody",{children:r.map(function(a,u){return l.jsx("tr",{children:a.map(function(c,f){return l.jsx("td",{style:s.tooltip.tableCell,children:c},f)})},u)})})})]}),l.jsx("div",{style:s.tooltip.container,children:e})):null});Xo.displayName="TableTooltip";var be=_.memo(function(t){var e=t.x0,n=t.x1,i=t.y0,r=t.y1,o=it(),s=mt(),a=s.animate,u=s.config,c=_.useMemo(function(){return pt({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),f=St({x1:e,x2:n,y1:i,y2:r,config:u,immediate:!a});return l.jsx(ft.line,pt({},f,{fill:"none",style:c}))});be.displayName="CrosshairLine";var Zo=_.memo(function(t){var e,n,i=t.width,r=t.height,o=t.type,s=t.x,a=t.y;return o==="cross"?(e={x0:s,x1:s,y0:0,y1:r},n={x0:0,x1:i,y0:a,y1:a}):o==="top-left"?(e={x0:s,x1:s,y0:0,y1:a},n={x0:0,x1:s,y0:a,y1:a}):o==="top"?e={x0:s,x1:s,y0:0,y1:a}:o==="top-right"?(e={x0:s,x1:s,y0:0,y1:a},n={x0:s,x1:i,y0:a,y1:a}):o==="right"?n={x0:s,x1:i,y0:a,y1:a}:o==="bottom-right"?(e={x0:s,x1:s,y0:a,y1:r},n={x0:s,x1:i,y0:a,y1:a}):o==="bottom"?e={x0:s,x1:s,y0:a,y1:r}:o==="bottom-left"?(e={x0:s,x1:s,y0:a,y1:r},n={x0:0,x1:s,y0:a,y1:a}):o==="left"?n={x0:0,x1:s,y0:a,y1:a}:o==="x"?e={x0:s,x1:s,y0:0,y1:r}:o==="y"&&(n={x0:0,x1:i,y0:a,y1:a}),l.jsxs(l.Fragment,{children:[e&&l.jsx(be,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),n&&l.jsx(be,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});Zo.displayName="Crosshair";var ai=_.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),ve={isVisible:!1,position:[null,null],content:null,anchor:null},li=_.createContext(ve),Jo=function(t){var e=_.useState(ve),n=e[0],i=e[1],r=_.useCallback(function(a,u,c){var f=u[0],h=u[1];c===void 0&&(c="top"),i({isVisible:!0,position:[f,h],anchor:c,content:a})},[i]),o=_.useCallback(function(a,u,c){c===void 0&&(c="top");var f=t.current.getBoundingClientRect(),h=t.current.offsetWidth,p=h===f.width?1:h/f.width,C="touches"in u?u.touches[0]:u,y=C.clientX,L=C.clientY,b=(y-f.left)*p,S=(L-f.top)*p;c!=="left"&&c!=="right"||(c=b<f.width/2?"right":"left"),i({isVisible:!0,position:[b,S],anchor:c,content:a})},[t,i]),s=_.useCallback(function(){i(ve)},[i]);return{actions:_.useMemo(function(){return{showTooltipAt:r,showTooltipFromEvent:o,hideTooltip:s}},[r,o,s]),state:n}},ci=function(){var t=_.useContext(ai);if(t===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return t},Ko=function(){var t=_.useContext(li);if(t===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return t},Qo=function(t){return t.isVisible},ts=function(){var t=Ko();return Qo(t)?l.jsx(si,{position:t.position,anchor:t.anchor,children:t.content}):null},es=function(t){var e=t.container,n=t.children,i=Jo(e),r=i.actions,o=i.state;return l.jsx(ai.Provider,{value:r,children:l.jsx(li.Provider,{value:o,children:n})})};function wt(t){return function(){return t}}const Sn=1e-12,ke=Math.PI,we=2*ke,dt=1e-6,ns=we-dt;function ui(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function is(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ui;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class rs{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ui:is(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=i-e,c=r-n,f=s-e,h=a-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>dt)if(!(Math.abs(h*u-c*f)>dt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let C=i-s,y=r-a,L=u*u+c*c,b=C*C+y*y,S=Math.sqrt(L),M=Math.sqrt(p),j=o*Math.tan((ke-Math.acos((L+p-b)/(2*S*M)))/2),m=j/M,P=j/S;Math.abs(m-1)>dt&&this._append`L${e+m*f},${n+m*h}`,this._append`A${o},${o},0,0,${+(h*C>f*y)},${this._x1=e+P*u},${this._y1=n+P*c}`}}arc(e,n,i,r,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),u=i*Math.sin(r),c=e+a,f=n+u,h=1^s,p=s?r-o:o-r;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>dt||Math.abs(this._y1-f)>dt)&&this._append`L${c},${f}`,i&&(p<0&&(p=p%we+we),p>ns?this._append`A${i},${i},0,1,${h},${e-a},${n-u}A${i},${i},0,1,${h},${this._x1=c},${this._y1=f}`:p>dt&&this._append`A${i},${i},0,${+(p>=ke)},${h},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function os(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new rs(e)}function ss(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function di(t){this._context=t}di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hi(t){return new di(t)}function as(t){return t[0]}function ls(t){return t[1]}function On(t,e){var n=wt(!0),i=null,r=hi,o=null,s=os(a);t=typeof t=="function"?t:t===void 0?as:wt(t),e=typeof e=="function"?e:e===void 0?ls:wt(e);function a(u){var c,f=(u=ss(u)).length,h,p=!1,C;for(i==null&&(o=r(C=s())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(h,c,u),+e(h,c,u));if(C)return o=null,C+""||null}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),a):t},a.y=function(u){return arguments.length?(e=typeof u=="function"?u:wt(+u),a):e},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:wt(!!u),a):n},a.curve=function(u){return arguments.length?(r=u,i!=null&&(o=r(i)),a):r},a.context=function(u){return arguments.length?(u==null?i=o=null:o=r(i=u),a):i},a}function lt(){}function Ut(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Xt(t){this._context=t}Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ut(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ut(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cs(t){return new Xt(t)}function fi(t){this._context=t}fi.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ut(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function us(t){return new fi(t)}function pi(t){this._context=t}pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ut(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ds(t){return new pi(t)}function _i(t,e){this._basis=new Xt(t),this._beta=e}_i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],o=t[n]-i,s=e[n]-r,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(i+u*o),this._beta*e[a]+(1-this._beta)*(r+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const hs=function t(e){function n(i){return e===1?new Xt(i):new _i(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function Ht(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Qe(t,e){this._context=t,this._k=(1-e)/6}Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ht(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ht(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const fs=function t(e){function n(i){return new Qe(i,e)}return n.tension=function(i){return t(+i)},n}(0);function tn(t,e){this._context=t,this._k=(1-e)/6}tn.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ht(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ps=function t(e){function n(i){return new tn(i,e)}return n.tension=function(i){return t(+i)},n}(0);function en(t,e){this._context=t,this._k=(1-e)/6}en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ht(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _s=function t(e){function n(i){return new en(i,e)}return n.tension=function(i){return t(+i)},n}(0);function nn(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>Sn){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Sn){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/f,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function gi(t,e){this._context=t,this._alpha=e}gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:nn(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gs=function t(e){function n(i){return e?new gi(i,e):new Qe(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function mi(t,e){this._context=t,this._alpha=e}mi.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nn(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ms=function t(e){function n(i){return e?new mi(i,e):new tn(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function yi(t,e){this._context=t,this._alpha=e}yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nn(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ys=function t(e){function n(i){return e?new yi(i,e):new en(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function xi(t){this._context=t}xi.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xs(t){return new xi(t)}function Ln(t){return t<0?-1:1}function Mn(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Ln(o)+Ln(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Tn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function he(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Gt(t){this._context=t}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:he(this,this._t0,Tn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,he(this,Tn(this,n=Mn(this,t,e)),n);break;default:he(this,this._t0,n=Mn(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function bi(t){this._context=new vi(t)}(bi.prototype=Object.create(Gt.prototype)).point=function(t,e){Gt.prototype.point.call(this,e,t)};function vi(t){this._context=t}vi.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};function ki(t){return new Gt(t)}function wi(t){return new bi(t)}function Ci(t){this._context=t}Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=$n(t),r=$n(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $n(t){var e,n=t.length-1,i,r=new Array(n),o=new Array(n),s=new Array(n);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/o[e-1],o[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function bs(t){return new Ci(t)}function Zt(t,e){this._context=t,this._t=e}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vs(t){return new Zt(t,.5)}function ks(t){return new Zt(t,0)}function ws(t){return new Zt(t,1)}class Pn extends Map{constructor(e,n=Bs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(zn(this,e))}has(e){return super.has(zn(this,e))}set(e,n){return super.set(Cs(this,e),n)}delete(e){return super.delete(js(this,e))}}function zn({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Cs({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function js({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Bs(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ss(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const En=Symbol("implicit");function Ct(){var t=new Pn,e=[],n=[],i=En;function r(o){let s=t.get(o);if(s===void 0){if(i!==En)return i;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return r.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Pn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return Ct(e,n).unknown(i)},Ss.apply(r,arguments),r}var ji=_.createContext(),Os=function(t){var e=t.children,n=t.animate,i=n===void 0||n,r=t.config,o=r===void 0?"default":r,s=_.useMemo(function(){var a=Or(o)?Lr[o]:o;return{animate:i,config:a}},[i,o]);return l.jsx(ji.Provider,{value:s,children:e})},mt=function(){return _.useContext(ji)},Ls=function(t){var e=t.children,n=t.condition,i=t.wrapper;return n?_.cloneElement(i,{},e):e},Ms={position:"relative"},Ts=function(t){var e=t.children,n=t.theme,i=t.renderWrapper,r=i===void 0||i,o=t.isInteractive,s=o===void 0||o,a=t.animate,u=t.motionConfig,c=_.useRef(null);return l.jsx(Uo,{theme:n,children:l.jsx(Os,{animate:a,config:u,children:l.jsx(es,{container:c,children:l.jsxs(Ls,{condition:r,wrapper:l.jsx("div",{style:Ms,ref:c}),children:[e,s&&l.jsx(ts,{})]})})})})},$s=function(t){var e=mt(),n=e.animate,i=e.config,r=function(a){var u=_.useRef();return _.useEffect(function(){u.current=a},[a]),u.current}(t),o=_.useMemo(function(){return kr(r,t)},[r,t]),s=St({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!n}).value;return Mr(s,o)},Ps={basis:cs,basisClosed:us,basisOpen:ds,bundle:hs,cardinal:fs,cardinalClosed:ps,cardinalOpen:_s,catmullRom:gs,catmullRomClosed:ms,catmullRomOpen:ys,linear:hi,linearClosed:xs,monotoneX:ki,monotoneY:wi,natural:bs,step:vs,stepAfter:ws,stepBefore:ks},rn=Object.keys(Ps);rn.filter(function(t){return t.endsWith("Closed")});qn(rn,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");qn(rn,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_t.apply(null,arguments)}function Bi(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}$(je),$(Be),$(Se),$(Oe),$(Le),$(Me),$(Te),$($e),$(Pe),$(ze),$(Ee),$(We),$(Ae),$(Ne),$(Re),$(Ie),$(De),$(Fe),$(Ue),$(He),$(Ge),$(Ye),$(Ve),$(qe),$(Xe),$(Ze),$(Je);Xn,Zn,Jn,Kn,Qn,ti,ei,ni,Ke,$(je),$(Be),$(Se),$(Oe),$(Le),$(Me),$(Te),$($e),$(Pe),$(ze),$(Ee),$(We),$(Ae),$(Ne),$(Re),$(Ie),$(De),$(Fe),$(Ue),$(He),$(Ge),$(Ye),$(Ve),$(qe),$(Xe),$(Ze),$(Je);Ct(Ke);var zs={top:0,right:0,bottom:0,left:0},Es=function(t,e,n){return n===void 0&&(n={}),_.useMemo(function(){var i=_t({},zs,n);return{margin:i,innerWidth:t-i.left-i.right,innerHeight:e-i.top-i.bottom,outerWidth:t,outerHeight:e}},[t,e,n])},Si=function(){var t=_.useRef(null),e=_.useState({left:0,top:0,width:0,height:0}),n=e[0],i=e[1],r=_.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(o){var s=o[0];return i(s.contentRect)})})[0];return _.useEffect(function(){return t.current&&r!==null&&r.observe(t.current),function(){r!==null&&r.disconnect()}},[r]),[t,n]},Ws=function(t){return typeof t=="function"?t:typeof t=="string"?t.indexOf("time:")===0?Br(t.slice("5")):Sr(t):function(e){return""+e}},Oi=function(t){return _.useMemo(function(){return Ws(t)},[t])},As=function(t){var e=t.children,n=Si(),i=n[0],r=n[1],o=r.width>0&&r.height>0;return l.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:o&&e({width:r.width,height:r.height})})},Ns=["id","colors"],Rs=function(t){var e=t.id,n=t.colors,i=Bi(t,Ns);return l.jsx("linearGradient",_t({id:e,x1:0,x2:0,y1:0,y2:1},i,{children:n.map(function(r){var o=r.offset,s=r.color,a=r.opacity;return l.jsx("stop",{offset:o+"%",stopColor:s,stopOpacity:a!==void 0?a:1},o)})}))},Is={linearGradient:Rs},zt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Ds=_.memo(function(t){var e=t.id,n=t.background,i=n===void 0?zt.background:n,r=t.color,o=r===void 0?zt.color:r,s=t.size,a=s===void 0?zt.size:s,u=t.padding,c=u===void 0?zt.padding:u,f=t.stagger,h=f===void 0?zt.stagger:f,p=a+c,C=a/2,y=c/2;return h===!0&&(p=2*a+2*c),l.jsxs("pattern",{id:e,width:p,height:p,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:p,height:p,fill:i}),l.jsx("circle",{cx:y+C,cy:y+C,r:C,fill:o}),h&&l.jsx("circle",{cx:1.5*c+a+C,cy:1.5*c+a+C,r:C,fill:o})]})}),Wn=function(t){return t*Math.PI/180},Et={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Fs=_.memo(function(t){var e=t.id,n=t.spacing,i=n===void 0?Et.spacing:n,r=t.rotation,o=r===void 0?Et.rotation:r,s=t.background,a=s===void 0?Et.background:s,u=t.color,c=u===void 0?Et.color:u,f=t.lineWidth,h=f===void 0?Et.lineWidth:f,p=Math.round(o)%360,C=Math.abs(i);p>180?p-=360:p>90?p-=180:p<-180?p+=360:p<-90&&(p+=180);var y,L=C,b=C;return p===0?y=`
                M 0 0 L `+L+` 0
                M 0 `+b+" L "+L+" "+b+`
            `:p===90?y=`
                M 0 0 L 0 `+b+`
                M `+L+" 0 L "+L+" "+b+`
            `:(L=Math.abs(C/Math.sin(Wn(p))),b=C/Math.sin(Wn(90-p)),y=p>0?`
                    M 0 `+-b+" L "+2*L+" "+b+`
                    M `+-L+" "+-b+" L "+L+" "+b+`
                    M `+-L+" 0 L "+L+" "+2*b+`
                `:`
                    M `+-L+" "+b+" L "+L+" "+-b+`
                    M `+-L+" "+2*b+" L "+2*L+" "+-b+`
                    M 0 `+2*b+" L "+2*L+` 0
                `),l.jsxs("pattern",{id:e,width:L,height:b,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:L,height:b,fill:a,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),l.jsx("path",{d:y,strokeWidth:h,stroke:c,strokeLinecap:"square"})]})}),Wt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Us=_.memo(function(t){var e=t.id,n=t.color,i=n===void 0?Wt.color:n,r=t.background,o=r===void 0?Wt.background:r,s=t.size,a=s===void 0?Wt.size:s,u=t.padding,c=u===void 0?Wt.padding:u,f=t.stagger,h=f===void 0?Wt.stagger:f,p=a+c,C=c/2;return h===!0&&(p=2*a+2*c),l.jsxs("pattern",{id:e,width:p,height:p,patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:p,height:p,fill:o}),l.jsx("rect",{x:C,y:C,width:a,height:a,fill:i}),h&&l.jsx("rect",{x:1.5*c+a,y:1.5*c+a,width:a,height:a,fill:i})]})}),Hs={patternDots:Ds,patternLines:Fs,patternSquares:Us},Gs=["type"],An=_t({},Is,Hs),Ys=_.memo(function(t){var e=t.defs;return!e||e.length<1?null:l.jsx("defs",{"aria-hidden":!0,children:e.map(function(n){var i=n.type,r=Bi(n,Gs);return An[i]?_.createElement(An[i],_t({key:r.id},r)):null})})}),Vs=function(t){var e=t.width,n=t.height,i=t.margin,r=t.defs,o=t.children,s=t.role,a=t.ariaLabel,u=t.ariaLabelledBy,c=t.ariaDescribedBy,f=t.isFocusable,h=it();return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,role:s,"aria-label":a,"aria-labelledby":u,"aria-describedby":c,focusable:f,tabIndex:f?0:void 0,children:[l.jsx(Ys,{defs:r}),l.jsx("rect",{width:e,height:n,fill:h.background}),l.jsx("g",{transform:"translate("+i.left+","+i.top+")",children:o})]})},qs=_.memo(function(t){var e=t.size,n=t.color,i=t.borderWidth,r=t.borderColor;return l.jsx("circle",{r:e/2,fill:n,stroke:r,strokeWidth:i,style:{pointerEvents:"none"}})});_.memo(function(t){var e=t.x,n=t.y,i=t.symbol,r=i===void 0?qs:i,o=t.size,s=t.datum,a=t.color,u=t.borderWidth,c=t.borderColor,f=t.label,h=t.labelTextAnchor,p=h===void 0?"middle":h,C=t.labelYOffset,y=C===void 0?-12:C,L=t.ariaLabel,b=t.ariaLabelledBy,S=t.ariaDescribedBy,M=t.ariaHidden,j=t.ariaDisabled,m=t.isFocusable,P=m!==void 0&&m,O=t.tabIndex,B=O===void 0?0:O,w=t.onFocus,W=t.onBlur,A=t.testId,U=it(),H=mt(),D=H.animate,F=H.config,d=St({transform:"translate("+e+", "+n+")",config:F,immediate:!D}),k=_.useCallback(function(x){w==null||w(s,x)},[w,s]),v=_.useCallback(function(x){W==null||W(s,x)},[W,s]);return l.jsxs(ft.g,{transform:d.transform,style:{pointerEvents:"none"},focusable:P,tabIndex:P?B:void 0,"aria-label":L,"aria-labelledby":b,"aria-describedby":S,"aria-disabled":j,"aria-hidden":M,onFocus:P&&w?k:void 0,onBlur:P&&W?v:void 0,"data-testid":A,children:[_.createElement(r,{size:o,color:a,datum:s,borderWidth:u,borderColor:c}),f&&l.jsx("text",{textAnchor:p,y,style:Go(U.dots.text),children:f})]})});var Xs=_.memo(function(t){var e=t.width,n=t.height,i=t.axis,r=t.scale,o=t.value,s=t.lineStyle,a=t.textStyle,u=t.legend,c=t.legendNode,f=t.legendPosition,h=f===void 0?"top-right":f,p=t.legendOffsetX,C=p===void 0?14:p,y=t.legendOffsetY,L=y===void 0?14:y,b=t.legendOrientation,S=b===void 0?"horizontal":b,M=it(),j=0,m=0,P=0,O=0;if(i==="y"?(P=r(o),m=e):(j=r(o),O=n),u&&!c){var B=function(w){var W=w.axis,A=w.width,U=w.height,H=w.position,D=w.offsetX,F=w.offsetY,d=w.orientation,k=0,v=0,x=d==="vertical"?-90:0,g="start";if(W==="x")switch(H){case"top-left":k=-D,v=F,g="end";break;case"top":v=-F,g=d==="horizontal"?"middle":"start";break;case"top-right":k=D,v=F,g=d==="horizontal"?"start":"end";break;case"right":k=D,v=U/2,g=d==="horizontal"?"start":"middle";break;case"bottom-right":k=D,v=U-F,g="start";break;case"bottom":v=U+F,g=d==="horizontal"?"middle":"end";break;case"bottom-left":v=U-F,k=-D,g=d==="horizontal"?"end":"start";break;case"left":k=-D,v=U/2,g=d==="horizontal"?"end":"middle"}else switch(H){case"top-left":k=D,v=-F,g="start";break;case"top":k=A/2,v=-F,g=d==="horizontal"?"middle":"start";break;case"top-right":k=A-D,v=-F,g=d==="horizontal"?"end":"start";break;case"right":k=A+D,g=d==="horizontal"?"start":"middle";break;case"bottom-right":k=A-D,v=F,g="end";break;case"bottom":k=A/2,v=F,g=d==="horizontal"?"middle":"end";break;case"bottom-left":k=D,v=F,g=d==="horizontal"?"start":"end";break;case"left":k=-D,g=d==="horizontal"?"end":"middle"}return{x:k,y:v,rotation:x,textAnchor:g}}({axis:i,width:e,height:n,position:h,offsetX:C,offsetY:L,orientation:S});c=l.jsx("text",{transform:"translate("+B.x+", "+B.y+") rotate("+B.rotation+")",textAnchor:B.textAnchor,dominantBaseline:"central",style:a,children:u})}return l.jsxs("g",{transform:"translate("+j+", "+P+")",children:[l.jsx("line",{x1:0,x2:m,y1:0,y2:O,stroke:M.markers.lineColor,strokeWidth:M.markers.lineStrokeWidth,style:s}),c]})});_.memo(function(t){var e=t.markers,n=t.width,i=t.height,r=t.xScale,o=t.yScale;return e&&e.length!==0?e.map(function(s,a){return l.jsx(Xs,_t({},s,{width:n,height:i,scale:s.axis==="y"?o:r}),a)}):null});var Zs=function(t){return Tr(t)?t:function(e){return Bt(e,t)}},Js=function(t){return _.useMemo(function(){return Zs(t)},[t])};function Nn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Ks(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(r,o){if(r){if(typeof r=="string")return Nn(r,o);var s={}.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Nn(r,o):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(){return Yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yt.apply(null,arguments)}var Li={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:Xn,accent:Zn,dark2:Jn,paired:Kn,pastel1:Qn,pastel2:ti,set1:ei,set2:ni,set3:Ke,tableau10:ao},Qs=Object.keys(Li),Mi={brown_blueGreen:je,purpleRed_green:Be,pink_yellowGreen:Se,purple_orange:Oe,red_blue:Le,red_grey:Me,red_yellow_blue:Te,red_yellow_green:$e,spectral:Pe},ta=Object.keys(Mi),ea={brown_blueGreen:$r,purpleRed_green:Pr,pink_yellowGreen:zr,purple_orange:Er,red_blue:Wr,red_grey:Ar,red_yellow_blue:Nr,red_yellow_green:Rr,spectral:Ir},Ti={blues:ze,greens:Ee,greys:We,oranges:Ae,purples:Ne,reds:Re,blue_green:Ie,blue_purple:De,green_blue:Fe,orange_red:Ue,purple_blue_green:He,purple_blue:Ge,purple_red:Ye,red_purple:Ve,yellow_green_blue:qe,yellow_green:Xe,yellow_orange_brown:Ze,yellow_orange_red:Je},na=Object.keys(Ti),ia={blues:Dr,greens:Fr,greys:Ur,oranges:Hr,purples:Gr,reds:Yr,turbo:lo,viridis:co,inferno:uo,magma:ho,plasma:fo,cividis:po,warm:_o,cool:go,cubehelixDefault:mo,blue_green:Vr,blue_purple:qr,green_blue:Xr,orange_red:Zr,purple_blue_green:Jr,purple_blue:Kr,purple_red:Qr,red_purple:to,yellow_green_blue:eo,yellow_green:no,yellow_orange_brown:io,yellow_orange_red:ro},fe=Yt({},Li,Mi,Ti),ra=function(t){return Qs.includes(t)},oa=function(t){return ta.includes(t)},sa=function(t){return na.includes(t)},aa={rainbow:yo,sinebow:xo};Yt({},ea,ia,aa);var la=function(t){return t.theme!==void 0},ca=function(t){return t.from!==void 0},ua=function(t,e){if(typeof t=="function")return t;if(ii(t)){if(la(t)){if(e===void 0)throw new Error("Unable to use color from theme as no theme was provided");var n=Bt(e,t.theme);if(n===void 0)throw new Error("Color from theme is undefined at path: '"+t.theme+"'");return function(){return n}}if(ca(t)){var i=function(u){return Bt(u,t.from)};if(Array.isArray(t.modifiers)){for(var r,o=[],s=function(){var u=r.value,c=u[0],f=u[1];if(c==="brighter")o.push(function(h){return h.brighter(f)});else if(c==="darker")o.push(function(h){return h.darker(f)});else{if(c!=="opacity")throw new Error("Invalid color modifier: '"+c+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(h){return h.opacity=f,h})}},a=Ks(t.modifiers);!(r=a()).done;)s();return o.length===0?i:function(u){return o.reduce(function(c,f){return f(c)},oo(i(u))).toString()}}return i}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return t}},Rn=function(t,e){return _.useMemo(function(){return ua(t,e)},[t,e])},da=function(t,e){if(typeof t=="function")return t;var n=typeof e=="function"?e:function(h){return Bt(h,e)};if(Array.isArray(t)){var i=Ct(t),r=function(h){return i(n(h))};return r.scale=i,r}if(ii(t)){if(function(h){return h.datum!==void 0}(t))return function(h){return Bt(h,t.datum)};if(function(h){return h.scheme!==void 0}(t)){if(ra(t.scheme)){var o=Ct(fe[t.scheme]),s=function(h){return o(n(h))};return s.scale=o,s}if(oa(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>11))throw new Error("Invalid size '"+t.size+"' for diverging color scheme '"+t.scheme+"', must be between 3~11");var a=Ct(fe[t.scheme][t.size||11]),u=function(h){return a(n(h))};return u.scale=a,u}if(sa(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>9))throw new Error("Invalid size '"+t.size+"' for sequential color scheme '"+t.scheme+"', must be between 3~9");var c=Ct(fe[t.scheme][t.size||9]),f=function(h){return c(n(h))};return f.scale=c,f}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return t}},ha=function(t,e){return _.useMemo(function(){return da(t,e)},[t,e])};function Nt(){return Nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nt.apply(null,arguments)}function In(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var fa=["style","children"],pa=["outlineWidth","outlineColor","outlineOpacity"],$i=function(t){var e=t.style,n=t.children,i=In(t,fa),r=e.outlineWidth,o=e.outlineColor,s=e.outlineOpacity,a=In(e,pa);return l.jsxs(l.Fragment,{children:[r>0&&l.jsx(ft.text,Nt({},i,{style:Nt({},a,{strokeWidth:2*r,stroke:o,strokeOpacity:s,strokeLinejoin:"round"}),children:n})),l.jsx(ft.text,Nt({},i,{style:a,children:n}))]})},_a=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,o=t.opacity,s=o===void 0?1:o,a=t.borderWidth,u=a===void 0?0:a,c=t.borderColor;return l.jsx("circle",{r:i/2,cx:e+i/2,cy:n+i/2,fill:r,opacity:s,strokeWidth:u,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})},ga=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,o=t.opacity,s=o===void 0?1:o,a=t.borderWidth,u=a===void 0?0:a,c=t.borderColor;return l.jsx("g",{transform:"translate("+e+","+n+")",children:l.jsx("path",{d:`
                    M`+i/2+` 0
                    L`+.8*i+" "+i/2+`
                    L`+i/2+" "+i+`
                    L`+.2*i+" "+i/2+`
                    L`+i/2+` 0
                `,fill:r,opacity:s,strokeWidth:u,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})},ma=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,o=t.opacity,s=o===void 0?1:o,a=t.borderWidth,u=a===void 0?0:a,c=t.borderColor;return l.jsx("rect",{x:e,y:n,fill:r,opacity:s,strokeWidth:u,stroke:c===void 0?"transparent":c,width:i,height:i,style:{pointerEvents:"none"}})},ya=function(t){var e=t.x,n=t.y,i=t.size,r=t.fill,o=t.opacity,s=o===void 0?1:o,a=t.borderWidth,u=a===void 0?0:a,c=t.borderColor;return l.jsx("g",{transform:"translate("+e+","+n+")",children:l.jsx("path",{d:`
                M`+i/2+` 0
                L`+i+" "+i+`
                L0 `+i+`
                L`+i/2+` 0
            `,fill:r,opacity:s,strokeWidth:u,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})};function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ht.apply(null,arguments)}var xa={top:0,right:0,bottom:0,left:0},Pi=function(t){var e,n=t.direction,i=t.itemsSpacing,r=t.padding,o=t.itemCount,s=t.itemWidth,a=t.itemHeight;if(typeof r!="number"&&(typeof(e=r)!="object"||Array.isArray(e)||e===null))throw new Error("Invalid property padding, must be one of: number, object");var u=typeof r=="number"?{top:r,right:r,bottom:r,left:r}:ht({},xa,r),c=u.left+u.right,f=u.top+u.bottom,h=s+c,p=a+f,C=(o-1)*i;return n==="row"?h=s*o+C+c:n==="column"&&(p=a*o+C+f),{width:h,height:p,padding:u}},ba=function(t){var e=t.anchor,n=t.translateX,i=t.translateY,r=t.containerWidth,o=t.containerHeight,s=t.width,a=t.height,u=n,c=i;switch(e){case"top":u+=(r-s)/2;break;case"top-right":u+=r-s;break;case"right":u+=r-s,c+=(o-a)/2;break;case"bottom-right":u+=r-s,c+=o-a;break;case"bottom":u+=(r-s)/2,c+=o-a;break;case"bottom-left":c+=o-a;break;case"left":c+=(o-a)/2;break;case"center":u+=(r-s)/2,c+=(o-a)/2}return{x:u,y:c}},va=function(t){var e,n,i,r,o,s,a=t.direction,u=t.justify,c=t.symbolSize,f=t.symbolSpacing,h=t.width,p=t.height;switch(a){case"left-to-right":e=0,n=(p-c)/2,r=p/2,s="central",u?(i=h,o="end"):(i=c+f,o="start");break;case"right-to-left":e=h-c,n=(p-c)/2,r=p/2,s="central",u?(i=0,o="start"):(i=h-c-f,o="end");break;case"top-to-bottom":e=(h-c)/2,n=0,i=h/2,o="middle",u?(r=p,s="alphabetic"):(r=c+f,s="text-before-edge");break;case"bottom-to-top":e=(h-c)/2,n=p-c,i=h/2,o="middle",u?(r=0,s="text-before-edge"):(r=p-c-f,s="alphabetic")}return{symbolX:e,symbolY:n,labelX:i,labelY:r,labelAnchor:o,labelAlignment:s}},ka={circle:_a,diamond:ga,square:ma,triangle:ya},wa=function(t){var e,n,i,r,o,s,a,u,c,f,h,p=t.x,C=t.y,y=t.width,L=t.height,b=t.data,S=t.direction,M=S===void 0?"left-to-right":S,j=t.justify,m=j!==void 0&&j,P=t.textColor,O=t.background,B=O===void 0?"transparent":O,w=t.opacity,W=w===void 0?1:w,A=t.symbolShape,U=A===void 0?"square":A,H=t.symbolSize,D=H===void 0?16:H,F=t.symbolSpacing,d=F===void 0?8:F,k=t.symbolBorderWidth,v=k===void 0?0:k,x=t.symbolBorderColor,g=x===void 0?"transparent":x,E=t.onClick,N=t.onMouseEnter,Y=t.onMouseLeave,V=t.toggleSerie,G=t.effects,X=_.useState({}),T=X[0],I=X[1],Z=it(),yt=_.useCallback(function(tt){if(G){var Lt=G.filter(function(et){return et.on==="hover"}).reduce(function(et,Mt){return ht({},et,Mt.style)},{});I(Lt)}N==null||N(b,tt)},[N,b,G]),xt=_.useCallback(function(tt){if(G){var Lt=G.filter(function(et){return et.on!=="hover"}).reduce(function(et,Mt){return ht({},et,Mt.style)},{});I(Lt)}Y==null||Y(b,tt)},[Y,b,G]),Q=va({direction:M,justify:m,symbolSize:(e=T.symbolSize)!=null?e:D,symbolSpacing:d,width:y,height:L}),bt=Q.symbolX,st=Q.symbolY,z=Q.labelX,Ot=Q.labelY,vt=Q.labelAnchor,Jt=Q.labelAlignment,Rt=[E,N,Y,V].some(function(tt){return tt!==void 0}),Kt=typeof U=="function"?U:ka[U];return l.jsxs("g",{transform:"translate("+p+","+C+")",style:{opacity:(n=T.itemOpacity)!=null?n:W},children:[l.jsx("rect",{width:y,height:L,fill:(i=T.itemBackground)!=null?i:B,style:{cursor:Rt?"pointer":"auto"},onClick:function(tt){E==null||E(b,tt),V==null||V(b.id)},onMouseEnter:yt,onMouseLeave:xt}),_.createElement(Kt,ht({id:b.id,x:bt,y:st,size:(r=T.symbolSize)!=null?r:D,fill:(o=(s=b.fill)!=null?s:b.color)!=null?o:"black",borderWidth:(a=T.symbolBorderWidth)!=null?a:v,borderColor:(u=T.symbolBorderColor)!=null?u:g},b.hidden?Z.legends.hidden.symbol:void 0)),l.jsx($i,{textAnchor:vt,style:ht({},Z.legends.text,{fill:(c=(f=(h=T.itemTextColor)!=null?h:P)!=null?f:Z.legends.text.fill)!=null?c:"black",dominantBaseline:Jt,pointerEvents:"none",userSelect:"none"},b.hidden?Z.legends.hidden.text:void 0),x:z,y:Ot,children:b.label})]})},Ca=function(t){var e=t.data,n=t.x,i=t.y,r=t.direction,o=t.padding,s=o===void 0?0:o,a=t.justify,u=t.effects,c=t.itemWidth,f=t.itemHeight,h=t.itemDirection,p=h===void 0?"left-to-right":h,C=t.itemsSpacing,y=C===void 0?0:C,L=t.itemTextColor,b=t.itemBackground,S=b===void 0?"transparent":b,M=t.itemOpacity,j=M===void 0?1:M,m=t.symbolShape,P=t.symbolSize,O=t.symbolSpacing,B=t.symbolBorderWidth,w=t.symbolBorderColor,W=t.onClick,A=t.onMouseEnter,U=t.onMouseLeave,H=t.toggleSerie,D=Pi({itemCount:e.length,itemWidth:c,itemHeight:f,itemsSpacing:y,direction:r,padding:s}).padding,F=r==="row"?c+y:0,d=r==="column"?f+y:0;return l.jsx("g",{transform:"translate("+n+","+i+")",children:e.map(function(k,v){return l.jsx(wa,{data:k,x:v*F+D.left,y:v*d+D.top,width:c,height:f,direction:p,justify:a,effects:u,textColor:L,background:S,opacity:j,symbolShape:m,symbolSize:P,symbolSpacing:O,symbolBorderWidth:B,symbolBorderColor:w,onClick:W,onMouseEnter:A,onMouseLeave:U,toggleSerie:H},v)})})},ja=function(t){var e=t.data,n=t.containerWidth,i=t.containerHeight,r=t.translateX,o=r===void 0?0:r,s=t.translateY,a=s===void 0?0:s,u=t.anchor,c=t.direction,f=t.padding,h=f===void 0?0:f,p=t.justify,C=t.itemsSpacing,y=C===void 0?0:C,L=t.itemWidth,b=t.itemHeight,S=t.itemDirection,M=t.itemTextColor,j=t.itemBackground,m=t.itemOpacity,P=t.symbolShape,O=t.symbolSize,B=t.symbolSpacing,w=t.symbolBorderWidth,W=t.symbolBorderColor,A=t.onClick,U=t.onMouseEnter,H=t.onMouseLeave,D=t.toggleSerie,F=t.effects,d=Pi({itemCount:e.length,itemsSpacing:y,itemWidth:L,itemHeight:b,direction:c,padding:h}),k=d.width,v=d.height,x=ba({anchor:u,translateX:o,translateY:a,containerWidth:n,containerHeight:i,width:k,height:v}),g=x.x,E=x.y;return l.jsx(Ca,{data:e,x:g,y:E,direction:c,padding:h,justify:p,effects:F,itemsSpacing:y,itemWidth:L,itemHeight:b,itemDirection:S,itemTextColor:M,itemBackground:j,itemOpacity:m,symbolShape:P,symbolSize:O,symbolSpacing:B,symbolBorderWidth:w,symbolBorderColor:W,onClick:A,onMouseEnter:U,onMouseLeave:H,toggleSerie:typeof D=="boolean"?void 0:D})};function Ba(t){return t.target.depth}function Sa(t){return t.depth}function Oa(t,e){return e-1-t.height}function zi(t,e){return t.sourceLinks.length?t.depth:e-1}function La(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ri(t.sourceLinks,Ba)-1:0}function Ft(t){return function(){return t}}function Dn(t,e){return Vt(t.source,e.source)||t.index-e.index}function Fn(t,e){return Vt(t.target,e.target)||t.index-e.index}function Vt(t,e){return t.y0-e.y0}function pe(t){return t.value}function Ma(t){return t.index}function Ta(t){return t.nodes}function $a(t){return t.links}function Un(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Hn({nodes:t}){for(const e of t){let n=e.y0,i=n;for(const r of e.sourceLinks)r.y0=n+r.width/2,n+=r.width;for(const r of e.targetLinks)r.y1=i+r.width/2,i+=r.width}}function Pa(){let t=0,e=0,n=1,i=1,r=24,o=8,s,a=Ma,u=zi,c,f,h=Ta,p=$a,C=6;function y(){const d={nodes:h.apply(null,arguments),links:p.apply(null,arguments)};return L(d),b(d),S(d),M(d),P(d),Hn(d),d}y.update=function(d){return Hn(d),d},y.nodeId=function(d){return arguments.length?(a=typeof d=="function"?d:Ft(d),y):a},y.nodeAlign=function(d){return arguments.length?(u=typeof d=="function"?d:Ft(d),y):u},y.nodeSort=function(d){return arguments.length?(c=d,y):c},y.nodeWidth=function(d){return arguments.length?(r=+d,y):r},y.nodePadding=function(d){return arguments.length?(o=s=+d,y):o},y.nodes=function(d){return arguments.length?(h=typeof d=="function"?d:Ft(d),y):h},y.links=function(d){return arguments.length?(p=typeof d=="function"?d:Ft(d),y):p},y.linkSort=function(d){return arguments.length?(f=d,y):f},y.size=function(d){return arguments.length?(t=e=0,n=+d[0],i=+d[1],y):[n-t,i-e]},y.extent=function(d){return arguments.length?(t=+d[0][0],n=+d[1][0],e=+d[0][1],i=+d[1][1],y):[[t,e],[n,i]]},y.iterations=function(d){return arguments.length?(C=+d,y):C};function L({nodes:d,links:k}){for(const[x,g]of d.entries())g.index=x,g.sourceLinks=[],g.targetLinks=[];const v=new Map(d.map((x,g)=>[a(x,g,d),x]));for(const[x,g]of k.entries()){g.index=x;let{source:E,target:N}=g;typeof E!="object"&&(E=g.source=Un(v,E)),typeof N!="object"&&(N=g.target=Un(v,N)),E.sourceLinks.push(g),N.targetLinks.push(g)}if(f!=null)for(const{sourceLinks:x,targetLinks:g}of d)x.sort(f),g.sort(f)}function b({nodes:d}){for(const k of d)k.value=k.fixedValue===void 0?Math.max(de(k.sourceLinks,pe),de(k.targetLinks,pe)):k.fixedValue}function S({nodes:d}){const k=d.length;let v=new Set(d),x=new Set,g=0;for(;v.size;){for(const E of v){E.depth=g;for(const{target:N}of E.sourceLinks)x.add(N)}if(++g>k)throw new Error("circular link");v=x,x=new Set}}function M({nodes:d}){const k=d.length;let v=new Set(d),x=new Set,g=0;for(;v.size;){for(const E of v){E.height=g;for(const{source:N}of E.targetLinks)x.add(N)}if(++g>k)throw new Error("circular link");v=x,x=new Set}}function j({nodes:d}){const k=bn(d,g=>g.depth)+1,v=(n-t-r)/(k-1),x=new Array(k);for(const g of d){const E=Math.max(0,Math.min(k-1,Math.floor(u.call(null,g,k))));g.layer=E,g.x0=t+E*v,g.x1=g.x0+r,x[E]?x[E].push(g):x[E]=[g]}if(c)for(const g of x)g.sort(c);return x}function m(d){const k=ri(d,v=>(i-e-(v.length-1)*s)/de(v,pe));for(const v of d){let x=e;for(const g of v){g.y0=x,g.y1=x+g.value*k,x=g.y1+s;for(const E of g.sourceLinks)E.width=E.value*k}x=(i-x+s)/(v.length+1);for(let g=0;g<v.length;++g){const E=v[g];E.y0+=x*(g+1),E.y1+=x*(g+1)}H(v)}}function P(d){const k=j(d);s=Math.min(o,(i-e)/(bn(k,v=>v.length)-1)),m(k);for(let v=0;v<C;++v){const x=Math.pow(.99,v),g=Math.max(1-x,(v+1)/C);B(k,x,g),O(k,x,g)}}function O(d,k,v){for(let x=1,g=d.length;x<g;++x){const E=d[x];for(const N of E){let Y=0,V=0;for(const{source:X,value:T}of N.targetLinks){let I=T*(N.layer-X.layer);Y+=D(X,N)*I,V+=I}if(!(V>0))continue;let G=(Y/V-N.y0)*k;N.y0+=G,N.y1+=G,U(N)}c===void 0&&E.sort(Vt),w(E,v)}}function B(d,k,v){for(let x=d.length,g=x-2;g>=0;--g){const E=d[g];for(const N of E){let Y=0,V=0;for(const{target:X,value:T}of N.sourceLinks){let I=T*(X.layer-N.layer);Y+=F(N,X)*I,V+=I}if(!(V>0))continue;let G=(Y/V-N.y0)*k;N.y0+=G,N.y1+=G,U(N)}c===void 0&&E.sort(Vt),w(E,v)}}function w(d,k){const v=d.length>>1,x=d[v];A(d,x.y0-s,v-1,k),W(d,x.y1+s,v+1,k),A(d,i,d.length-1,k),W(d,e,0,k)}function W(d,k,v,x){for(;v<d.length;++v){const g=d[v],E=(k-g.y0)*x;E>1e-6&&(g.y0+=E,g.y1+=E),k=g.y1+s}}function A(d,k,v,x){for(;v>=0;--v){const g=d[v],E=(g.y1-k)*x;E>1e-6&&(g.y0-=E,g.y1-=E),k=g.y0-s}}function U({sourceLinks:d,targetLinks:k}){if(f===void 0){for(const{source:{sourceLinks:v}}of k)v.sort(Fn);for(const{target:{targetLinks:v}}of d)v.sort(Dn)}}function H(d){if(f===void 0)for(const{sourceLinks:k,targetLinks:v}of d)k.sort(Fn),v.sort(Dn)}function D(d,k){let v=d.y0-(d.sourceLinks.length-1)*s/2;for(const{target:x,width:g}of d.sourceLinks){if(x===k)break;v+=g+s}for(const{source:x,width:g}of k.targetLinks){if(x===d)break;v-=g}return v}function F(d,k){let v=k.y0-(k.targetLinks.length-1)*s/2;for(const{source:x,width:g}of k.targetLinks){if(x===d)break;v+=g+s}for(const{target:x,width:g}of d.sourceLinks){if(x===k)break;v-=g}return v}return y}var za=bo,Ea=1,Wa=4;function Aa(t){return za(t,Ea|Wa)}var Na=Aa;const Ra=Vi(Na);function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gt.apply(null,arguments)}var _e={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},Ia={center:La,justify:zi,start:Sa,end:Oa},Da=function(t){return Ia[t]},R={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeSpacing:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},labelComponent:$i,isInteractive:!0,nodeTooltip:function(t){var e=t.node;return l.jsx(Bn,{id:e.label,enableChip:!0,color:e.color})},linkTooltip:function(t){var e=t.link;return l.jsx(Bn,{id:l.jsxs("span",{style:_e.container,children:[l.jsx(xe,{color:e.source.color,style:_e.sourceChip}),l.jsx("strong",{children:e.source.label})," > ",l.jsx("strong",{children:e.target.label}),l.jsx(xe,{color:e.target.color,style:_e.targetChip}),l.jsx("strong",{children:e.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},Fa=function(t){return t.id},Ua=function(t){var e=t.data,n=t.valueFormat,i=t.layout,r=t.width,o=t.height,s=t.sort,a=t.align,u=t.colors,c=t.nodeThickness,f=t.nodeSpacing,h=t.nodeInnerPadding,p=t.nodeBorderColor,C=t.label,y=t.labelTextColor,L=_.useState(null),b=L[0],S=L[1],M=_.useState(null),j=M[0],m=M[1],P=_.useMemo(function(){if(s!=="auto")return s==="input"?null:s==="ascending"?function(x,g){return x.value-g.value}:s==="descending"?function(x,g){return g.value-x.value}:s},[s]),O=s==="input"?null:void 0,B=_.useMemo(function(){return typeof a=="function"?a:Da(a)},[a]),w=it(),W=ha(u,"id"),A=Rn(p,w),U=Js(C),H=Rn(y,w),D=Oi(n),F=_.useMemo(function(){return function(x){var g=x.data,E=x.formatValue,N=x.layout,Y=x.alignFunction,V=x.sortFunction,G=x.linkSortMode,X=x.nodeThickness,T=x.nodeSpacing,I=x.nodeInnerPadding,Z=x.width,yt=x.height,xt=x.getColor,Q=x.getLabel,bt=Pa().nodeAlign(Y).nodeSort(V).linkSort(G).nodeWidth(X).nodePadding(T).size(N==="horizontal"?[Z,yt]:[yt,Z]).nodeId(Fa),st=Ra(g);return bt(st),st.nodes.forEach(function(z){if(z.color=xt(z),z.label=Q(z),z.formattedValue=E(z.value),N==="horizontal")z.x=z.x0+I,z.y=z.y0,z.width=Math.max(z.x1-z.x0-2*I,0),z.height=Math.max(z.y1-z.y0,0);else{z.x=z.y0,z.y=z.x0+I,z.width=Math.max(z.y1-z.y0,0),z.height=Math.max(z.x1-z.x0-2*I,0);var Ot=z.x0,vt=z.x1;z.x0=z.y0,z.x1=z.y1,z.y0=Ot,z.y1=vt}}),st.links.forEach(function(z){z.formattedValue=E(z.value),z.color=z.source.color,z.pos0=z.y0,z.pos1=z.y1,z.thickness=z.width,delete z.y0,delete z.y1,delete z.width}),st}({data:e,formatValue:D,layout:i,alignFunction:B,sortFunction:P,linkSortMode:O,nodeThickness:c,nodeSpacing:f,nodeInnerPadding:h,width:r,height:o,getColor:W,getLabel:U})},[e,D,i,B,P,O,c,f,h,r,o,W,U]),d=F.nodes,k=F.links,v=_.useMemo(function(){return d.map(function(x){return{id:x.id,label:x.label,color:x.color}})},[d]);return{nodes:d,links:k,legendData:v,getNodeBorderColor:A,currentNode:b,setCurrentNode:S,currentLink:j,setCurrentLink:m,getLabelTextColor:H}},Ha=function(t){var e=t.node,n=t.x,i=t.y,r=t.width,o=t.height,s=t.color,a=t.opacity,u=t.borderWidth,c=t.borderColor,f=t.borderRadius,h=t.setCurrent,p=t.isInteractive,C=t.onClick,y=t.tooltip,L=mt(),b=L.animate,S=L.config,M=St({x:n,y:i,width:r,height:o,opacity:a,color:s,config:S,immediate:!b}),j=ci(),m=j.showTooltipFromEvent,P=j.hideTooltip,O=_.useCallback(function(A){h(e),m(_.createElement(y,{node:e}),A,"left")},[h,e,m,y]),B=_.useCallback(function(A){m(_.createElement(y,{node:e}),A,"left")},[m,e,y]),w=_.useCallback(function(){h(null),P()},[h,P]),W=_.useCallback(function(A){C==null||C(e,A)},[C,e]);return l.jsx(ft.rect,{x:M.x,y:M.y,rx:f,ry:f,width:M.width.to(function(A){return Math.max(A,0)}),height:M.height.to(function(A){return Math.max(A,0)}),fill:M.color,fillOpacity:M.opacity,strokeWidth:u,stroke:c,strokeOpacity:a,onMouseEnter:p?O:void 0,onMouseMove:p?B:void 0,onMouseLeave:p?w:void 0,onClick:p?W:void 0})},Ga=function(t){var e=t.nodes,n=t.nodeOpacity,i=t.nodeHoverOpacity,r=t.nodeHoverOthersOpacity,o=t.borderWidth,s=t.getBorderColor,a=t.borderRadius,u=t.setCurrentNode,c=t.currentNode,f=t.currentLink,h=t.isCurrentNode,p=t.isInteractive,C=t.onClick,y=t.tooltip,L=function(b){return c||f?h(b)?i:r:n};return l.jsx(l.Fragment,{children:e.map(function(b){return l.jsx(Ha,{node:b,x:b.x,y:b.y,width:b.width,height:b.height,color:b.color,opacity:L(b),borderWidth:o,borderColor:s(b),borderRadius:a,setCurrent:u,isInteractive:p,onClick:C,tooltip:y},b.id)})})},Ya=function(t){var e=t.id,n=t.layout,i=t.startColor,r=t.endColor;return l.jsxs("linearGradient",gt({id:e,spreadMethod:"pad"},n==="horizontal"?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[l.jsx("stop",{offset:"0%",stopColor:i}),l.jsx("stop",{offset:"100%",stopColor:r})]}))},Va=function(t){var e=t.link,n=t.layout,i=t.path,r=t.color,o=t.opacity,s=t.blendMode,a=t.enableGradient,u=t.setCurrent,c=t.tooltip,f=t.isInteractive,h=t.onClick,p=e.source.id+"."+e.target.id+"."+e.index,C=mt(),y=C.animate,L=C.config,b=$s(i),S=St({color:r,opacity:o,config:L,immediate:!y}),M=ci(),j=M.showTooltipFromEvent,m=M.hideTooltip,P=_.useCallback(function(W){u(e),j(_.createElement(c,{link:e}),W,"left")},[u,e,j,c]),O=_.useCallback(function(W){j(_.createElement(c,{link:e}),W,"left")},[j,e,c]),B=_.useCallback(function(){u(null),m()},[u,m]),w=_.useCallback(function(W){h==null||h(e,W)},[h,e]);return l.jsxs(l.Fragment,{children:[a&&l.jsx(Ya,{id:p,layout:n,startColor:e.startColor||e.source.color,endColor:e.endColor||e.target.color}),l.jsx(ft.path,{fill:a?'url("#'+encodeURI(p)+'")':S.color,d:b,fillOpacity:S.opacity,onMouseEnter:f?P:void 0,onMouseMove:f?O:void 0,onMouseLeave:f?B:void 0,onClick:f?w:void 0,style:{mixBlendMode:s}})]})},qa=function(t){var e=t.links,n=t.layout,i=t.linkOpacity,r=t.linkHoverOpacity,o=t.linkHoverOthersOpacity,s=t.linkContract,a=t.linkBlendMode,u=t.enableLinkGradient,c=t.setCurrentLink,f=t.currentLink,h=t.currentNode,p=t.isCurrentLink,C=t.isInteractive,y=t.onClick,L=t.tooltip,b=function(M){return h||f?p(M)?r:o:i},S=_.useMemo(function(){return n==="horizontal"?(M=On().curve(ki),function(j,m){var P=Math.max(1,j.thickness-2*m)/2,O=.12*(j.target.x0-j.source.x1),B=[[j.source.x1,j.pos0-P],[j.source.x1+O,j.pos0-P],[j.target.x0-O,j.pos1-P],[j.target.x0,j.pos1-P],[j.target.x0,j.pos1+P],[j.target.x0-O,j.pos1+P],[j.source.x1+O,j.pos0+P],[j.source.x1,j.pos0+P],[j.source.x1,j.pos0-P]];return M(B)+"Z"}):function(){var j=On().curve(wi);return function(m,P){var O=Math.max(1,m.thickness-2*P)/2,B=.12*(m.target.y0-m.source.y1),w=[[m.pos0+O,m.source.y1],[m.pos0+O,m.source.y1+B],[m.pos1+O,m.target.y0-B],[m.pos1+O,m.target.y0],[m.pos1-O,m.target.y0],[m.pos1-O,m.target.y0-B],[m.pos0-O,m.source.y1+B],[m.pos0-O,m.source.y1],[m.pos0+O,m.source.y1]];return j(w)+"Z"}}();var M},[n]);return l.jsx(l.Fragment,{children:e.map(function(M){return l.jsx(Va,{link:M,layout:n,path:S(M,s),color:M.color,opacity:b(M),blendMode:a,enableGradient:u,setCurrent:c,isInteractive:C,onClick:y,tooltip:L},M.source.id+"."+M.target.id+"."+M.index)})})},Xa=function(t){var e=t.nodes,n=t.layout,i=t.width,r=t.height,o=t.labelPosition,s=t.labelPadding,a=t.labelOrientation,u=t.getLabelTextColor,c=t.labelComponent,f=it(),h=a==="vertical"?-90:0,p=e.map(function(S){var M,j,m;return n==="horizontal"?(j=S.y+S.height/2,S.x<i/2?o==="inside"?(M=S.x1+s,m=a==="vertical"?"middle":"start"):(M=S.x-s,m=a==="vertical"?"middle":"end"):o==="inside"?(M=S.x-s,m=a==="vertical"?"middle":"end"):(M=S.x1+s,m=a==="vertical"?"middle":"start")):n==="vertical"&&(M=S.x+S.width/2,S.y<r/2?o==="inside"?(j=S.y1+s,m=a==="vertical"?"end":"middle"):(j=S.y-s,m=a==="vertical"?"start":"middle"):o==="inside"?(j=S.y-s,m=a==="vertical"?"start":"middle"):(j=S.y1+s,m=a==="vertical"?"end":"middle")),{id:S.id,label:S.label,x:M,y:j,textAnchor:m,color:u(S)}}),C=mt(),y=C.animate,L=C.config,b=so(p.length,p.map(function(S){return{transform:"translate("+S.x+", "+S.y+") rotate("+h+")",color:S.color,config:L,immediate:!y}}));return l.jsx(l.Fragment,{children:b.map(function(S,M){var j=p[M];return l.jsx(c,{dominantBaseline:"central",textAnchor:j.textAnchor,transform:S.transform,style:gt({},f.labels.text,{fill:S.color,pointerEvents:"none"}),node:e[M],children:j.label},j.id)})})},Za=["isInteractive","animate","motionConfig","theme","renderWrapper"],Ja=function(t){var e=t.data,n=t.valueFormat,i=t.layout,r=i===void 0?R.layout:i,o=t.sort,s=o===void 0?R.sort:o,a=t.align,u=a===void 0?R.align:a,c=t.width,f=t.height,h=t.margin,p=t.colors,C=p===void 0?R.colors:p,y=t.nodeThickness,L=y===void 0?R.nodeThickness:y,b=t.nodeSpacing,S=b===void 0?R.nodeThickness:b,M=t.nodeInnerPadding,j=M===void 0?R.nodeInnerPadding:M,m=t.nodeBorderColor,P=m===void 0?R.nodeBorderColor:m,O=t.nodeOpacity,B=O===void 0?R.nodeOpacity:O,w=t.nodeHoverOpacity,W=w===void 0?R.nodeHoverOpacity:w,A=t.nodeHoverOthersOpacity,U=A===void 0?R.nodeHoverOthersOpacity:A,H=t.nodeBorderWidth,D=H===void 0?R.nodeBorderWidth:H,F=t.nodeBorderRadius,d=F===void 0?R.nodeBorderRadius:F,k=t.linkOpacity,v=k===void 0?R.linkOpacity:k,x=t.linkHoverOpacity,g=x===void 0?R.linkHoverOpacity:x,E=t.linkHoverOthersOpacity,N=E===void 0?R.linkHoverOthersOpacity:E,Y=t.linkContract,V=Y===void 0?R.linkContract:Y,G=t.linkBlendMode,X=G===void 0?R.linkBlendMode:G,T=t.enableLinkGradient,I=T===void 0?R.enableLinkGradient:T,Z=t.enableLabels,yt=Z===void 0?R.enableLabels:Z,xt=t.labelComponent,Q=xt===void 0?R.labelComponent:xt,bt=t.labelPosition,st=bt===void 0?R.labelPosition:bt,z=t.labelPadding,Ot=z===void 0?R.labelPadding:z,vt=t.labelOrientation,Jt=vt===void 0?R.labelOrientation:vt,Rt=t.label,Kt=Rt===void 0?R.label:Rt,tt=t.labelTextColor,Lt=tt===void 0?R.labelTextColor:tt,et=t.nodeTooltip,Mt=et===void 0?R.nodeTooltip:et,on=t.linkTooltip,Ei=on===void 0?R.linkTooltip:on,sn=t.isInteractive,It=sn===void 0?R.isInteractive:sn,an=t.onClick,ln=t.legends,Wi=ln===void 0?R.legends:ln,cn=t.layers,Tt=cn===void 0?R.layers:cn,un=t.role,Ai=un===void 0?R.role:un,Ni=t.ariaLabel,Ri=t.ariaLabelledBy,Ii=t.ariaDescribedBy,$t=Es(c,f,h),Qt=$t.margin,te=$t.innerWidth,ee=$t.innerHeight,ne=$t.outerWidth,ie=$t.outerHeight,rt=Ua({data:e,valueFormat:n,layout:r,width:te,height:ee,sort:s,align:u,colors:C,nodeThickness:L,nodeSpacing:S,nodeInnerPadding:j,nodeBorderColor:P,label:Kt,labelTextColor:Lt}),Dt=rt.nodes,Pt=rt.links,Di=rt.legendData,Fi=rt.getNodeBorderColor,K=rt.currentNode,re=rt.setCurrentNode,nt=rt.currentLink,oe=rt.setCurrentLink,Ui=rt.getLabelTextColor,dn=_.useMemo(function(){var ot=function(){return!1},ct=function(){return!1};if(nt&&(ot=function(q){var J=q.id;return J===nt.source.id||J===nt.target.id},ct=function(q){var J=q.source,ut=q.target;return J.id===nt.source.id&&ut.id===nt.target.id}),K){var at=[K.id];Pt.filter(function(q){var J=q.source,ut=q.target;return J.id===K.id||ut.id===K.id}).forEach(function(q){var J=q.source,ut=q.target;at.push(J.id),at.push(ut.id)}),at=wr(at),ot=function(q){var J=q.id;return at.includes(J)},ct=function(q){var J=q.source,ut=q.target;return J.id===K.id||ut.id===K.id}}return{isCurrentNode:ot,isCurrentLink:ct}},[nt,K,Pt]),se=dn.isCurrentNode,ae=dn.isCurrentLink,Hi=_.useMemo(function(){return{links:Pt,nodes:Dt,margin:Qt,width:c,height:f,outerWidth:ne,outerHeight:ie,currentNode:K,isCurrentNode:se,setCurrentNode:re,currentLink:nt,isCurrentLink:ae,setCurrentLink:oe,isInteractive:It}},[Pt,Dt,Qt,c,f,ne,ie,K,se,re,nt,ae,oe,It]),kt={links:null,nodes:null,labels:null,legends:null};return Tt.includes("links")&&(kt.links=l.jsx(qa,{links:Pt,layout:r,linkContract:V,linkOpacity:v,linkHoverOpacity:g,linkHoverOthersOpacity:N,linkBlendMode:X,enableLinkGradient:I,setCurrentLink:oe,currentNode:K,currentLink:nt,isCurrentLink:ae,isInteractive:It,onClick:an,tooltip:Ei},"links")),Tt.includes("nodes")&&(kt.nodes=l.jsx(Ga,{nodes:Dt,nodeOpacity:B,nodeHoverOpacity:W,nodeHoverOthersOpacity:U,borderWidth:D,borderRadius:d,getBorderColor:Fi,setCurrentNode:re,currentNode:K,currentLink:nt,isCurrentNode:se,isInteractive:It,onClick:an,tooltip:Mt},"nodes")),Tt.includes("labels")&&yt&&(kt.labels=l.jsx(Xa,{nodes:Dt,layout:r,width:te,height:ee,labelPosition:st,labelPadding:Ot,labelOrientation:Jt,getLabelTextColor:Ui,labelComponent:Q},"labels")),Tt.includes("legends")&&(kt.legends=l.jsx(_.Fragment,{children:Wi.map(function(ot,ct){return l.jsx(ja,gt({},ot,{containerWidth:te,containerHeight:ee,data:Di}),"legend"+ct)})},"legends")),l.jsx(Vs,{width:ne,height:ie,margin:Qt,role:Ai,ariaLabel:Ni,ariaLabelledBy:Ri,ariaDescribedBy:Ii,children:Tt.map(function(ot,ct){var at;return typeof ot=="function"?l.jsx(_.Fragment,{children:_.createElement(ot,Hi)},ct):(at=kt==null?void 0:kt[ot])!=null?at:null})})},Ka=function(t){var e=t.isInteractive,n=e===void 0?R.isInteractive:e,i=t.animate,r=i===void 0?R.animate:i,o=t.motionConfig,s=o===void 0?R.motionConfig:o,a=t.theme,u=t.renderWrapper,c=function(f,h){if(f==null)return{};var p={};for(var C in f)if({}.hasOwnProperty.call(f,C)){if(h.indexOf(C)!==-1)continue;p[C]=f[C]}return p}(t,Za);return l.jsx(Ts,{animate:r,isInteractive:n,motionConfig:s,renderWrapper:u,theme:a,children:l.jsx(Ja,gt({isInteractive:n},c))})},Qa=function(t){return l.jsx(As,{children:function(e){var n=e.width,i=e.height;return l.jsx(Ka,gt({width:n,height:i},t))}})};const tl=[{id:"White",group:1,total:430},{id:"Yellow",group:1,total:749},{id:"Orange",group:1,total:1204},{id:"Green",group:1,total:609},{id:"Blue",group:1,total:243},{id:"Purple",group:1,total:123},{id:"Brown",group:1,total:81},{id:"Red",group:1,total:70},{id:"Black",group:1,total:169}],el=[{source:"White",target:"Yellow",value:533},{source:"White",target:"Orange",value:119},{source:"White",target:"Green",value:13},{source:"White",target:"Blue",value:4},{source:"White",target:"Purple",value:3},{source:"White",target:"Brown",value:1},{source:"White",target:"Red",value:1},{source:"Yellow",target:"Orange",value:728},{source:"Yellow",target:"Green",value:82},{source:"Yellow",target:"Blue",value:9},{source:"Yellow",target:"Purple",value:1},{source:"Yellow",target:"Red",value:1},{source:"Orange",target:"Green",value:512},{source:"Orange",target:"Blue",value:28},{source:"Orange",target:"Purple",value:3},{source:"Orange",target:"Black",value:2},{source:"Green",target:"Blue",value:337},{source:"Green",target:"Purple",value:41},{source:"Green",target:"Brown",value:10},{source:"Green",target:"Red",value:7},{source:"Green",target:"Black",value:4},{source:"Blue",target:"Purple",value:194},{source:"Blue",target:"Brown",value:27},{source:"Blue",target:"Red",value:6},{source:"Blue",target:"Black",value:9},{source:"Purple",target:"Brown",value:146},{source:"Purple",target:"Red",value:15},{source:"Purple",target:"Black",value:10},{source:"Brown",target:"Red",value:117},{source:"Brown",target:"Black",value:12},{source:"Red",target:"Black",value:98}],ge={nodes:tl,links:el};function nl(){const[t,e]=_.useState(ge),[n,i]=_.useState(ue),[r,o]=_.useState(void 0),s=il(),a=_.useCallback(()=>{e(ge),i(ue),o(void 0)},[]),u=_.useCallback(c=>{if(s||!c.label||c.label==="White"||c.label==="Black")return;if(c.label===r){a();return}const{nodes:f,links:h}={...ge},p=me.indexOf(c.label),C=me.slice(0,p),y=f.filter(S=>!C.includes(S.id)),L=h.filter(S=>!C.includes(S.source)&&!C.includes(S.target)),b=ue.slice(p);e({nodes:y,links:L}),i(b),o(c.label)},[r,a,s]);return l.jsxs(qt.Fragment,{children:[l.jsx("div",{style:{textAlign:"center",height:20,marginBottom:5,fontSize:"0.9rem"},children:r&&l.jsx(jt,{onClick:a,style:{color:"#ddd",cursor:"pointer"},children:"Reset"})||l.jsx("span",{children:"Click belt for details"})}),l.jsx("div",{style:{height:600},children:l.jsx(Qa,{data:t,layout:"vertical",sort:"input",margin:{top:10,right:10,bottom:20,left:10},align:"center",colors:n,nodeOpacity:1,nodeHoverOthersOpacity:.2,nodeThickness:22,nodeInnerPadding:0,nodeSpacing:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:3,linkOpacity:.6,linkBlendMode:"normal",linkHoverOthersOpacity:.1,linkContract:-.5,enableLinkGradient:!1,labelPosition:"outside",labelOrientation:"horizontal",labelPadding:-10,labelTextColor:{from:"color",modifiers:[["brighter",5]]},onClick:c=>{u(c)},nodeTooltip:({node:c})=>l.jsx("div",{style:{fontSize:"0.8rem",background:"#444",padding:"3px 4px",color:"#ddd",borderRadius:"5px"},children:l.jsxs("strong",{children:[c.label,": ",c.total]})}),linkTooltip:({link:c})=>l.jsxs("div",{style:{fontSize:"0.8rem",background:"#666",padding:"3px 4px",color:"#ddd",borderRadius:"5px"},children:[l.jsx("strong",{children:c.source.label})," to ",l.jsx("strong",{children:c.target.label}),"(",c.value,")"]})})})]})}function il(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.matchMedia("(pointer: coarse)").matches}function rl({data:t}){const{width:e}=Gn(),i=e<560?"8px 8px 32px 8px":"24px 24px 32px 24px",r={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},o={margin:"0px 0px 14px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return l.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:i,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",fontWeight:600},children:[l.jsxs("div",{style:o,children:["User Belt Flows",l.jsx("div",{style:{fontSize:"0.9rem",fontWeight:400},children:"Discord users since Nov. 2019"})]}),l.jsx(nl,{}),l.jsx("div",{style:r,children:"User Drilldown"}),l.jsx(zo,{data:t}),l.jsx("div",{style:r,children:"Scorecard Locks"}),l.jsx(Wo,{data:t})]})}function ol({children:t,allEntries:e,scorecardEntries:n,profile:i}){const{filters:r}=_.useContext(Ce),{search:o,id:s,tab:a,name:u,sort:c,image:f,expandAll:h,dataset:p,...C}=r,{userBelt:y}=C,L=_.useCallback(j=>e.find(m=>m.id===j),[e]),b=_.useMemo(()=>Object.keys(n).map(j=>{var P,O,B;const m=L(j);return m?{...n[j],userBelt:Object.keys(n[j].scorecardPicks),currentPicks:n[j].scorecardPicks[y||"All Belts"],...m,makes:m.makeModels[0].make?m.makeModels.map(({make:w})=>w):m.makeModels[0].model,fuzzy:_n(m.makeModels.map(({make:w,model:W})=>[w,W]).flat().filter(w=>w).concat([m.version,m.notes,m.belt]).join(",")),content:[(P=m.media)!=null&&P.some(w=>!w.fullUrl.match(/youtube\.com/))?"Has Images":"No Images",(O=m.media)!=null&&O.some(w=>w.fullUrl.match(/youtube\.com/))?"Has Video":"No Video",((B=m.links)==null?void 0:B.length)>0?"Has Links":"No Links",qi[m.belt].danPoints>0?"Worth Dan Points":void 0,pn(m.lastUpdated).isAfter(pn().subtract(1,"days"))?"Updated Recently":void 0,m.belt.startsWith("Black")?"Is Black":void 0,m.belt!=="Unranked"?"Is Ranked":void 0].flat().filter(w=>w),collection:Xi.locks.map.map(w=>i&&i[w.key]&&i[w.key].includes(m.id)?w.label:"Not "+w.label),collectionSaves:ko[m.id]||0,simpleBelt:m.belt.replace(/\s\d/g,"")}:null}).filter(j=>j),[L,i,n,y]),S=_.useMemo(()=>{const j=Object.keys(C).map(B=>{const w=C[B];return Array.isArray(w)?w.map(W=>({key:B,value:W})):{key:B,value:w}}).flat(),m=b.filter(B=>j.every(({key:w,value:W})=>Array.isArray(B[w])?B[w].includes(W):B[w]===W)),P=o&&m.find(B=>B.id===o);let O=m;return P?O=[P]:o&&(O=fr.go(_n(o),m,{keys:sl,threshold:-25e3}).map(B=>({...B.obj,score:B.score}))),c?O.sort((B,w)=>{if(c==="beltAscending")return Zi(B.belt,w.belt)||w.currentPicks-B.currentPicks||B.fuzzy.localeCompare(w.fuzzy);if(c==="beltDescending")return Ji(B.belt,w.belt)||w.currentPicks-B.currentPicks||B.fuzzy.localeCompare(w.fuzzy);if(c==="alphaAscending")return B.fuzzy.localeCompare(w.fuzzy);if(c==="alphaDescending")return w.fuzzy.localeCompare(B.fuzzy)}):O.sort((B,w)=>w.currentPicks-B.currentPicks||B.fuzzy.localeCompare(w.fuzzy)).map((B,w)=>({...B,displayRank:w+1}))},[C,b,o,c]),M=_.useMemo(()=>({allEntries:e,visibleEntries:S,getEntryFromId:L,expandAll:h,profile:i}),[e,L,S,h,i]);return l.jsx(Yn.Provider,{value:M,children:t})}const sl=["fuzzy"];function Vl(){const{lockCollection:t}=_.useContext(Ki);sr("Explore Scorecard");const{data:e,loading:n,error:i,errorMessage:r}=or({urls:al});return l.jsxs(qt.Fragment,{children:[l.jsx(Qi,{title:"Explore Scorecard"}),i&&l.jsx(dr,{errorMessage:r}),n&&l.jsx(rr,{}),!n&&!i&&!!e&&l.jsx(tr,{filterFields:vo,children:l.jsx(ol,{allEntries:er,scorecardEntries:e.scorecardStats.lockCountsByUserBelt,profile:t,children:l.jsx(rl,{data:{...e,lockStats:ur}})})}),l.jsx(nr,{}),l.jsx(ir,{feature:"stats"})]})}const al={brandDistribution:wo,collectionsStatsCurrent:Co,popularAreas:jo,redditGrowth:Bo,siteFullNew:So,pickStatsData:Oo,scorecardStats:Lo,discordBeltCounts:Mo,redditBeltCounts:To};export{Vl as default};
