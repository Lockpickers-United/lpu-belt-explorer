import{j as e,a2 as se,V as oe,W as $,an as te,T as G,aj as ne,r as l,b as le,J as S,I as L,O as F,P as B,K as z,at as ae,R as y,B as w,ar as ie,au as re,av as ce,aw as H,ag as de,Y as C,M as E,ab as xe,ac as I,am as D}from"./index-7e758895.js";import{B as K}from"./BeltStripe-e614c548.js";import{C as Y,d as pe}from"./EvidenceForm-11050c88.js";import{e as M}from"./entryName-3dd864d0.js";import{L as ue}from"./ListItem-9a650b11.js";import{d as me}from"./ExpandMore-d0ff1f81.js";import{F as j}from"./FieldValue-4ac66bb3.js";import{B as Q}from"./BeltIcon-a698c488.js";import{F as V}from"./InlineFilterDisplay-68af3dea.js";import{C as he}from"./CopyLinkToEntryButton-50220610.js";import{C as fe}from"./CopyEntryTextButton-6e78ef0a.js";import{L as je}from"./LockImageGallery-a7fdecc7.js";import{D as W}from"./DataContext-4cd5a0f4.js";import"./index-78d51190.js";import"./dataUrls-46e31bfb.js";import{D as ge}from"./Dialog-437ec373.js";import{F as be}from"./FormGroup-c31a52db.js";import{C as ve}from"./Checkbox-7f031fe8.js";import{L as ke}from"./Link-a7264907.js";import{A as Ce,a as we,b as ye}from"./AccordionSummary-537316bc.js";import{M as q}from"./index-99377b7b.js";import{r as U}from"./index-cb0ed0e3.js";import{A as Se}from"./AccordionActions-dd9dce90.js";import{d as J,a as O,b as Le}from"./download-d96ad8a2.js";import{d as _e}from"./List-e8af0a78.js";import{d as $e}from"./ContentCopy-80981ca5.js";function vs({entries:s}){return e.jsxs(se,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(oe,{dense:!0,style:{padding:0},children:s.map(o=>e.jsxs(ue,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(K,{value:o.belt}),e.jsx($,{primary:M(o),primaryTypographyProps:{fontWeight:500},secondary:o.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(Y,{id:o.id,dense:!0,exposed:!0})]},o.id))}),e.jsx(te,{}),e.jsx(G,{feature:"compact"})]})}function Me({belt:s}){const{danPoints:o}=ne[s],c=o===1?"Point":o>=10?"Pts":"Points",d=` (${o} Dan ${c})`,x={textDecoration:"none",color:"#fff"};return o===0||s==="Unranked"?null:e.jsx("a",{style:x,href:"/#/dans",children:d})}function Te({id:s,onExpand:o,entryId:c}){const{getEntryFromId:d}=l.useContext(W),x=l.useMemo(()=>d(s),[d,s]),u=le(),a=l.useCallback(async()=>{u(`/locks?id=${s}`),o(s)},[s,u,o]),g=s===c?{border:"1px solid #777"}:{},i=s===c;return e.jsx(S,{title:x.version,arrow:!0,disableFocusListener:!0,children:e.jsx("span",{children:e.jsx(L,{onClick:a,style:g,disabled:i,children:e.jsx(Q,{value:x.belt,related:!0,disabled:i})})})})}var R={},Ee=B;Object.defineProperty(R,"__esModule",{value:!0});var X=R.default=void 0,Ie=Ee(F()),De=e;X=R.default=(0,Ie.default)((0,De.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint");function ze({entry:s}){const o=l.useCallback(async()=>{await navigator.clipboard.writeText(s.id),z("ID copied to clipboard.")},[s.id]);return e.jsx(S,{title:"Copy Entry Id",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:o,children:e.jsx(X,{color:"primary"})})})}var A={},Fe=B;Object.defineProperty(A,"__esModule",{value:!0});var Z=A.default=void 0,Be=Fe(F()),We=e;Z=A.default=(0,Be.default)((0,We.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");function Oe({entry:s,nameType:o}){const c=l.useCallback(()=>{const x=M(s,o).replace(/[\s/]/g,"_").replace(/\W/g,""),u=`https://lpubelts.com/#/locks?tab=search&search=${s.id}&id=${s.id}&name=${x}`,a=window.open(u,"_blank","noopener,noreferrer");a&&(a.opener=null)},[s,o]);return e.jsx(S,{title:"Open Link to Entry in New Tab",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:c,children:e.jsx(Z,{color:"primary"})})})}var N={},Re=B;Object.defineProperty(N,"__esModule",{value:!0});var ee=N.default=void 0,Ae=Re(F()),Ne=e;ee=N.default=(0,Ae.default)((0,Ne.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer");function Pe({entry:s,buttonType:o="text",nameType:c}){const{lockbazzarAvailable:d}=l.useContext(W),[x,u]=l.useState(!1),[a,g]=ae("showLpulocksDialog",!0),i=d(s.id),m=l.useCallback(()=>{u(!x)},[x]),_=l.useCallback(()=>{g(!a)},[g,a]),v=l.useCallback(r=>{const k=M(s,c).replace(/[\s/]/g,"_").replace(/\W/g,""),t="https://lpulocks.com/#/lockbazaar",n=r?`?search=${s.id}&name=${k}`:"",p=window.open(`${t}${n}`,"_blank","noopener,noreferrer");p&&(p.opener=null),u(!1)},[s,c]),h=l.useCallback(()=>{a||!i?m():v(s.id)},[s.id,i,v,a,m]),f=i?"#38b9f6":"#777";return e.jsxs(y.Fragment,{children:[o==="icon"?e.jsx(S,{title:"lock-bazaar listings available",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:m,style:{marginRight:20,color:f},children:e.jsx(ee,{})})}):e.jsx(w,{onClick:h,color:"info",variant:"outlined",sx:{textTransform:"none"},style:{margin:4,color:f,borderColor:f},children:"lpulocks.com"}),e.jsxs(ge,{open:x,onClose:m,componentsProps:{backdrop:{style:{backgroundColor:"#000",opacity:.6}}},children:[e.jsx("div",{style:{textAlign:"right",padding:10},children:e.jsx(L,{onClick:m,style:{padding:0,margin:0},children:e.jsx(pe,{sx:{cursor:"pointer"}})})}),i?e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"Listings of this lock for sale may be available at our sister site, lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. Neither lpubelts.com nor lpulocks.com are not vouching for the sellers, please take appropriate precautions as you would with any private purchase. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{}),"Click below to leave lpubelts.com and view listings."]}),e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(be,{control:e.jsx(ve,{color:"info",size:"small",checked:a===!1,onChange:_}),label:"Don't show this again"}),e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:()=>v(s.id),style:{margin:"8px 0px 3px 0px",height:32},children:"VIEW LISTINGS FOR THIS LOCK"})]})]}):e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"No current for sale listings at lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. When this button is illuminated, you'll be able to click directly to listings for the lock. Please keep in mind that neither lpubelts.com nor lpulocks.com are not vouching for the sellers. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:10,display:"flex",justifyContent:"center"},children:[e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:m,style:{margin:"8px 0px 3px 0px",height:32},children:"CLOSE"}),e.jsx(w,{variant:"outlined",size:"small",color:"info",onClick:()=>v(void 0),style:{margin:"8px 0px 3px 10px",height:32},children:"Browse lpulocks.com"})]}),e.jsx(ke,{onClick:()=>g(!0),style:{color:"#222",textDecoration:"none",cursor:"grab"},children:"-"})]})]})]})}function He({entry:s,expanded:o,onExpand:c}){var h,f,r,b,k;const{expandAll:d}=l.useContext(W),{userId:x}=ie(),[u,a]=l.useState(!1),g={maxWidth:700,marginLeft:"auto",marginRight:"auto"},i=l.useRef(null),m=[...new Set([...s.relatedIds||[],...re(s.id)])].sort((t,n)=>ce(H[t].belt,H[n].belt)||t.localeCompare(n)),_=l.useCallback((t,n)=>{c&&c(n?s.id:!1)},[s,c]);l.useEffect(()=>{if(o&&i&&!u&&!d){const n=window.innerWidth<=600?70:74,{id:p}=de.parse(location.search),T=p===s.id;a(!0),setTimeout(()=>{window.scrollTo({left:0,top:i.current.offsetTop-n,behavior:T?"auto":"smooth"})},T?0:100)}else o||a(!1)},[o,s,u,d]);const v=l.useMemo(()=>{var t;return e.jsx(C,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(t=s.makeModels)==null?void 0:t.map(({make:n,model:p},T)=>e.jsx(E,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:n&&n!==p?`${n} ${p}`:p},T))})},[s.makeModels]);return e.jsxs(Ce,{expanded:o,onChange:_,style:g,ref:i,children:[e.jsxs(we,{expandIcon:e.jsx(me,{}),children:[e.jsx(K,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(j,{value:v,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(j,{name:"Version",value:e.jsx(E,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((h=s.lockingMechanisms)==null?void 0:h.length)>0&&e.jsx(j,{value:e.jsx(C,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(f=s.lockingMechanisms)==null?void 0:f.map((t,n)=>e.jsx(V,{value:t,field:"lockingMechanisms"},n))})})})]}),o&&e.jsxs(y.Fragment,{children:[e.jsxs(ye,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(C,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(j,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(y.Fragment,{children:[e.jsxs(E,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(Me,{belt:s.belt})]}),e.jsx(Q,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(Y,{id:s.id,makeModels:s.makeModels})})]}),e.jsx(C,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!s.notes&&e.jsx(j,{name:"Notes",value:e.jsx(E,{component:"div",style:{marginTop:-16},children:e.jsx(q,{rehypePlugins:[[U,{target:"_blank"}]],children:s.notes})})})}),!!((r=s.features)!=null&&r.length)&&e.jsx(j,{name:"Features",value:e.jsx(C,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((t,n)=>e.jsx(V,{value:t,field:"features"},n))})}),(m==null?void 0:m.length)>1&&!x&&e.jsx(j,{name:"Other Versions",value:e.jsx(y.Fragment,{children:m.map(t=>e.jsx(Te,{id:t,onExpand:c,entryId:s.id},t))})}),!!s.description&&e.jsx("div",{style:{margin:8},children:e.jsx(q,{rehypePlugins:[[U,{target:"_blank",rel:["nofollow","noopener","noreferrer"]}]],children:s.description})}),!!((b=s.media)!=null&&b.length)&&e.jsx(j,{value:e.jsx(je,{entry:s})}),e.jsxs("div",{style:{display:"flex"},children:[!!((k=s.links)!=null&&k.length)&&e.jsx(j,{name:"Links",value:e.jsx(C,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:t,url:n},p)=>e.jsx(w,{href:n,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:t},p))})}),e.jsx(j,{name:"For sale",style:{marginLeft:15},value:e.jsx(Pe,{entry:s,buttonType:"text"})})]})]}),e.jsx(Se,{disableSpacing:!0,children:e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{flexGrow:1,justifyItems:"left"},children:[!d&&e.jsx(G,{feature:"lock",id:s.id}),e.jsx(ze,{entry:s}),e.jsx(Oe,{entry:s})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(fe,{entry:s}),e.jsx(he,{entry:s})]})]})})]})]})}const ks=y.memo(He,(s,o)=>s.entry.id===o.entry.id&&s.expanded===o.expanded&&s.onExpand===o.onExpand);var P={},Ve=B;Object.defineProperty(P,"__esModule",{value:!0});var qe=P.default=void 0,Ue=Ve(F()),Je=e;qe=P.default=(0,Ue.default)((0,Je.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Cs({text:s,entries:o}){const[c,d]=l.useState(null),x=!!c,u=l.useCallback(h=>d(h.currentTarget),[]),a=l.useCallback(()=>d(null),[]),{visibleEntries:g}=l.useContext(W),i=o||g,m=l.useCallback(()=>{const h=JSON.stringify(i);a(),J("lpubeltsdata.json",h),z("Current lock entries downloaded as lpubeltsdata.json")},[a,i]),_=l.useCallback(()=>{const f=i.map(r=>({id:r.id,make:r.makeModels.map(b=>b.make).join(","),model:r.makeModels.map(b=>b.model).join(","),version:r.version,belt:r.belt,name:M(r),versionText:r.version?" ("+r.version+")":""})).map(r=>"* "+r.name+r.versionText).join(`
`);a(),navigator.clipboard.writeText(f).then(),z("Current lock entries copied to clipboard.")},[a,i]),v=l.useCallback(()=>{const h=["id","name","version","belt"],f=i.map(t=>({id:t.id,make:t.makeModels.map(n=>n.make).join(","),model:t.makeModels.map(n=>n.model).join(","),version:t.version,belt:t.belt,name:M(t)})),r=h.join(","),b=f.map(t=>h.map(n=>t[n]).map(n=>{const p=`${n??""}`.replace(/"/g,'""');return/(\s|,|")/.test(p)?`"${p}"`:p}).join(",")).join(`
`),k=`${r}
${b}`;a(),J("lpubeltsdata.csv",k),z("Current lock entries downloaded as lpubeltsdata.csv")},[a,i]);return e.jsxs(y.Fragment,{children:[s?e.jsx(S,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(w,{variant:"outlined",size:"small",onClick:u,style:{color:"#ddd",borderColor:"#aaa"},startIcon:e.jsx(O,{}),children:"Export"})}):e.jsx(S,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:u,children:e.jsx(O,{})})}),e.jsxs(xe,{anchorEl:c,open:x,onClose:a,children:[!s&&e.jsxs(I,{disabled:!0,children:[e.jsx(D,{children:e.jsx(O,{fontSize:"small"})}),e.jsx($,{children:"Export"})]}),e.jsxs(I,{onClick:_,children:[e.jsx(D,{children:e.jsx($e,{fontSize:"small"})}),e.jsx($,{children:"Copy to clipboard"})]}),e.jsxs(I,{onClick:v,children:[e.jsx(D,{children:e.jsx(_e,{fontSize:"small"})}),e.jsx($,{children:"CSV"})]}),e.jsxs(I,{onClick:m,children:[e.jsx(D,{children:e.jsx(Le,{fontSize:"small"})}),e.jsx($,{children:"JSON"})]})]})]})}export{vs as C,ks as E,Cs as a,qe as d};
