import{R as g,ar as F,r as a,F as L,j as q}from"./index-5c5643ce.js";import{e as S}from"./entryName-fdbf7936.js";import{D as T}from"./DataContext-a1c51420.js";import"./index-fd90886a.js";import"./dataUrls-46e31bfb.js";const j=g.createContext({});function N({children:y}){const{userId:r}=F(),{allEntries:c,getEntryFromId:d}=a.useContext(T),{filters:t,addFilters:s,removeFilters:o}=a.useContext(L),n=t.id,m=a.useCallback((e,l)=>{const i=d(e);if(e&&e!=="beltreqs"){const E=(i?S(i):"").replace(/[\s/]/g,"_").replace(/\W/g,""),h=t.tab==="search"&&!l?"search":i.belt.replace(/\s\d/g,"");s([{key:"id",value:e},{key:"name",value:E},{key:"tab",value:r?void 0:h}],!0)}else e==="beltreqs"?s([{key:"id",value:e},{key:"name",value:void 0}],!0):o(["id","name"])},[s,t.tab,d,o,r]),u=a.useCallback(()=>{o(["id","name"])},[o]),p=a.useCallback(e=>{s([{key:"tab",value:e},{key:"id",value:n==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>v(!1),0)},[s,n]),[b,v]=a.useState(!1),[x,k]=a.useState(!1),f=a.useMemo(()=>{if(!t.tab&&!r){if(t.id){const e=c.find(l=>t.id===l.id);if(e)return e.belt.replace(/\s\d/g,"")}return"White"}return t.tab},[c,t,r]),C=a.useMemo(()=>({compact:x,tab:f,setTab:p,expanded:n,setExpanded:m,clearExpanded:u,displayAll:b&&t.tab==="search",setDisplayAll:v,setCompact:k}),[x,b,n,t.tab,u,m,p,f]);return q.jsx(j.Provider,{value:C,children:y})}export{j as L,N as a};
