import{r as i,j as e,u as R,R as v,N as A,F as w,T as k}from"./index-b9e74f93.js";import{F as N,f as T,D as F,a as W,r as B}from"./filterFields-39fcb2db.js";import{u as L}from"./usePageTitle-bf22abf1.js";import{r as D}from"./index-f338394d.js";import{a as S}from"./RaffleContext-1c1eaf6c.js";import{N as H}from"./ViewFilterButtons-dab81b5b.js";import{L as b}from"./Link-be3b6446.js";import{a as z,b as x,c as P,d as E,T as M,e as U}from"./TableRow-80ecd366.js";import{R as I}from"./RaffleSearchBar-af68146b.js";import{R as G}from"./RaffleHeader-0b7a116d.js";import{R as K,A as O}from"./AdminRoleButton-6007f8e7.js";import"./useDocumentTitle-6f28e5fe.js";import"./useData-d5038742.js";import"./dataUrls-4eb203c4.js";import"./LockListContext-7e505f43.js";import"./entryName-59c99b6a.js";import"./Badge-480079b4.js";import"./Chip-88ccd14a.js";import"./Select-150c38d2.js";import"./SearchBox-d2912c0a.js";import"./Box-3ea8ae78.js";import"./Search-036462b0.js";import"./TextField-75ac8469.js";import"./ToggleButtonGroup-c3c34535.js";import"./Collapse-3fa79a7c.js";function V({children:o}){const{filters:a}=i.useContext(N),{search:l,id:f,tab:d,name:h,sort:n,image:u,...s}=a,{allCharities:c}=i.useContext(S),m=i.useMemo(()=>{const y=Object.keys(s).map(t=>{const r=s[t];return Array.isArray(r)?r.map(j=>({key:t,value:j})):{key:t,value:r}}).flat(),g=c.filter(t=>y.every(({key:r,value:j})=>Array.isArray(t[r])?t[r].includes(j):t[r]===j)).sort((t,r)=>t.fuzzy.localeCompare(r.fuzzy)),C=l?T.go(D(l),g,{keys:_,threshold:-25e3}).map(t=>({...t.obj,score:t.score})):g;return n?C.sort((t,r)=>n==="potName"?t.title.localeCompare(r.title):n==="contributedBy"?t.contributedBy[0].localeCompare(r.contributedBy[0]):t.potNumber<r.potNumber):C},[c,s,l,n]),p=i.useMemo(()=>({allCharities:c,visibleEntries:m}),[c,m]);return e.jsx(F.Provider,{value:p,children:o})}const _=["fuzzy"];function q({charity:o}){const{isMobile:a}=R(),{live:l,raffleAdminRole:f}=i.useContext(S),d=l||f,h=i.useCallback(c=>{const m=window.open(c,"_blank","noopener,noreferrer");m&&(m.opener=null)},[]),n=o.url?e.jsx(b,{onClick:()=>h(o.url),style:{color:"#fff",fontWeight:500},children:o.name}):e.jsx("span",{style:{color:"#ddd"},children:o.name}),u=a?"0.95rem":"1.0rem",s=a?{fontSize:u,border:0,padding:"6px 10px"}:{fontSize:u,border:0,padding:"10px 16px"};return e.jsxs(z,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(x,{align:"left",style:s,children:n}),d&&e.jsxs(v.Fragment,{children:[e.jsx(x,{align:"center",style:s,children:o.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(o.donations2024)}),e.jsx(x,{align:"center",style:s,children:o.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(o.donations)})]})]})}function J(){const{visibleEntries:o}=i.useContext(F),{live:a,raffleAdminRole:l}=i.useContext(S),f=a||l,{isMobile:d}=R(),h=i.useRef(),[n,u]=i.useState("name"),s=i.useCallback(t=>{t!==n&&u(t)},[u,n]),c=o.sort((t,r)=>{switch(n){case"2024":return r.donations2024-t.donations2024;case"2025":return r.donations-t.donations;case"name":return t.name.localeCompare(r.name);default:return t.name.localeCompare(r.name)}}),m={maxWidth:700,marginLeft:"auto",marginRight:"auto"},p=d?"0.9rem":"1.0rem",y=d?"10px 10px":"16px 16px",g=d?"2024":"2024 Contributions",C=d?"2025":"2025 Currently";return e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(I,{label:"Approved Charities",sortValues:null}),o.length===0&&e.jsx(H,{label:"Charities"}),o.length>0&&e.jsx(P,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:h,children:e.jsxs(E,{stickyHeader:!0,style:m,children:[e.jsx(M,{children:e.jsxs(z,{children:[e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:y},children:e.jsx(b,{onClick:()=>s("name"),style:{color:n==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),f&&e.jsxs(v.Fragment,{children:[e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(b,{onClick:()=>s("2024"),style:{color:n==="2024"?"#fff":"#ccc"},children:g})},"2024"),e.jsx(x,{style:{fontWeight:700,fontSize:p,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(b,{onClick:()=>s("2025"),style:{color:n==="2025"?"#fff":"#ccc"},children:C})},"2025")]})]})}),e.jsx(U,{children:c.map((t,r)=>e.jsx(q,{charity:t},r))})]})})]})}function be(){L("RAFL Charities");const{isMobile:o}=R(),a=o?8:0,l={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:a,paddingRight:a},f=e.jsxs(v.Fragment,{children:[!o&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(K,{}),e.jsx(O,{})]});return e.jsx(W,{filterFields:B,children:e.jsx(V,{children:e.jsxs("div",{style:l,children:[e.jsx(A,{title:"RAFL Charities",extras:f}),e.jsx(G,{page:"charities"}),e.jsx(J,{}),e.jsx(w,{}),e.jsx(k,{feature:"raflCharities"})]})})})}export{be as default};
