import{O as j,P as y,j as r,u as W,r as n,F as I,J as D,I as P,B as b,ac as A}from"./index-c4914b37.js";import{D as R}from"./DataContext-cc082900.js";import"./index-c62a72a6.js";import{F as $,I as w,S as H}from"./Select-2af0feed.js";import{B as V}from"./Box-44f75f00.js";import{C as q}from"./Chip-e1e8eb0c.js";const p={safelocksOwn:"Own",safelockCracked:"Cracked",safelockWishlist:"Wishlist",shippingSplit:"Shipping included",shippingNotSplit:"Winner may pay shipping"};var h={},z=y;Object.defineProperty(h,"__esModule",{value:!0});var _=h.default=void 0,G=z(j()),L=r;_=h.default=(0,G.default)((0,L.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll");function ne({forceText:a}){const{isMobile:s}=W(),{filterCount:u,clearFilters:i}=n.useContext(I);return u===0?null:s&&!a?r.jsx(D,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:r.jsx(P,{onClick:i,children:r.jsx(_,{})})}):r.jsx(b,{variant:"outlined",color:"inherit",onClick:i,style:{minWidth:120,marginRight:8},children:"ClearÂ Filters"})}function oe({label:a,fieldName:s,onFilter:u,sort:i,tab:c}){const{visibleEntries:d}=n.useContext(R),{filters:F}=n.useContext(I),C=n.useMemo(()=>c==="search"||!c?d:d.filter(e=>e.simpleBelt===c),[c,d]),[M,f]=n.useState(!1),S=n.useCallback(e=>{f(!1),setTimeout(()=>u(s,e.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[s,u]),v=n.useCallback(()=>{f(!1),setTimeout(()=>document.activeElement.blur())},[]),k=n.useCallback(()=>f(!0),[]),{counts:B,options:E}=n.useMemo(()=>{const e=C.map(t=>t[s]).flat().filter(t=>t),l=e.reduce((t,o)=>(t[o]||(t[o]=0),t[o]++,t),{}),T=[...new Set(e)].sort((t,o)=>{if(i)return i(t,o);if(typeof t=="string"&&typeof o=="string")return t.localeCompare(o);if(Number.isInteger(t)&&Number.isInteger(o))return t-o});return{counts:l,options:T}},[C,s,i]),g=n.useDeferredValue(F),m=g[s],O=Array.isArray(m)?g[s]:m?[m]:[];return r.jsxs($,{style:{minWidth:120,maxWidth:300,marginTop:8},fullWidth:!0,children:[r.jsx(w,{id:`filter-${s}`,color:"secondary",children:a}),r.jsx(H,{multiple:!0,label:a,labelId:`filter-${s}`,value:O,onChange:S,style:{marginBottom:0},color:"secondary",open:M,onClose:v,onOpen:k,onBlur:v,MenuProps:{PaperProps:{style:{maxHeight:J*8+K}}},renderValue:e=>r.jsx(V,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(l=>r.jsx(q,{label:p[l]?p[l]:l},l))}),children:E.map((e,l)=>r.jsx(A,{value:e,children:p[e]?p[e]:e+` (${B[e]||0})`},l))})]})}const J=48,K=8;var x={},Q=y;Object.defineProperty(x,"__esModule",{value:!0});var U=x.default=void 0,X=Q(j()),Y=r;U=x.default=(0,X.default)((0,Y.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");export{ne as C,oe as F,U as d,p as f};
