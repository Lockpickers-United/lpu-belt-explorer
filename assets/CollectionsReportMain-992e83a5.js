import{j as e,r as L}from"./index-9d2ec8bd.js";import{u as w,L as j}from"./useData-f09e7622.js";import{u}from"./useWindowSize-ff846502.js";import{A as b,p as g,b as v}from"./adminChartDefaults-fefc39ce.js";import{B as y}from"./nivo-bar.es-089e8a0d.js";import{P as k}from"./nivo-line.es-0c950a94.js";import{d as p}from"./dayjs.min-55d04f5b.js";import"./LPU-c3fa7122.js";import"./LinearProgress-29ca7fab.js";import"./TableRow-2627555a.js";const W=({data:i})=>{const{summary:n}=i,{width:t}=u(),o=t<=360,r=t<=395,l=t<=428,c=t<=560,d=t<=820,s=o?".8rem":r?".85rem":l?".9rem":".95rem",a="100%";return e.jsx(b,{tableData:n,tableWidth:a,fontSize:s})},D=({data:i})=>{const{summary:{data:n}}=i,t=n.map(m=>({id:m.list,label:m.list,count:m.averageItems,value:m.averageItems})),{width:o}=u(),r=o<=360,l=o<=395,c=o<=428,d=o<=820,s=r?180:l?190:c?200:d?240:250,a={top:0,right:20,bottom:30,left:50},h=["#aeaeae","#0364ac","#0364ac","#0364ac","#0364ac"];return e.jsx("div",{style:{height:s,width:"100%"},children:e.jsx(y,{data:t,margin:a,padding:.15,colors:m=>h[m.index%h.length],animate:!0,enableLabel:!0,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0},enableGridY:!1,theme:g,isInteractive:!1})})},M=({data:i})=>{const n=[i.listUsers],{width:t}=u(),o=t<=360,r=t<=395,l=t<=428,c=t<=560,d=t<=820,s=o||r?200:l?210:d?230:250,a=c?-45:0,h=c?{top:10,right:20,bottom:50,left:50}:{top:10,right:20,bottom:30,left:50};return e.jsx("div",{style:{height:s},children:e.jsx(k,{theme:B,data:n,enableGridX:!1,enableGridY:!1,colors:["#007de2","#16325d"],lineWidth:3,margin:h,height:s,curve:"natural",yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},xScale:{type:"time",format:"%Y-%m-%d"},xFormat:"time:%m/%d/%y",axisBottom:{format:"%b %d",tickSize:5,tickPadding:5,tickRotation:a,direction:"row",legendOffset:-12,tickValues:"every week"},legends:[{anchor:"bottom",itemTextColor:"#ddd",direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})},C={grid:{line:{stroke:"#333",strokeWidth:1}}},B={...g,...C},z=({data:i})=>{const n=[i.ownLocks,i.pickedLocks,i.recordedLocks,i.wishlistLocks],{width:t}=u(),o=t<=360,r=t<=395,l=t<=428,c=t<=560,d=t<=820,s=o?200:r?220:l?230:d?260:290,a=c?-45:0,h={top:10,right:20,bottom:65,left:50},m=["#172072","#2e399b","#444fb2","#5966da"];return e.jsx("div",{style:{height:s,width:"100%"},children:e.jsx(k,{theme:T,data:n,colors:m,enableArea:!0,areaOpacity:1,lineWidth:2,margin:h,curve:"natural",yScale:{type:"linear",min:0,max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},xScale:{type:"time",format:"%Y-%m-%d"},xFormat:"time:%m/%d/%y",enableGridX:!1,enableGridY:!1,axisBottom:{format:"%b %d",tickSize:5,tickPadding:5,tickRotation:a,tickValues:"every week"},legends:[{anchor:"bottom",itemTextColor:"#666",direction:"row",justify:!1,translateX:0,translateY:65,itemsSpacing:6,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})},P={grid:{line:{stroke:"#333",strokeWidth:1}}},T={...g,...P},R=({data:i})=>{const{listSavesByBelt:n}=i,{width:t}=u(),o=t<=360,r=t<=395,l=t<=428,c=t<=560,d=t<=820,s=o||r||l?200:d?250:290,a=c?1:2,h={top:0,right:20,bottom:30,left:50};return e.jsx("div",{style:{height:s},children:e.jsx(y,{data:n,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black","Unranked"],indexBy:"list",groupMode:"grouped",margin:h,padding:.1,innerPadding:0,borderRadius:a,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:"auto",theme:g,colors:v,animate:!0,enableGridY:!1,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0})})};function Y({data:i}){const n=L.useMemo(()=>{const{dailyTableData:r}=i,l=r.data.map(s=>s.date),d=p(l.reduce((s,a)=>a>s?a:s)).subtract(28,"day");return{title:"",columns:r.columns,data:r.data.filter(s=>p(s.date).isAfter(d))}},[i]),t="100%",o=".83rem";return e.jsx("div",{style:{width:"100%"},children:e.jsx(b,{tableData:n,tableWidth:t,fontSize:o})})}function q(){const{data:i,loading:n,error:t}=w({url:A}),o=n?"--":"(updated: "+p(i.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+` ${i.metadata.timezone})`,l=["listUsers","wishlistLocks","recordedLocks","pickedLocks","ownLocks"].reduce((m,x)=>{if(!i)return{};const S=i.dailyTableData.data.map(f=>({x:f.date,y:f[x]}));return m[x]={data:S,id:x},m},{}),{width:c}=u(),s=c<560?"8px 8px 32px 8px":"24px 24px 32px 24px",a={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},h={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return n?e.jsx(j,{}):t?null:e.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:s,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[e.jsxs("div",{style:h,children:["Collections Summary",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"0.7rem"},children:o})]}),e.jsx(W,{data:i}),e.jsx("div",{style:a,children:"List Users"}),e.jsx(M,{data:l}),e.jsx("div",{style:a,children:"List Locks by Date"}),e.jsx(z,{data:l}),e.jsx("div",{style:a,children:"Average Items Per List"}),e.jsx(D,{data:i}),e.jsx("div",{style:a,children:"List Saves by Belt Ranking"}),e.jsx(R,{data:i}),e.jsx("div",{style:a,children:"Last 28 Days"}),e.jsx(Y,{data:i})]})}const A="https://explore.lpubelts.com/data/statsCollectionsFull.json";export{q as default};
