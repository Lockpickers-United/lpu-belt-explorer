import{j as e,a5 as ee,Y as se,Z as te,aq as re,T as Q,am as oe,r as o,b as ie,K as I,I as v,P as _,Q as D,U as M,V as O,M as ne,ay as ae,R as S,B as L,L as le,D as ce,aw as de,az as ue,aA as xe,aB as N,a4 as pe,a0 as j,O as T}from"./index-CxJ13Q9t.js";import{B as Y}from"./BeltStripe-BlzidxAp.js";import{C as Z}from"./EvidenceForm-C0mNkXrF.js";import{e as z}from"./entryName-edVuKam4.js";import{L as me}from"./ListItem-B3cccNna.js";import{E as fe}from"./ExpandMore-BVav3PYH.js";import{F as m}from"./FieldValue-DWLcfoPh.js";import{B as X}from"./BeltIcon-BIXZWU1D.js";import{F as A}from"./FilterChip-CRblxbq-.js";import{a as he,C as ge}from"./ExportButton-DSbcHTd8.js";import{C as je}from"./CopyEntryTextButton-CnyRxRdi.js";import{L as ve}from"./LockImageGallery-CWATgMRk.js";import{D as H}from"./DataContext-bskxqDB_.js";import"./index-mfFxZH4k.js";import{H as be}from"./HighlightOff-BjVnGR8w.js";import{D as ke}from"./Dialog-CmGOQoWJ.js";import{F as Ce}from"./sanitizeValues-B4vs0CrB.js";import{C as we}from"./Checkbox-C1KxcxVC.js";import{A as ye,a as Le,b as Se}from"./AccordionSummary-C6t7MbAB.js";import{M as P}from"./index-CtlLRMNi.js";import{r as $}from"./index-StOu_fRm.js";import{A as Ie}from"./AccordionActions-BePPoPdR.js";function js({entries:s}){return e.jsxs(ee,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(se,{dense:!0,style:{padding:0},children:s.map(t=>e.jsxs(me,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(Y,{value:t.belt}),e.jsx(te,{primary:z(t),primaryTypographyProps:{fontWeight:500},secondary:t.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(Z,{id:t.id,dense:!0,exposed:!0})]},t.id))}),e.jsx(re,{}),e.jsx(Q,{feature:"compact"})]})}function _e({belt:s}){const{danPoints:t}=oe[s],r=t===1?"Point":t>=10?"Pts":"Points",a=` (${t} Dan ${r})`,c={textDecoration:"none",color:"#fff"};return t===0||s==="Unranked"?null:e.jsx("a",{style:c,href:"/#/dans",children:a})}function De({id:s,onExpand:t,entryId:r}){const{getEntryFromId:a}=o.useContext(H),c=o.useMemo(()=>a(s),[a,s]),x=ie(),l=o.useCallback(async()=>{x(`/locks?id=${s}`),t(s)},[s,x,t]),f=s===r?{border:"1px solid #777"}:{},d=s===r;return e.jsx(I,{title:c.version,arrow:!0,disableFocusListener:!0,children:e.jsx("span",{children:e.jsx(v,{onClick:l,style:f,disabled:d,children:e.jsx(X,{value:c.belt,related:!0,disabled:d})})})})}var b={},V;function Me(){if(V)return b;V=1;var s=_();Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=s(D()),r=M();return b.default=(0,t.default)((0,r.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint"),b}var Oe=Me();const Ee=O(Oe);function We({entry:s}){const t=o.useCallback(async()=>{await navigator.clipboard.writeText(s.id),ne("ID copied to clipboard.")},[s.id]);return e.jsx(I,{title:"Copy Entry Id",arrow:!0,disableFocusListener:!0,children:e.jsx(v,{onClick:t,children:e.jsx(Ee,{color:"primary"})})})}var k={},U;function Fe(){if(U)return k;U=1;var s=_();Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var t=s(D()),r=M();return k.default=(0,t.default)((0,r.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),k}var Re=Fe();const Te=O(Re);function ze({entry:s,nameType:t}){const r=o.useCallback(()=>{const c=z(s,t).replace(/[\s/]/g,"_").replace(/\W/g,""),x=`https://lpubelts.com/#/locks?tab=search&search=${s.id}&id=${s.id}&name=${c}`,l=window.open(x,"_blank","noopener,noreferrer");l&&(l.opener=null)},[s,t]);return e.jsx(I,{title:"Open Link to Entry in New Tab",arrow:!0,disableFocusListener:!0,children:e.jsx(v,{onClick:r,children:e.jsx(Te,{color:"primary"})})})}var C={},G;function Be(){if(G)return C;G=1;var s=_();Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=s(D()),r=M();return C.default=(0,t.default)((0,r.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer"),C}var qe=Be();const He=O(qe);function Ne({entry:s,buttonType:t="text",nameType:r}){const{lockbazzarAvailable:a}=o.useContext(H),[c,x]=o.useState(!1),[l,f]=ae("showLpulocksDialog",!0),d=a(s.id),u=o.useCallback(()=>{x(!c)},[c]),B=o.useCallback(()=>{f(!l)},[f,l]),h=o.useCallback(W=>{const F=z(s,r).replace(/[\s/]/g,"_").replace(/\W/g,""),i="https://lpulocks.com/#/lockbazaar",n=W?`?search=${s.id}&name=${F}`:"",p=window.open(`${i}${n}`,"_blank","noopener,noreferrer");p&&(p.opener=null),x(!1)},[s,r]),E=o.useCallback(()=>{l||!d?u():h(s.id)},[s.id,d,h,l,u]),g=d?"#38b9f6":"#777";return e.jsxs(S.Fragment,{children:[t==="icon"?e.jsx(I,{title:"lock-bazaar listings available",arrow:!0,disableFocusListener:!0,children:e.jsx(v,{onClick:u,style:{marginRight:20,color:g},children:e.jsx(He,{})})}):e.jsx(L,{onClick:E,color:"info",variant:"outlined",sx:{textTransform:"none"},style:{margin:4,color:g,borderColor:g},children:"lpulocks.com"}),e.jsxs(ke,{open:c,onClose:u,componentsProps:{backdrop:{style:{backgroundColor:"#000",opacity:.6}}},children:[e.jsx("div",{style:{textAlign:"right",padding:10},children:e.jsx(v,{onClick:u,style:{padding:0,margin:0},children:e.jsx(be,{sx:{cursor:"pointer"}})})}),d?e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"Listings of this lock for sale may be available at our sister site, lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. Neither lpubelts.com nor lpulocks.com are not vouching for the sellers, please take appropriate precautions as you would with any private purchase. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{}),"Click below to leave lpubelts.com and view listings."]}),e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(Ce,{control:e.jsx(we,{color:"info",size:"small",checked:l===!1,onChange:B}),label:"Don't show this again"}),e.jsx(L,{variant:"contained",size:"small",color:"info",onClick:()=>h(s.id),style:{margin:"8px 0px 3px 0px",height:32},children:"VIEW LISTINGS FOR THIS LOCK"})]})]}):e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"No current for sale listings at lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. When this button is illuminated, you'll be able to click directly to listings for the lock. Please keep in mind that neither lpubelts.com nor lpulocks.com are not vouching for the sellers. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:10,display:"flex",justifyContent:"center"},children:[e.jsx(L,{variant:"contained",size:"small",color:"info",onClick:u,style:{margin:"8px 0px 3px 0px",height:32},children:"CLOSE"}),e.jsx(L,{variant:"outlined",size:"small",color:"info",onClick:()=>h(void 0),style:{margin:"8px 0px 3px 10px",height:32},children:"Browse lpulocks.com"})]}),e.jsx(le,{onClick:()=>f(!0),style:{color:"#222",textDecoration:"none",cursor:"grab"},children:"-"})]})]})]})}var w={},J;function Ae(){if(J)return w;J=1;var s=_();Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var t=s(D()),r=M();return w.default=(0,t.default)((0,r.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-2-7H7v-2h10zm-4 4H7v-2h6z"}),"Wysiwyg"),w}var Pe=Ae();const $e=O(Pe);function Ve(s,t){console.log(s),console.log(JSON.stringify(t,null,2))}function Ue({entry:s}){const{adminRole:t}=o.useContext(ce);if(!t)return null;const r=o.useCallback(async()=>{const a=z(s);Ve(a,s)},[s]);return e.jsx(I,{title:"Log Entry Details",arrow:!0,disableFocusListener:!0,children:e.jsx(v,{onClick:r,children:e.jsx($e,{color:"primary"})})})}function Ge({entry:s,expanded:t,onExpand:r}){var E,g,W,q,F;const{expandAll:a}=o.useContext(H),{userId:c}=de(),[x,l]=o.useState(!1),f={maxWidth:700,marginLeft:"auto",marginRight:"auto"},d=o.useRef(null),u=[...new Set([...s.relatedIds||[],...ue(s.id)])].sort((i,n)=>xe(N[i].belt,N[n].belt)||i.localeCompare(n)),B=o.useCallback((i,n)=>{r&&r(n?s.id:!1)},[s,r]);o.useEffect(()=>{if(t&&d&&!x&&!a){const n=window.innerWidth<=600?70:74,{id:p}=pe.parse(location.search),R=p===s.id;l(!0),setTimeout(()=>{window.scrollTo({left:0,top:d.current.offsetTop-n,behavior:R?"auto":"smooth"})},R?0:100)}else t||l(!1)},[t,s,x,a]);const h=o.useMemo(()=>{var i;return e.jsx(j,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(i=s.makeModels)==null?void 0:i.map(({make:n,model:p},R)=>e.jsx(T,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:n&&n!==p?`${n} ${p}`:p},R))})},[s.makeModels]);return e.jsxs(ye,{expanded:t,onChange:B,style:f,ref:d,children:[e.jsxs(Le,{expandIcon:e.jsx(fe,{}),children:[e.jsx(Y,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(m,{value:h,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(m,{name:"Version",value:e.jsx(T,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((E=s.lockingMechanisms)==null?void 0:E.length)>0&&e.jsx(m,{value:e.jsx(j,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(g=s.lockingMechanisms)==null?void 0:g.map((i,n)=>e.jsx(A,{value:i,field:"lockingMechanisms"},n))})})})]}),t&&e.jsxs(S.Fragment,{children:[e.jsxs(Se,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(j,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(m,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(S.Fragment,{children:[e.jsxs(T,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(_e,{belt:s.belt})]}),e.jsx(X,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(Z,{id:s.id,makeModels:s.makeModels})})]}),!!s.notes&&e.jsx(j,{direction:"row",spacing:0,sx:{width:"100%",flexWrap:"wrap"},children:e.jsx(m,{name:"Comments",value:e.jsx(T,{component:"div",style:{marginTop:-16},children:e.jsx(P,{rehypePlugins:[[$,{target:"_blank"}]],children:s.notes})})})}),!!((W=s.features)!=null&&W.length)&&e.jsx(m,{name:"Features",value:e.jsx(j,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((i,n)=>e.jsx(A,{value:i,field:"features"},n))})}),(u==null?void 0:u.length)>1&&!c&&e.jsx(m,{name:"Other Versions",value:e.jsx(S.Fragment,{children:u.map(i=>e.jsx(De,{id:i,onExpand:r,entryId:s.id},i))})}),!!s.description&&e.jsx("div",{style:{margin:8},children:e.jsx(P,{rehypePlugins:[[$,{target:"_blank",rel:["nofollow","noopener","noreferrer"]}]],children:s.description})}),e.jsx("div",{style:{margin:"12px 0px 20px 6px"},children:e.jsx(he,{entry:s})}),!!((q=s.media)!=null&&q.length)&&e.jsx(m,{value:e.jsx(ve,{entry:s})}),e.jsxs("div",{style:{display:"flex"},children:[!!((F=s.links)!=null&&F.length)&&e.jsx(m,{name:"Links",value:e.jsx(j,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:i,url:n},p)=>e.jsx(L,{href:n,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:i},p))})}),e.jsx(m,{name:"For sale",style:{marginLeft:15},value:e.jsx(Ne,{entry:s,buttonType:"text"})})]})]}),e.jsx(Ie,{disableSpacing:!0,children:e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{flexGrow:1,justifyItems:"left"},children:[!a&&e.jsx(Q,{feature:"lock",id:s.id}),e.jsx(We,{entry:s}),e.jsx(ze,{entry:s}),e.jsx(Ue,{entry:s})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(je,{entry:s}),e.jsx(ge,{entry:s})]})]})})]})]})}const vs=S.memo(Ge,(s,t)=>s.entry.id===t.entry.id&&s.expanded===t.expanded&&s.onExpand===t.onExpand);var y={},K;function Je(){if(K)return y;K=1;var s=_();Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var t=s(D()),r=M();return y.default=(0,t.default)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),y}var Ke=Je();const bs=O(Ke);export{bs as C,vs as E,js as a};
