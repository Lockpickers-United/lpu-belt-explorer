import{r as a,X as E,j,B as x}from"./index-CVYv3nxH.js";function y({url:r,urls:t,loadFn:n,text:c}){const[l,i]=a.useState(!0),[u,g]=a.useState(null),[f,d]=a.useState(!1),[h,m]=a.useState(!1),s=a.useCallback(async()=>{try{i(!0);let e;if(r){const o=await fetch(r,{cache:"no-store"});e=c?await o.text():await o.json()}else if(t){e={};const o=Object.keys(t).map(async w=>{const p=await fetch(t[w],{cache:"no-store"});e[w]=c?await p.text():await p.json()});await Promise.all(o)}else n&&(e=await n());g(e),i(!1),d(!1)}catch(e){console.error("Error loading data.",e),E("Error loading data. Please reload the page.",{autoHideDuration:null,action:j.jsx(x,{color:"secondary",onClick:()=>window.location.reload(),children:"Refresh"})}),i(!1),d(!0),m(e.message)}},[r,t,n,c]);return a.useEffect(()=>{s().then()},[s]),a.useMemo(()=>({loading:l,data:u,error:f,errorMessage:h,refresh:s}),[u,f,s,l,h])}export{y as u};
