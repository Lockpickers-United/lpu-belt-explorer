import{r as n,j as t,R as E,W as F,U as I,aj as W}from"./index-HTC1xzYF.js";import{S as C,A as M,I as w}from"./Search-BTqLXkXJ.js";import{T as O}from"./TextField-CPNU6IFb.js";function K({allItems:r,setItemDetails:a,getOptionTitle:d,searchText:p,error:b,value:k}){const R={maxWidth:700},{isMobile:l}=!1,f=n.useRef(),T=n.useMemo(()=>{let s=[],e={},j={};return r==null||r.sort((o,i)=>{o.title.localeCompare(i.title)}).map(o=>{const i=d(o);j[i]=o.title,e[i]=o.id,s.push(i)}).filter(o=>o),{options:s,itemIds:e,itemTitles:j}},[r,d]),{options:u,itemIds:h,itemTitles:m}=T,S=n.useCallback((s,e)=>{e?u.includes(e)&&a({itemFullTitle:e,itemTitle:m[e],itemId:h[e]}):a({})},[u,h,m,a]),[c,x]=n.useState(!1),g=n.useCallback(()=>{x(!0),setTimeout(()=>f.current.focus(),15)},[]),y=n.useCallback(()=>x(!1),[]),A=c&&l?{width:"auto",position:"fixed",left:60,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{},B=b?{borderBottom:"#b00 solid 4px"}:{};return t.jsxs(E.Fragment,{children:[!c&&l&&t.jsx(F,{title:"Search",arrow:!0,disableFocusListener:!0,children:t.jsx(I,{color:"inherit",onClick:g,children:t.jsx(C,{})})}),(c||!l)&&t.jsx(M,{selectOnFocus:!0,clearOnEscape:!0,handleHomeEndKeys:!0,fullWidth:!0,style:{...R,...A},options:u,value:k||null,onChange:S,renderInput:s=>t.jsx(O,{...s,placeholder:p||"Search",variant:"standard",color:"info",style:B,inputRef:f,InputProps:{...s.InputProps,startAdornment:t.jsx(w,{position:"start",children:t.jsx(C,{})})}})}),t.jsx(W,{invisible:!0,open:c&&l,onClick:y})]})}export{K as R};
