import{j as e,a5 as A,G as P,A as $,z as O,a9 as q,Q as T,ah as H,a3 as U,r as n,a4 as F,T as y,I as V,R as v,af as G,ai as N,aj as Q,ak as B,S as u,x as j,w as J,t as K,C as X,D as Y}from"./index-bde07d58.js";import{B as E,e as Z,F as W,D as ee}from"./BeltStripe-50eb71e5.js";import{C as D}from"./CollectionButton-92e1119e.js";import{L as se}from"./ListItem-a23d0635.js";import{b as d}from"./sortFields-6b301123.js";import{a as te,F as S,A as ae,C as ie,b as le}from"./InlineFilterDisplay-892fe472.js";import{A as ne,a as oe,b as re}from"./Sort-8cea6bef.js";import{M as ce}from"./index-d301d3e6.js";import{r as de}from"./index-4268259d.js";import{L as xe}from"./LockListContext-ae1d2892.js";function ze({entries:s}){return e.jsxs(A,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(P,{dense:!0,style:{padding:0},children:s.map(t=>e.jsxs(se,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(E,{value:t.belt}),e.jsx($,{primary:Z(t),primaryTypographyProps:{fontWeight:500},secondary:t.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(O,{style:{minWidth:20,marginLeft:16},children:e.jsx(D,{id:t.id,dense:!0})})]},t.id))}),e.jsx(q,{}),e.jsx(T,{feature:"compact"})]})}function me({belt:s}){const{danPoints:t}=H[s],a=t===1?"Point":t>=10?"Pts":"Points",l=` (${t} Dan ${a})`,r={textDecoration:"none",color:"#fff"};return t===0||s==="Unranked"?null:e.jsx("a",{style:r,href:"/#/dans",children:l})}function R({value:s,style:t}){const{color:a,lineColor:l="#010101"}=H[s];return s==="Unranked"?null:e.jsx("div",{style:{display:"inline-block",minWidth:32,height:32,...t},children:e.jsxs("svg",{x:"0",y:"0",viewBox:"0 -2 32 32",children:[e.jsx("path",{d:"M10.91 25.6c-.23 0-.46-.06-.65-.18l-4.47-2.73c-.6-.37-.79-1.15-.43-1.74l7.02-11.51c.23-.37.64-.6 1.08-.6.23 0 .46.06.65.18l4.48 2.73c.29.18.49.45.57.78s.03.67-.15.95l-7.02 11.51c-.23.38-.64.61-1.08.61z",fill:a}),e.jsx("path",{d:"M13.46 9.4c.12 0 .25.03.36.1l4.47 2.73c.33.2.43.63.23.96L11.5 24.7a.704.704 0 0 1-.96.23L6.07 22.2a.698.698 0 0 1-.23-.96l7.02-11.51a.73.73 0 0 1 .6-.33m0-1.13c-.63 0-1.23.33-1.56.87L4.88 20.65c-.25.42-.33.91-.22 1.38.11.47.41.88.82 1.13l4.47 2.73c.29.17.61.27.95.27.63 0 1.23-.33 1.56-.87l7.02-11.51c.25-.42.33-.91.22-1.38-.11-.47-.41-.88-.82-1.13l-4.47-2.73a1.75 1.75 0 0 0-.95-.27z",fill:l}),e.jsx("path",{d:"M17.57 22.37c-.48 0-.91-.26-1.12-.69L10.33 9.66c-.15-.3-.18-.64-.07-.96.1-.32.33-.58.63-.73l4.86-2.47a1.257 1.257 0 0 1 1.7.55l6.12 12.02c.31.62.07 1.38-.55 1.7l-4.86 2.47c-.19.08-.39.13-.59.13z",fill:a}),e.jsx("path",{d:"M16.31 5.92c.25 0 .5.14.62.38l6.12 12.02c.17.34.04.76-.3.94l-4.86 2.47c-.1.05-.21.08-.31.08-.25 0-.5-.14-.62-.38L10.84 9.41a.707.707 0 0 1 .3-.94L16 6c.1-.05.21-.08.31-.08m0-1.13c-.29 0-.57.07-.83.2l-4.86 2.47c-.43.22-.76.6-.91 1.06-.14.47-.1.96.12 1.4l6.12 12.02c.31.62.94 1 1.63 1 .29 0 .57-.07.83-.2l4.86-2.47a1.815 1.815 0 0 0 .8-2.45L17.94 5.79c-.31-.62-.94-1-1.63-1z",fill:l}),e.jsx("path",{d:"M2.57 13.38c-.7 0-1.26-.57-1.26-1.26V6.64c0-.69.57-1.26 1.26-1.26h26.92c.7 0 1.26.57 1.26 1.26v5.48c0 .69-.57 1.26-1.26 1.26H2.57z",fill:a}),e.jsx("path",{d:"M29.49 5.95c.38 0 .7.31.7.7v5.47c0 .38-.31.7-.7.7H2.57c-.38 0-.7-.31-.7-.7V6.64c0-.38.31-.7.7-.7h26.92m0-1.12H2.57c-1.01 0-1.83.82-1.83 1.83v5.47c0 1.01.82 1.83 1.83 1.83h26.92c1.01 0 1.83-.82 1.83-1.83V6.64c-.01-1-.83-1.82-1.83-1.82z",fill:l}),e.jsx("path",{d:"M10.35 14.36c-.69 0-1.26-.57-1.26-1.26V5.43c0-.7.57-1.26 1.26-1.26H21.6c.7 0 1.26.57 1.26 1.26v7.67c0 .7-.57 1.26-1.26 1.26H10.35z",fill:a}),e.jsx("path",{d:"M21.59 4.73c.38 0 .7.31.7.7v7.67c0 .38-.31.7-.7.7H10.35c-.38 0-.7-.31-.7-.7V5.43c0-.38.31-.7.7-.7h11.24m0-1.13H10.35c-1.01 0-1.83.82-1.83 1.83v7.67c0 1.01.82 1.83 1.83 1.83H21.6c1.01 0 1.83-.82 1.83-1.83V5.43a1.846 1.846 0 0 0-1.84-1.83z",fill:l})]})})}function ue({entry:s}){const t=U(),{filters:a,addFilter:l,removeFilters:r}=n.useContext(W),c=n.useCallback(f=>{l("image",f+1,!0)},[l]),h=n.useCallback(()=>{r(["image"])},[r]),x=n.useCallback(()=>{const{image:f}=F.parse(t.search);return z(f,s)},[s,t]),p=n.useMemo(()=>a.image?+a.image-1:-1,[a]),b=z(p,s);return e.jsx(te,{media:s.media,openIndex:p,initiallyOpen:b,onOpenImage:c,onCloseImage:h,onBackButton:x,shareParams:{id:s.id,name:a.name}})}const z=(s,t)=>/\d+/.test(s)&&!!t.media[s];function he({id:s,onExpand:t}){const{getEntryFromId:a,visibleEntries:l}=n.useContext(ee),{addFilters:r}=n.useContext(W),c=n.useMemo(()=>a(s),[a,s]),h=n.useCallback(async()=>{l.some(x=>x.id===s)||r([{tab:c.belt.replace(/\s\d/g,"")}]),t(s)},[l,s,r,c.belt,t]);return e.jsx(y,{title:c.version,arrow:!0,disableFocusListener:!0,children:e.jsx(V,{onClick:h,children:e.jsx(R,{value:c.belt})})})}function pe({entry:s,expanded:t,onExpand:a}){var C,L,w,M,I;const{userId:l}=G(),[r,c]=n.useState(!1),h={maxWidth:700,marginLeft:"auto",marginRight:"auto"},x=n.useRef(null),p=[...new Set([...s.relatedIds||[],...N(s.id)])].filter(i=>i!==s.id).sort((i,o)=>Q(B[i].belt,B[o].belt)),b=n.useCallback((i,o)=>{a&&a(o?s.id:!1)},[s.id,a]);n.useEffect(()=>{if(t&&x&&!r){const o=window.innerWidth<=600?70:74,{id:m}=F.parse(location.search),g=m===s.id;c(!0),setTimeout(()=>{window.scrollTo({left:0,top:x.current.offsetTop-o,behavior:g?"auto":"smooth"})},g?0:100)}else t||c(!1)},[t,s,r]);const f=n.useMemo(()=>{var i;return e.jsx(u,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(i=s.makeModels)==null?void 0:i.map(({make:o,model:m},g)=>e.jsx(j,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:o&&o!==m?`${o} ${m}`:m},g))})},[s.makeModels]);return e.jsxs(ne,{expanded:t,onChange:b,style:h,ref:x,children:[e.jsxs(oe,{expandIcon:e.jsx(J,{}),children:[e.jsx(E,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(d,{value:f,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(d,{name:"Version",value:e.jsx(j,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((C=s.lockingMechanisms)==null?void 0:C.length)>0&&e.jsx(d,{value:e.jsx(u,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(L=s.lockingMechanisms)==null?void 0:L.map((i,o)=>e.jsx(S,{value:i,field:"lockingMechanisms"},o))})})})]}),t&&e.jsxs(v.Fragment,{children:[e.jsxs(re,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(u,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(d,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(v.Fragment,{children:[e.jsxs(j,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(me,{belt:s.belt})]}),e.jsx(R,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(D,{id:s.id,makeModels:s.makeModels})})]}),e.jsx(u,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:!!s.notes&&e.jsx(d,{name:"Notes",value:e.jsx(j,{component:"div",style:{marginTop:-16},children:e.jsx(ce,{rehypePlugins:[[de,{target:"_blank"}]],children:s.notes})})})}),!!((w=s.features)!=null&&w.length)&&e.jsx(d,{name:"Features",value:e.jsx(u,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((i,o)=>e.jsx(S,{value:i,field:"features"},o))})}),!!p&&!l&&e.jsx(d,{name:"Other Versions",value:e.jsx(v.Fragment,{children:p.map(i=>e.jsx(he,{id:i,onExpand:a},i))})}),!!((M=s.media)!=null&&M.length)&&e.jsx(d,{value:e.jsx(ue,{entry:s})}),!!((I=s.links)!=null&&I.length)&&e.jsx(d,{name:"Links",value:e.jsx(u,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:i,url:o},m)=>e.jsx(K,{href:o,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:i},m))})})]}),e.jsxs(ae,{disableSpacing:!0,children:[e.jsx(T,{feature:"lock",id:s.id}),e.jsx(ie,{entry:s}),e.jsx(le,{entry:s})]})]})]})}const Te=v.memo(pe,(s,t)=>s.entry.id===t.entry.id&&s.expanded===t.expanded&&s.onExpand===t.onExpand);var k={},fe=Y;Object.defineProperty(k,"__esModule",{value:!0});var _=k.default=void 0,ge=fe(X()),je=e;_=k.default=(0,ge.default)((0,je.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");function He(){const{compact:s,setCompact:t,setExpanded:a}=n.useContext(xe),l=n.useCallback(()=>{t(!s),a(null)},[s,t,a]);return e.jsx(y,{title:"Toggle Compact View",arrow:!0,disableFocusListener:!0,children:e.jsx(V,{onClick:l,children:e.jsx(_,{color:s?"secondary":"inherit"})})})}export{R as B,ze as C,Te as E,He as T};
