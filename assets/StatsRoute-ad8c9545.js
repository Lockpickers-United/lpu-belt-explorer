import{O as re,P as oe,j as e,u as w,R as O,r as y,$ as q,A as ce,ac as $,an as de,J as Q,I as Z,ao as he,D as xe,N as pe,h as me,T as ge}from"./index-95f98ebb.js";import{L as ue}from"./LoadingDisplay-08cc70d7.js";import{u as be}from"./useData-d7bd23cb.js";import{u as fe}from"./usePageTitle-b21e158c.js";import{L as ye}from"./LockViewsLine-e1d98663.js";import{c as I,d as P,T as G,a as A,b as f,e as z}from"./TableRow-1d1dd080.js";import{d as je}from"./PhotoCamera-800dce8e.js";import{C as ve}from"./ChoiceButtonGroup-a256b87d.js";import{B as F}from"./nivo-bar.es-8353ebd6.js";import{b as H,p as N,l as ke,a as E,c as te}from"./chartDefaults-ca889cb2.js";import{P as Se}from"./nivo-line.es-e852b903.js";import{_ as X,d as we,a as Le,l as Be}from"./lockStats-5fef196b.js";import{F as se,I as ie,S as ne}from"./Select-7bd4a72b.js";import{B as Ce}from"./BeltIcon-2d470b18.js";import{b as We,c as Ae,p as Me,a as Re,s as Te,d as De,e as Oe,f as Ie}from"./dataUrls-88e95518.js";import{E as Pe}from"./ErrorMessage-63049900.js";import"./LPU-c3fa7122.js";import"./LinearProgress-3d2d4a28.js";import"./useDocumentTitle-63236d84.js";import"./ToggleButtonGroup-ac3e5c76.js";import"./nivo-axes.es-95b128a0.js";import"./nivo-legends.es-c0933b9f.js";import"./index-39701133.js";import"./line-61396c98.js";var K={},ze=oe;Object.defineProperty(K,"__esModule",{value:!0});var le=K.default=void 0,Fe=ze(re()),He=e;le=K.default=(0,Fe.default)((0,He.jsx)("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4z"}),"SsidChart");const J=({tableData:t})=>{const s={padding:"0px",fontWeight:700,backgroundColor:"#000"},i={border:0,padding:"4px 8px 0px 0px",fontWeight:400};return e.jsx(I,{id:"dailyAverages",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(P,{children:[e.jsx(G,{children:e.jsx(A,{children:e.jsx(f,{colSpan:2,style:s,children:t.description})})}),e.jsx(z,{children:t.data.map((n,a)=>e.jsxs(A,{index:a,children:[e.jsx(f,{style:i,children:n.label},a+1),e.jsx(f,{style:i,sx:{textAlign:"left"},children:n.value.toLocaleString()})]},a))})]})})};function Ne({data:t}){const{width:s}=w(),i=s<500,n=s<700,a=n?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},r=n?"26px":"10px",{lockStats:{lockCounts:l},siteFullNew:{dailyAverages:o,totals:c}}=t;return e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 26px",minWidth:"180px",maxWidth:"306px",height:140},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(le,{style:{fontSize:"x-large"}})}),e.jsx(J,{tableData:o})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${r}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:c})}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:"18px 12px 12px 12px",margin:`10px 0px 0px ${r}`,minWidth:"200px",maxWidth:"306px",height:140},children:e.jsx(J,{tableData:l})})]})}function Ve({data:t}){const{width:s}=w(),i=s<500,n=s<700,a=n?{padding:"0xp 20px"}:{display:"flex",padding:"0xp 20px",maxWidth:660},r=i?"32px":"10px",l=n?255:155,o=n?330:360,c={padding:"0px",fontWeight:700,backgroundColor:"#000"},p={border:0,padding:"4px 8px 0px 0px",fontWeight:400},j={border:0,padding:"4px 8px 0px 0px",fontWeight:700},{photoSegments:h,topPhotographers:d,uniqueImages:k,contributors:u}=t.lockStats.photoStats;return e.jsx(O.Fragment,{children:e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{border:"1px solid #666",padding:12,flexGrow:1,margin:"10px 0px 0px 32px",minWidth:"300px",maxWidth:o,height:230},children:[e.jsx("div",{style:{border:"1px solid #999",borderRadius:20,paddingTop:5,width:40,height:40,margin:"-33px 0px 0px -33px",backgroundColor:"#000",textAlign:"center"},children:e.jsx(je,{style:{fontSize:"x-large"}})}),e.jsx(I,{id:"photoStats",style:{padding:"0px 0px 0px 4px",maxWidth:"240px"},children:e.jsx(P,{children:e.jsxs(z,{children:[e.jsxs(A,{index:1,children:[e.jsx(f,{style:j,sx:{maxWidth:108},children:"Unique Images"},"images"),e.jsx(f,{style:j,children:k},"imageCount")]},1),e.jsxs(A,{index:2,children:[e.jsx(f,{style:j,sx:{maxWidth:108},children:"Individual Contributors"},"contribs"),e.jsx(f,{style:j,children:u},"contribCount")]},2)]})})}),e.jsx("div",{style:{height:16}}),e.jsx(I,{id:"areaList",style:{padding:"0px 0px 0px 4px",maxWidth:"400px"},children:e.jsxs(P,{children:[e.jsx(G,{children:e.jsxs(A,{children:[e.jsx(f,{style:c,children:"Segment"}),e.jsx(f,{style:c,sx:{textAlign:"center"},children:"Count"}),e.jsx(f,{style:c,sx:{textAlign:"center"},children:"w/Media"}),e.jsx(f,{style:c,sx:{textAlign:"center"},children:"Coverage"})]})}),e.jsx(z,{children:h.map((b,v)=>e.jsxs(A,{index:v,children:[e.jsx(f,{style:p,children:b.segment},v+1),e.jsx(f,{style:p,sx:{textAlign:"center"},children:b.count}),e.jsx(f,{style:p,sx:{textAlign:"center"},children:b.media}),e.jsx(f,{style:p,sx:{textAlign:"center"},children:b.coverage})]},v))})]})})]}),e.jsx("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,margin:`10px 0px 0px ${r}`,minWidth:"260px",maxWidth:"330px",height:230},children:e.jsx(I,{sx:{height:200,backgroundColor:"#111",marginLeft:"auto",marginRight:"auto",width:{leaderboardWidth:l}},children:e.jsxs(P,{stickyHeader:!0,children:[e.jsx(G,{children:e.jsxs(A,{children:[e.jsx(f,{style:c,children:"Top Contributors"}),e.jsx(f,{style:c,sx:{textAlign:"center"},children:"Images"})]})}),e.jsx(z,{children:d.map((b,v)=>e.jsxs(A,{children:[e.jsxs(f,{style:p,sx:{},children:["  ",b.contributor]}),e.jsx(f,{style:p,sx:{textAlign:"center"},children:b.images})]},v))})]})})})]})})}const Ue=({beltDistribution:t})=>{const{width:s}=w(),i=s<500,a=s<700?i?275:325:350,r=i?{top:30,right:5,bottom:55,left:48}:{top:30,right:20,bottom:30,left:50},l=i?-45:0;return e.jsx("div",{style:{height:a},children:e.jsx(F,{data:t,maxValue:.2,margin:r,padding:.15,colors:o=>H[o.index%H.length],animate:!0,enableLabel:!1,axisBottom:{tickRotation:l},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},enableGridY:!1,theme:N,isInteractive:!1})})};function Ge({data:t}){const s=y.useMemo(()=>{const{lockStats:{locksByBelt:r},siteFullNew:{lockViewsByBelt:l},collectionsStatsCurrent:o}=t,c=[...q,"Unranked"].map(p=>({label:p,id:p,...o.allUsers.savesByBelt[p]}));return[{label:"Site Views",data:l.data},{label:"Locks",data:r},{label:"Collection Saves",data:c}]},[t]),[i,n]=y.useState(s[0]),a=y.useCallback(r=>n(r),[]);return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(ve,{options:s,onChange:a}),e.jsx(Ue,{beltDistribution:i.data})]})}function qe({data:t}){const{redditGrowth:s}=t,{width:i}=w(),n=i<500,r=i<700?n?220:300:350,l=n?2:3,o=s.map(c=>({total:Object.keys(c).reduce((j,h)=>h==="date"?j:+c[h]+j,0)}));return e.jsxs("div",{style:{height:r},children:[e.jsx(F,{data:s,keys:["White","Yellow","Orange","Green","Blue","Purple","Brown","Red","Black"],indexBy:"date",groupMode:"stacked",margin:{top:10,right:20,bottom:50,left:55},padding:.1,innerPadding:.5,borderRadius:l,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:8e3,theme:N,colors:H,animate:!0,enableLabel:!0,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},isInteractive:!0}),e.jsx("div",{style:{height:30,marginTop:-20},children:e.jsx(F,{data:o,indexBy:"total",margin:{top:10,right:20,bottom:40,left:55},maxValue:0,theme:ke,axisLeft:null,enableGridY:!1,enableGridX:!1,animate:!0,isInteractive:!1})})]})}function Ye({data:t,lockCollection:s,userText:i,collectionBarHeight:n}){const{isLoggedIn:a}=y.useContext(ce),r={aveOwn:t.collectionsStatsCurrent.allUsers.listStats.own.averageSaves,maxOwn:t.collectionsStatsCurrent.allUsers.listStats.own.maxSaves,avePicked:t.collectionsStatsCurrent.allUsers.listStats.picked.averageSaves,maxPicked:t.collectionsStatsCurrent.allUsers.listStats.picked.maxSaves,aveRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.averageSaves,maxRecorded:t.collectionsStatsCurrent.allUsers.listStats.recorded.maxSaves,aveWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.averageSaves,maxWishlist:t.collectionsStatsCurrent.allUsers.listStats.wishlist.maxSaves,aveScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.averageSaves,maxScorecard:t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.maxSaves},l=s.own?s.own.length:0,o=s.picked?s.picked.length:0,c=s.recordedLocks?s.recordedLocks.length:0,p=s.wishlist?s.wishlist.length:0,h=l+o+c+p?{own:l,picked:o,scorecard:c,wishlist:p}:{own:0,picked:0,scorecard:0,wishlist:0},d={own:r.aveOwn,picked:r.avePicked,scorecard:r.aveScorecard,wishlist:r.aveWishlist},k={own:r.maxOwn,picked:r.maxPicked,scorecard:r.maxScorecard,wishlist:r.maxWishlist},u={own:Math.min(d.own,h.own),picked:Math.min(d.picked,h.picked),scorecard:Math.min(d.scorecard,h.scorecard),wishlist:Math.min(d.wishlist,h.wishlist)},b={own:h.own>d.own?0:d.own-u.own,picked:h.picked>d.picked?0:d.picked-u.picked,scorecard:h.scorecard>d.scorecard?0:d.scorecard-u.scorecard,wishlist:h.wishlist>d.wishlist?0:d.wishlist-u.wishlist},v={own:2,picked:2,scorecard:2,wishlist:2},g={own:Math.max(h.own-(u.own+b.own+v.own),0),picked:Math.max(h.picked-(u.picked+b.picked+v.picked),0),scorecard:Math.max(h.scorecard-(u.scorecard+b.scorecard+v.scorecard),0),wishlist:Math.max(h.wishlist-(u.wishlist+b.wishlist+v.wishlist),0)},x={own:Math.min(k.own-h.own,k.own-d.own-v.own),picked:Math.min(k.picked-h.picked,k.picked-d.picked-v.picked),scorecard:Math.min(k.scorecard-h.scorecard,k.scorecard-d.scorecard-v.scorecard),wishlist:Math.min(k.wishlist-h.wishlist,k.wishlist-d.wishlist-v.wishlist)},m=["own","picked","scorecard","wishlist"],C=m.map((M,T)=>({row:m[T],"Average A":u[M],"Average B":b[M],Average:v[M],USER:g[M],"Top 10":x[M]})),{width:L}=w(),R=L<=560,V=n,Y=R?{top:10,right:20,bottom:50,left:55}:{top:10,right:20,bottom:50,left:55},W=["#3c90c5","#aaa","#000","#3c90c5","#aaa"],B=a&&s?[{title:i,color:"#3c90c5",width:"14px"}]:[];B.push({title:"Average",color:"#000",width:"35px"},{title:"Max",color:"#aaaaaa",width:"120px"});const U=({items:M})=>e.jsxs("div",{className:"chart-legend",style:{display:"flex",fontSize:".9rem",color:"#ddd",marginTop:13},children:[e.jsx("div",{style:{width:"100%"}}),M.map(T=>e.jsxs("div",{style:{display:"flex",padding:"0px 18px 24px 18px"},children:[e.jsx("div",{style:{backgroundColor:T.color,height:15,width:15,margin:"2px 6px 0px 0px",border:"1px solid #555"}}),e.jsx("div",{style:{textAlign:"left",width:T.width},children:T.title})]},T.title)),e.jsx("div",{style:{width:"100%"}})]});return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{height:V},children:e.jsx(F,{data:C,keys:["Average A","Average B","Average","USER","Top 10"],theme:N,indexBy:"row",margin:Y,padding:.2,valueScale:{type:"linear"},colors:W,enableLabel:!1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:"00",legend:"Saves",legendPosition:"middle",legendOffset:-45,legendOpacity:.9},enableGridY:!1,isInteractive:!1,animate:!1})}),e.jsx(U,{items:B})]})}const _=({dataset:t,title:s})=>{const i={border:0,padding:"4px 8px 0px 0px",fontWeight:400,textOverflow:"ellipsis"};return e.jsxs("div",{style:{backgroundColor:"#000",border:"1px solid #666",padding:12,align:"center",margin:"0px 15px 16px 15px",width:300,height:490,marginLeft:"auto",marginRight:"auto"},children:[e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,width:"100%",textAlign:"left",marginBottom:10,paddingLeft:6},children:s}),e.jsx(I,{id:"areaList",sx:{height:420,backgroundColor:"#111",margin:"auto"},children:e.jsxs(P,{stickyHeader:!0,children:[e.jsx(G,{children:e.jsxs(A,{children:[e.jsx(f,{style:{padding:"4px 10px 4px 12px",fontWeight:700,textAlign:"right"},children:"#"}),e.jsx(f,{style:{padding:"4px 0px",fontWeight:700},children:"Lock"})]})}),e.jsx(z,{children:t.map((n,a)=>e.jsxs(A,{index:a,children:[e.jsx(f,{style:i,sx:{textAlign:"right",padding:"0px",width:34,verticalAlign:"top"},children:a+1},a+1),e.jsx(f,{style:i,sx:{textOverflow:"ellipsis"},children:n.name},n.name)]},a))})]})})]})};function _e({data:t}){const s=t.collectionsStatsCurrent.allUsers.listStats.own.topItems,i=t.collectionsStatsCurrent.allUsers.listStats.picked.topItems,n=t.collectionsStatsCurrent.allUsers.listStats.wishlist.topItems,a=t.collectionsStatsCurrent.allUsers.listStats.recordedLocks.topItems.slice(0,25),{width:r}=w(),l=r<=560,p={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...l?{}:{display:"flex"}};return e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:p,children:[e.jsx(_,{dataset:s,title:"Owned"}),e.jsx(_,{dataset:i,title:"Picked"})]}),e.jsxs("div",{style:p,children:[e.jsx(_,{dataset:n,title:"Wishlist"}),e.jsx(_,{dataset:a,title:"Scorecard"})]})]})}function $e({data:t}){const{hourlyRequests:s}=t.siteFullNew,{width:i}=w(),n=i<=360,a=i<=395,r=i<=560,l=n?230:a?270:r?290:350,o=r?["midnight","2 am","4 am","6 am","8 am","10 am","noon","2 pm","4 pm","6 pm","8 pm","10 pm"]:["midnight","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","noon","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"];return e.jsx("div",{style:{height:l},children:e.jsx(Se,{theme:Xe,data:s,colors:["#007de2","#16325d"],lineWidth:3,margin:{top:10,right:20,bottom:70,left:58},curve:"natural",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.0f",axisLeft:{tickValues:5,tickSize:5,tickPadding:5,tickRotation:0,format:","},axisBottom:{tickValues:o,tickSize:5,tickPadding:5,tickRotation:-45,direction:"row"},legends:[{anchor:"bottom",itemTextColor:"#ddd",text:{fontSize:18},direction:"row",justify:!1,translateX:0,translateY:75,itemsSpacing:0,itemWidth:100,itemHeight:20,symbolSize:13,symbolShape:"circle"}],enablePoints:!1,useMesh:!0,isInteractive:!1})})}const Ee={grid:{line:{stroke:"#333",strokeWidth:1}}},Xe={...N,...Ee},ee=({dataset:t,pieColors:s})=>{const{width:i}=w(),n=i<=360,a=i<=395,r=i<=428,l=i<=560,o=l?{top:20,right:50,bottom:20,left:80}:{top:-50,right:50,bottom:20,left:80};let c=320;n?c=165:a?c=180:r?c=230:l&&(c=240);const p=l?6:4,j=l?4:0,h=l?4:8;return e.jsx("div",{style:{height:c,padding:"0px 8px 0px 8px",width:"100%",backgroundColor:"#000"},children:e.jsx(X,{data:t,theme:E,colors:s,margin:o,startAngle:-45,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:p,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>d.label,arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:h,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:j,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")};function Je({data:t}){const{trafficTotals:{platform:s,browser:i}}=t.siteFullNew,n=["#007de2","#0367ba","#005ba0","#004fa4","#063b87","#062f6b"],a=["#c34100","#b33600","#a02d01","#7d2900","#6a2200","#621d00","#581d00"],{width:r}=w(),l=r<=560,p={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...l?{}:{display:"flex"}};return e.jsx(O.Fragment,{children:e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:p,children:[e.jsx(ee,{dataset:s,pieColors:n}),e.jsx(ee,{dataset:i,pieColors:a})]})})})}function Ke({beltData:t}){const{width:s}=w(),i=s<=360,n=s<=560,a=i?170:n?200:180,r=50,l=n?{top:0,right:20,bottom:r,left:20}:{top:0,right:10,bottom:r,left:10},o=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#ddd"];return e.jsx("div",{style:{height:a,padding:"0px 8px 0px 8px",width:"100%"},children:e.jsx(F,{data:t,margin:l,padding:.15,colors:c=>H[c.index%H.length],animate:!0,axisBottom:{tickRotation:-45},axisLeft:null,enableGridY:!1,theme:N,isInteractive:!1,enableLabel:!0,label:c=>c.data.count,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:c=>o[c.index%o.length]})},"bar")}function Qe({beltData:t}){const{width:s}=w(),i=s<=360,n=s<=395,a=s<=428,r=s<=560,l={top:12,right:40,bottom:20,left:40},o=i?120:n?140:a||r?180:120,c=r?5:4,p=r?10:8,j=r?0:8,h=["#949494","#6b6b6b","#565656","#3e3e3e","#333333","#2a2a2a"];return e.jsx("div",{style:{height:o,padding:"0px 0px 0px 0px",width:"100%",backgroundColor:"#000"},children:e.jsx(X,{data:t,theme:E,colors:h,margin:l,startAngle:-90,endAngle:360,sortByValue:!1,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:c,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:d=>d.label,arcLinkLabelsDiagonalLength:6,arcLinkLabelsStraightLength:j,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:p,arcLabelsTextColor:"#111",isInteractive:!1})},"pie")}function Ze({data:t}){const{brandBelts:s,brandMechanisms:i}=t.brandDistribution,n=s.map(S=>S.brandName),[a,r]=y.useState(2),[l,o]=y.useState(s[a].brandName),c=i.map(S=>S.brandName),[p,j]=y.useState(2),h=s[a].data,d=i[p].data,[k,u]=y.useState(!1),b=y.useCallback(()=>u(!1),[]),v=y.useCallback(()=>u(!0),[]),g=y.useCallback(S=>{r(n.findIndex(D=>D===S.target.value)),j(c.findIndex(D=>D===S.target.value)),o(S.target.value),b(),document.getElementById("brandPulldown").classList.remove("active"),document.getElementById("brandSelect").classList.remove("active")},[n,c,b]),{width:x}=w(),m=x<=360,C=x<=395,L=x<=428,R=x<=560,V=R?10:20,B={...{width:"100%",padding:"0px",marginBottom:12,alignItems:"center",marginLeft:"auto",marginRight:"auto"},...R?{}:{display:"flex"}},U=R?"100%":"55%",M=R?"100%":"45%",T=m?200:R?210:180,ae=m||C?120:L?170:R?180:160;return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{marginTop:24,textAlign:"center"},children:e.jsxs(se,{id:"brandPulldown",size:"small",style:{marginBottom:V,minWidth:200,textAlign:"left"},children:[e.jsx(ie,{children:"Brand"}),e.jsx(ne,{id:"brandSelect",value:l,label:"Brand",open:k,onClose:b,onOpen:v,onChange:g,style:{fontWeight:700,color:"#eee"},children:n.map((S,D)=>S==="Top Brands"&&e.jsx($,{disabled:!0,value:S,children:S},D)||S==="All Brands"&&e.jsx($,{disabled:!0,value:S,children:S},D)||S==="divider"&&e.jsx(de,{},D)||e.jsx($,{value:S,children:S},D))})]})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("div",{style:B,children:[e.jsx("div",{style:{width:U,verticalAlign:"top",height:T},children:e.jsx(Ke,{beltData:h,brandName:l})}),e.jsx("div",{style:{width:M,height:ae},children:e.jsx(Qe,{beltData:d,brandName:l})})]})})]})}function et({data:t,belt:s}){const{pickStatsData:i}=t,n=Object.keys(i.byBeltByMechanism).reduce((x,m)=>(x[m]=Object.keys(i.byBeltByMechanism[m]).reduce((C,L)=>(C.push({id:L,label:L,value:i.byBeltByMechanism[m][L]}),C),[]),x),{}),a=Object.keys(i.byMechanism).map(x=>({id:x,label:x,value:i.byMechanism[x]})),r=y.useMemo(()=>["All Belts",...q],[]),l=y.useMemo(()=>{const x={...n,"All Belts":a},m=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return x[r[s]].sort((C,L)=>m.indexOf(C.label)-m.indexOf(L.label))},[n,a,r,s]),o=y.useMemo(()=>l.reduce((x,m)=>x+m.value,0),[l]),{width:c}=w(),p=c<=360,j=c<=395,h=c<=428,d=c<=560,k={top:30,right:0,bottom:30,left:0};let u=320;p?u=145:j?u=180:h?u=230:d&&(u=240);const b=d?5:4,v=d?10:8,g=d?0:8;return e.jsx(O.Fragment,{children:e.jsxs("div",{style:{height:u,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx(X,{data:l,theme:E,colors:te,margin:k,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:b,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:x=>x.label+": "+Math.round(x.value/o*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:g,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:v,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:u/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Picks"})]},"pickPie")})}function tt({data:t}){const{lockingMechanismsByBelt:s,lockingMechanisms:i}=t.lockStats,n=y.useMemo(()=>["All Belts",...q],[]),[a,r]=y.useState(0),l=y.useCallback(()=>{r(a<n.length-1?a+1:0)},[a,n.length]),o=y.useCallback(()=>{r(a>0?a-1:n.length-1)},[a,n.length]),c=y.useMemo(()=>{const W={...s,"All Belts":i},B=["Pin-tumbler","Dimple","Multiple","Lever","Disc detainer","Slider","Pump/push","Lever/sidebar","Wafer","Magnet","Other","Various"];return W[n[a]].sort((U,M)=>B.indexOf(U.label)-B.indexOf(M.label))},[s,i,n,a]),p=y.useMemo(()=>c.reduce((W,B)=>W+B.value,0),[c]),[j,h]=y.useState(!1),d=y.useCallback(()=>h(!1),[]),k=y.useCallback(()=>h(!0),[]),u=y.useCallback(W=>{r(n.findIndex(B=>B===W.target.value)),d()},[d,n]),{width:b}=w(),v=b<=360,g=b<=395,x=b<=428,m=b<=560,C={top:30,right:0,bottom:30,left:0};let L=320;v?L=145:g?L=180:x?L=230:m&&(L=240);const R=m?5:4,V=m?10:8,Y=m?0:8;return e.jsxs(O.Fragment,{children:[e.jsx("div",{style:{marginBottom:10,display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{padding:"0px",width:220,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(Q,{title:"Previous Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Z,{onClick:o,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(we,{})})}),e.jsx("div",{style:{padding:"0px",display:"flex",justifyContent:"center",flexGrow:1,alignItems:"center"},children:e.jsxs(se,{id:"beltPulldown",size:"small",variant:"outlined",style:{marginBottom:0,width:140},children:[e.jsx(ie,{style:{color:"#bbb"},children:"Belt"}),e.jsx(ne,{id:"beltSelect",value:n[a],label:"Brand",open:j,onClose:d,onOpen:k,onChange:u,style:{fontWeight:700,color:"#eee",fontSize:"1.1rem"},children:n.map((W,B)=>e.jsx($,{value:n[B],children:n[B]},B))})]})}),e.jsx(Q,{title:"Next Belt",arrow:!0,disableFocusListener:!0,children:e.jsx(Z,{onClick:l,style:{backgroundColor:"#bbb",color:"#000",height:24,width:24},children:e.jsx(Le,{})})})]})}),e.jsxs("div",{style:{height:L,margin:"20px 8px 0px 8px",width:"100%",position:"relative"},children:[e.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},children:e.jsx(X,{data:c,theme:E,colors:te,margin:C,startAngle:-70,endAngle:360,innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,arcLinkLabelsSkipAngle:R,arcLinkLabelsTextColor:"#ccc",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLinkLabel:W=>W.label+": "+Math.round(W.value/p*100)+"%",arcLinkLabelsDiagonalLength:14,arcLinkLabelsStraightLength:Y,enableArcLabels:!1,arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:V,arcLabelsTextColor:"#111",isInteractive:!0,sortByValue:!1})}),e.jsx("div",{style:{width:"100%",position:"absolute",top:L/2-14,left:0,display:"flex",justifyContent:"center",fontSize:"1.1rem"},children:"Locks"})]},"lockPie"),e.jsx(et,{data:t,belt:a})]})}const st=({beltDistribution:t})=>{const{width:s}=w(),i=s<500,n=s<700,a=250,r=i?{top:10,right:5,bottom:80,left:48}:{top:10,right:75,bottom:50,left:85},l=1,o=i?-45:0;return e.jsx("div",{style:{height:a},children:e.jsx(F,{data:t,keys:["Discord","Reddit"],indexBy:"belt",groupMode:"grouped",margin:r,background:"#fff",padding:.12,innerPadding:2,borderRadius:l,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},maxValue:"auto",theme:{...N,background:"#000"},colors:H,colorBy:"indexValue",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#000",size:1,padding:3,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#444",rotation:30,lineWidth:1,spacing:18},{id:"dotsLegend",type:"patternDots",background:"#ccc",color:"#000",size:1,padding:3,stagger:!0},{id:"linesLegend",type:"patternLines",background:"#ccc",color:"#444",rotation:30,lineWidth:1,spacing:10},{id:"plainLegend",type:"patternLines",background:"#ccc",color:"#ccc",rotation:-45,lineWidth:1,spacing:10}],fill:[{match:{id:"Reddit"},id:"lines"}],animate:!0,enableLabel:!1,enableGridY:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#222",axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:".0%"},legends:[{dataFrom:"keys",itemTextColor:"#ccc",symbolShape:({x:c,y:p,size:j,borderWidth:h,borderColor:d,id:k})=>{const u=k==="Reddit"?"linesLegend":"plainLegend";return e.jsx("g",{children:e.jsx("rect",{x:c,y:p,width:j,height:j,fill:`url(#${u})`,stroke:d,strokeWidth:h})})},anchor:"top-right",direction:"row",justify:!1,translateX:0,translateY:20,itemsSpacing:2,itemWidth:90,itemHeight:20,itemDirection:"left-to-right",itemOpacity:1,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],axisBottom:{tickRotation:o},isInteractive:!1})})};function it({data:t}){const{discordBeltCounts:s,redditBeltCounts:i}=t,n=Object.keys(s).filter(l=>l.includes("Belt")).reduce((l,o)=>l+s[o],0),a=Object.keys(i).filter(l=>l.includes("Belt")).reduce((l,o)=>l+i[o],0),r=q.reduce((l,o)=>{const c=`${o} Belt`;return l.push({belt:o,Discord:s[c]/n,Reddit:i[c]/a,DiscordColor:"#38bcb2"}),l},[]);return e.jsx(st,{beltDistribution:r})}function nt({data:t}){const{discordBeltCounts:s,redditBeltCounts:i}=t,n=Object.keys(s).filter(g=>g.includes("Belt")).reduce((g,x)=>g+s[x],0),a=Object.keys(i).filter(g=>g.includes("Belt")).reduce((g,x)=>g+i[x],0),r=q.reduce((g,x)=>{const m=`${x} Belt`;return g.push({belt:x,discord:s[m],reddit:i[m]}),g},[]);r.push({belt:"Total",discord:n,reddit:a});const l={columns:[{name:"Discord",align:"center",id:"discord"},{name:"Belt",align:"center",id:"belt"},{name:"Reddit",align:"center",id:"reddit"}],data:r},{width:o}=w(),c=o<=360,p=o<=395,j=o<=428,h=o<=560,d=o<=820,k=c?".8rem":p?".85rem":j?".9rem":".95rem",u=320,b={},v="nowrap";return e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.3rem",margin:"10px"},children:l.title}),e.jsx(I,{id:"statsTable",style:{padding:"0px 0px 0px 0px",width:u,marginLeft:"auto",marginRight:"auto",border:"1px solid #444"},component:he,elevation:2,children:e.jsxs(P,{size:"small",children:[e.jsx(G,{children:e.jsx(A,{children:l.columns.map((g,x)=>e.jsx(f,{sx:{textAlign:g==null?void 0:g.align,fontSize:k,lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:g.name},x+1))})}),e.jsx(z,{children:l.data.map((g,x)=>e.jsx(A,{index:x,sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:l.columns.map((m,C)=>e.jsx(f,{style:b,sx:{textAlign:m.align,fontSize:k,whiteSpace:v,padding:"8px",border:0,color:"#eee",justifyItems:"center",fontWeight:700},component:"th",scope:"row",children:m.id==="belt"&&g[m.id]!=="Total"?e.jsx(Ce,{value:g[m.id],style:{marginBottom:-10}}):g[m.id]?g[m.id].toLocaleString():""},C+1))},x))})]})})]})}function lt({data:t}){const{lockCollection:s}=y.useContext(xe),{width:i}=w(),n=i<=360,a=i<560,r=a?"8px 8px 32px 8px":"24px 24px 32px 24px",l=a?n?200:230:320,o={margin:"46px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"},c={margin:"0px 0px 26px 0px",width:"100%",backgroundColor:"#000",textAlign:"center"};return e.jsxs("div",{style:{minWidth:"320px",maxWidth:720,height:"100%",padding:r,backgroundColor:"#000",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem"},children:[e.jsx("div",{style:c,children:"Site Stats"}),e.jsx(Ne,{data:t}),e.jsx("div",{style:o,children:"Weekly Lock Views"}),e.jsx(ye,{data:t.siteFullNew}),e.jsx("div",{style:o,children:"Photo Stats"}),e.jsx(Ve,{data:t}),e.jsx("div",{style:o,children:"Belt Distribution"}),e.jsx(Ge,{data:t}),e.jsx("div",{style:o,children:"Brand Lock Distribution"}),e.jsx(Ze,{data:t}),e.jsx("div",{style:o,children:"Locking Mechanisms By Belt"}),e.jsx(tt,{data:t}),e.jsx("div",{style:o,children:"Collection Stats"}),e.jsx(Ye,{data:t,lockCollection:s,userText:"You",collectionBarHeight:l}),e.jsx("div",{style:o,children:"Collections Top Locks"}),e.jsx(_e,{data:t}),e.jsx("div",{style:o,children:"Discord & Reddit Belt Counts"}),e.jsx(it,{data:t}),e.jsx(nt,{data:t}),e.jsx("div",{style:o,children:"Reddit Belts Over Time"}),e.jsx(qe,{data:t}),e.jsx("div",{style:o,children:"Hourly Traffic"}),e.jsx($e,{data:t}),e.jsx("div",{style:o,children:"Visits by Platform & Browser"}),e.jsx(Je,{data:t})]})}function Rt(){fe("Stats & Insights");const{data:t,loading:s,error:i,errorMessage:n}=be({urls:at});return e.jsxs(O.Fragment,{children:[e.jsx(pe,{title:"Stats & Insights"}),i&&e.jsx(Pe,{errorMessage:n}),s&&e.jsx(ue,{}),!s&&!i&&!!t&&e.jsx(lt,{data:{...t,lockStats:Be}}),e.jsx(me,{}),e.jsx(ge,{feature:"stats"})]})}const at={brandDistribution:We,collectionsStatsCurrent:Ae,popularAreas:Me,redditGrowth:Re,siteFullNew:Te,pickStatsData:De,discordBeltCounts:Oe,redditBeltCounts:Ie};export{Rt as default};
