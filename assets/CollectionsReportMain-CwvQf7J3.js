import{r as p,d as b,j as t,av as g,u as f}from"./index-CkS_smBF.js";import{L as y}from"./LoadingDisplay-CCX4J1zM.js";import{u as j}from"./usePageTitle-aIceKwSp.js";import{C as S,a as C,b as v,c as U,d as L,T as w}from"./TopLocks-CpB7-GVc.js";import{A as T}from"./AdminStatsTable-CZGr3_9b.js";import{a as h}from"./ReportsContext-CUsc7rP6.js";import{X as D}from"./nivo-bar-L0Gzp1Jh.js";import{p as A}from"./adminChartDefaults-CBhS7ojG.js";import"./LPU-DltM2OBF.js";import"./LinearProgress-BqCacF1n.js";import"./nivo-line-BrHQnN5r.js";import"./nivo-legends-BKkEZ_fu.js";import"./nivo-axes-BaxOaIUp.js";import"./uniq-pelX6qwQ.js";import"./line-B6oUP9IZ.js";import"./TableRow-DDMhackD.js";import"./dataUrls-CThgH6Wi.js";import"./useData-6Xp4sejV.js";import"./_baseClone-PyCPZPUd.js";const k=({cohort:o})=>{const{data:i}=p.useContext(h),{collectionStatsDaily:l}=i,r=p.useMemo(()=>{const d=l.dayData.map(s=>s.date),a=b(d.reduce((s,e)=>e>s?e:s)),n=b("2024-10-25"),u=a.subtract(14,"day")>n?a.subtract(14,"day"):n,m=l.dayData.filter(s=>b(s[o].date).isAfter(u)).map(s=>s[o]);return{title:"",columns:B,data:m}},[o,l]);return t.jsx("div",{style:{width:"100%"},children:t.jsx(T,{tableData:r,tableWidth:"100%",fontSize:".83rem"})})},B=[{align:"left",name:"Date",id:"date"},{id:"totalProfiles",name:"Total Users",align:"center"},{id:"importUsers",name:"Import Users",align:"center"},{id:"newImportUsers",align:"center",name:"New Import Users"},{id:"awardUsers",name:"Award Users",align:"center"},{name:"Total Awards",align:"center",id:"totalAwards"}],M=()=>{const{data:o}=p.useContext(h),{maxAwardCounts:i}=o.collectionsStatsCurrent.allUsers,l=g.map(e=>e.rank>19?null:{id:e.name,label:e.makeModels[0].model,count:i[e.id]||0,value:i[e.id]||0}).filter(e=>e),{width:r}=f(),c=r<=360,x=r<=395,d=r<=428,a=r<=820,n=c?180:x?190:d?200:a?240:260,u={top:0,right:20,bottom:80,left:50},m=["#d5d5d5","#d8d801","#ed7d01","#389700","#0090de","#634b9f","#9d5918","#ba0303","#1a1a1a","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12","#baba12"],s=["#000","#000","#000","#000","#000","#000","#000","#000","#ddd","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000","#000"];return t.jsx("div",{style:{height:n,width:"100%"},children:t.jsx(D,{data:l,margin:u,padding:.15,colors:e=>m[e.index%m.length],labelTextColor:e=>s[e.index%s.length],animate:!0,enableLabel:!0,labelSkipHeight:1,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,format:","},enableTotals:!0,axisBottom:{tickRotation:-45},enableGridY:!1,theme:A,isInteractive:!1})})};function _(){j("Collection Report");const{data:o,loading:i,error:l}=p.useContext(h),r=i?"--":"(updated: "+b(o.collectionsStatsCurrent.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+" PST)",{width:c}=f(),d=c<560?"8px 8px 32px 8px":"24px 24px 32px 24px",a={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},n={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return i?t.jsx(y,{}):l?null:t.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:d,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[t.jsxs("div",{style:n,children:["Collections Summary",t.jsx("br",{}),t.jsx("span",{style:{fontSize:"0.85rem"},children:r})]}),t.jsx("div",{style:a,children:"List Users"}),t.jsx(S,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Average Items Per List"}),t.jsx(C,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"List Details"}),t.jsx(v,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Import & Awards Summary"}),t.jsx(k,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Import Users by Belt"}),t.jsx(M,{}),t.jsx("div",{style:a,children:"List Saves by Belt Ranking"}),t.jsx(U,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Last 14 Days"}),t.jsx(L,{cohort:"allUsers"}),t.jsx("div",{style:a,children:"Top Locks"}),t.jsx(w,{cohort:"allUsers"})]})}export{_ as default};
