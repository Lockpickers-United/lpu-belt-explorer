import{r as l,j as e,u as R,R as C,N as F,F as z,T}from"./index-4530f812.js";import{F as W,f as L,D as A,a as N,r as B}from"./filterFields-bfa44ceb.js";import{u as D}from"./usePageTitle-ce059f1d.js";import{r as H}from"./index-d3609bae.js";import{R as S,A as M}from"./AdminRoleButton-62051d3c.js";import{N as P}from"./ViewFilterButtons-9f806d66.js";import{L as j}from"./Link-94647499.js";import{a as k,b as g,c as E,d as I,T as U,e as G}from"./TableRow-44b0186f.js";import{R as _}from"./RaffleSearchBar-17bdd5db.js";import{R as K}from"./RaffleHiddenDialog-9d23c727.js";import{R as O}from"./RaffleHeader-4fdad0f0.js";import{R as V}from"./ReportButton-e7462079.js";import"./useDocumentTitle-60d4a740.js";import"./useData-47f7405c.js";import"./dataUrls-2784c35e.js";import"./LockListContext-4c4e74e2.js";import"./entryName-506f8c74.js";import"./Badge-07853f5c.js";import"./Chip-1d53c028.js";import"./Select-d4ecfee3.js";import"./SearchBox-b141d1f0.js";import"./Box-3eeda541.js";import"./Search-f5f4847c.js";import"./TextField-896f0c06.js";import"./ToggleButtonGroup-bae89645.js";import"./Dialog-dcd7e9b5.js";function $({children:t}){const{filters:i}=l.useContext(W),{search:c,id:p,tab:f,name:a,sort:o,image:u,...d}=i,{allCharities:m}=l.useContext(S),x=l.useMemo(()=>{const b=Object.keys(d).map(r=>{const s=d[r];return Array.isArray(s)?s.map(n=>({key:r,value:n})):{key:r,value:s}}).flat(),y=m.filter(r=>b.every(({key:s,value:n})=>Array.isArray(r[s])?r[s].includes(n):r[s]===n)).sort((r,s)=>r.fuzzy.localeCompare(s.fuzzy)),v=c?L.go(H(c),y,{keys:q,threshold:-25e3}).map(r=>({...r.obj,score:r.score})):y;return o?v.sort((r,s)=>o==="potName"?r.title.localeCompare(s.title):o==="contributedBy"?r.contributedBy[0].localeCompare(s.contributedBy[0]):r.potNumber<s.potNumber):v},[m,d,c,o]),w=l.useMemo(()=>({allCharities:m,visibleEntries:x}),[m,x]);return e.jsx(A.Provider,{value:w,children:t})}const q=["fuzzy"];function J({charity:t}){const{isMobile:i}=R(),{raflState:c,raffleAdminRole:p}=l.useContext(S),f=["live","post"].includes(c)||p,a=l.useCallback(m=>{const x=window.open(m,"_blank","noopener,noreferrer");x&&(x.opener=null)},[]),o=t.url?e.jsx(j,{onClick:()=>a(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),u=i?"0.95rem":"1.0rem",d=i?{fontSize:u,border:0,padding:"6px 10px"}:{fontSize:u,border:0,padding:"8px 16px"};return e.jsxs(k,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(g,{align:"left",style:d,children:o}),f&&e.jsxs(C.Fragment,{children:[e.jsx(g,{align:"center",style:d,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(g,{align:"center",style:d,children:t.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations)})]})]})}function Q({charities:t}){const{isMobile:i}=R(),c=i?{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:8}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:12},p=t?{borderBottom:"1px #555 solid"}:{},f=l.useCallback(a=>{const o=window.open(a,"_blank","noopener,noreferrer");o&&(o.opener=null)},[]);return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{...c,backgroundColor:"#333",minHeight:72,...p},children:[e.jsx("div",{style:{display:"flex",flexGrow:1,marginLeft:8,fontWeight:700,fontSize:"1.1rem"},children:"Los Angeles Wildfires"}),e.jsx("div",{style:{margin:"12px 20px 0px 8px"},children:"In light of the devastating wildfires in Los Angeles, we have added a number of California-based charities to our list of options. These vetted organizations are providing support to victims of the fires, their families, and the first-responders who are battling the blazes."})]}),e.jsx("div",{style:{padding:"16px 0px 0px 0px",backgroundColor:"#000"}}),t&&t.map(a=>e.jsx("div",{style:{margin:"0px 0px 0px 0px",padding:"3px 0px 2px 20px",backgroundColor:"#000"},children:a.url?e.jsx(j,{onClick:()=>f(a.url),style:{color:"#fff",fontWeight:500},children:a.name}):e.jsx("span",{style:{color:"#ddd"},children:a.name})},a.name)),e.jsx("div",{style:{padding:"24px 0px 0px 0px",backgroundColor:"#000"}})]})}function X(){const{visibleEntries:t}=l.useContext(A),{raflState:i,raffleAdminRole:c}=l.useContext(S),p=["live","post"].includes(i)||c,{isMobile:f}=R(),a=l.useRef(),[o,u]=l.useState("name"),d=l.useCallback(n=>{n!==o&&u(n)},[u,o]),m=t.sort((n,h)=>{switch(o){case"2024":return h.donations2024-n.donations2024;case"2025":return h.donations-n.donations;case"name":return n.name.localeCompare(h.name);default:return n.name.localeCompare(h.name)}}),x=m.filter(n=>n.tags.includes("Los Angeles Wildfires")),w={maxWidth:700,marginLeft:"auto",marginRight:"auto"},b=f?"0.9rem":"1.0rem",y=f?"10px 10px":"16px 16px",v=i==="live"?"Currently":"Contributions",r=f?"2024":"2024 Contributions",s=f?"2025":`2025 ${v}`;return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(Q,{charities:x}),e.jsx(_,{label:"All Approved Charities",sortValues:null}),t.length===0&&e.jsx(P,{label:"Charities"}),t.length>0&&e.jsx(E,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:a,children:e.jsxs(I,{stickyHeader:!0,style:w,children:[e.jsx(U,{children:e.jsxs(k,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:y},children:e.jsx(j,{onClick:()=>d("name"),style:{color:o==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),p&&e.jsxs(C.Fragment,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2024"),style:{color:o==="2024"?"#fff":"#ccc"},children:r})},"2024"),e.jsx(g,{style:{fontWeight:700,fontSize:b,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>d("2025"),style:{color:o==="2025"?"#fff":"#ccc"},children:s})},"2025")]})]})}),e.jsx(G,{children:m.map((n,h)=>e.jsx(J,{charity:n},h))})]})})]}),e.jsx(K,{})]})}function we(){D("RAFL Charities");const{isMobile:t}=R(),i=t?8:0,c={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:i,paddingRight:i},p=e.jsxs(C.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(V,{}),e.jsx(M,{})]});return e.jsx(N,{filterFields:B,children:e.jsx($,{children:e.jsxs("div",{style:c,children:[e.jsx(F,{title:"RAFL Charities",extras:p}),e.jsx(O,{page:"charities"}),e.jsx(X,{}),e.jsx(z,{}),e.jsx(T,{feature:"raflCharities"})]})})})}export{we as default};
