import{r as k,j,a0 as ei}from"./index-CrjJpmiC.js";import{b as ni,x as ti,y as ii,F as wt,c as zn,u as Ct,d as dn,e as nn,f as oi,g as St,h as _t,i as ri,W as ai,j as Jn,S as et,k as nt,l as li,m as Tt,n as si,a as hn,z as jt,D as Et,O as Bt,o as ui,H as ci,w as di,V as tt,r as hi,E as fi,q as mi,T as vi,C as it,p as gi,t as ot,v as pi,A as yi,Q as Dt,B as At,G as xi,I as bi,J as ki}from"./nivo-legends-64FjwmF5.js";import{l as rt}from"./uniq-BfHOACip.js";import{y as Mi,u as wi,m as Ci,a as Si,s as _i,b as Ti,f as ji,c as Ei,t as Bi,d as Di,w as Ai,e as Pi,g as Ii,h as $i,i as Li,j as Fi,k as at,l as lt,n as st,o as Wi,p as Oi,q as Ui,r as Hi,v as ut,x as ct,J as Yi,K as zi,L as Vi,z as Ri,A as Gi,B as Xi,C as qi,D as Ni,E as Ki,F as Qi,G as Zi}from"./utcYear-gK7uF64J.js";import{a as Ji,U as eo,c as ve,e as Un,a8 as no,a9 as to,aa as io,t as oo,f as ro,bO as ao}from"./isEqual-ClQqGoPP.js";function lo(e,n,t){var o=null,i=ve(!0),a=null,r=eo,l=null,s=ni(d);e=typeof e=="function"?e:e===void 0?ti:ve(+e),n=typeof n=="function"?n:n===void 0?ve(0):ve(+n),t=typeof t=="function"?t:t===void 0?ii:ve(+t);function d(u){var c,h,v,m=(u=Ji(u)).length,g,y=!1,x,w=new Array(m),M=new Array(m);for(a==null&&(l=r(x=s())),c=0;c<=m;++c){if(!(c<m&&i(g=u[c],c,u))===y)if(y=!y)h=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=c-1;v>=h;--v)l.point(w[v],M[v]);l.lineEnd(),l.areaEnd()}y&&(w[c]=+e(g,c,u),M[c]=+n(g,c,u),l.point(o?+o(g,c,u):w[c],t?+t(g,c,u):M[c]))}if(x)return l=null,x+""||null}function f(){return wt().defined(i).curve(r).context(a)}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:ve(+u),o=null,d):e},d.x0=function(u){return arguments.length?(e=typeof u=="function"?u:ve(+u),d):e},d.x1=function(u){return arguments.length?(o=u==null?null:typeof u=="function"?u:ve(+u),d):o},d.y=function(u){return arguments.length?(n=typeof u=="function"?u:ve(+u),t=null,d):n},d.y0=function(u){return arguments.length?(n=typeof u=="function"?u:ve(+u),d):n},d.y1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:ve(+u),d):t},d.lineX0=d.lineY0=function(){return f().x(e).y(n)},d.lineY1=function(){return f().x(e).y(t)},d.lineX1=function(){return f().x(o).y(n)},d.defined=function(u){return arguments.length?(i=typeof u=="function"?u:ve(!!u),d):i},d.curve=function(u){return arguments.length?(r=u,a!=null&&(l=r(a)),d):r},d.context=function(u){return arguments.length?(u==null?a=l=null:l=r(a=u),d):a},d}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ne.apply(null,arguments)}var Qe=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],so={millisecond:[],second:Qe.slice(0,1),minute:Qe.slice(0,2),hour:Qe.slice(0,3),day:Qe.slice(0,4),month:Qe.slice(0,5),year:Qe.slice(0,6)},uo=function(e){return function(n){return so[e].forEach((function(t){t(n)})),n}},Pt=function(e){var n=e.format,t=n===void 0?"native":n,o=e.precision,i=o===void 0?"millisecond":o,a=e.useUTC,r=a===void 0||a,l=uo(i);return function(s){if(s===void 0)return s;if(t==="native"||s instanceof Date)return l(s);var d=r?to(t):io(t);return l(d(s))}},co=function(e,n,t,o){var i,a,r,l,s=e.min,d=s===void 0?0:s,f=e.max,u=f===void 0?"auto":f,c=e.stacked,h=c!==void 0&&c,v=e.reverse,m=v!==void 0&&v,g=e.clamp,y=g!==void 0&&g,x=e.nice,w=x!==void 0&&x,M=e.round,E=M===void 0||M;d==="auto"?i=h===!0?(a=n.minStacked)!=null?a:0:n.min:i=d,u==="auto"?r=h===!0?(l=n.maxStacked)!=null?l:0:n.max:r=u;var b=Qi().range(o==="x"?[0,t]:[t,0]).interpolate(E?Zi:no).domain(m?[r,i]:[i,r]).clamp(y);return w===!0?b.nice():typeof w=="number"&&b.nice(w),ho(b,h)},ho=function(e,n){n===void 0&&(n=!1);var t=e;return t.type="linear",t.stacked=n,t},fo=function(e,n,t){var o=Ki().range([0,t]).domain(n.all);return o.type="point",o},mo=function(e,n,t,o){var i=e.round,a=i===void 0||i,r=Ni().range(o==="x"?[0,t]:[t,0]).domain(n.all).round(a);return vo(r)},vo=function(e){var n=e;return n.type="band",n},go=function(e,n,t){var o,i,a=e.format,r=a===void 0?"native":a,l=e.precision,s=l===void 0?"millisecond":l,d=e.min,f=d===void 0?"auto":d,u=e.max,c=u===void 0?"auto":u,h=e.useUTC,v=h===void 0||h,m=e.nice,g=m!==void 0&&m,y=Pt({format:r,precision:s,useUTC:v});o=f==="auto"?y(n.min):r!=="native"?y(f):f,i=c==="auto"?y(n.max):r!=="native"?y(c):c;var x=v?Xi():qi();x.range([0,t]),o&&i&&x.domain([o,i]),g===!0?x.nice():typeof g!="object"&&typeof g!="number"||x.nice(g);var w=x;return w.type="time",w.useUTC=v,w},po=function(e,n,t,o){var i,a=e.base,r=a===void 0?10:a,l=e.min,s=l===void 0?"auto":l,d=e.max,f=d===void 0?"auto":d;if(n.all.some((function(m){return m===0})))throw new Error("a log scale domain must not include or cross zero");var u,c,h=!1;if(n.all.filter((function(m){return m!=null})).forEach((function(m){h||(i===void 0?i=Math.sign(m):Math.sign(m)!==i&&(h=!0))})),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");u=s==="auto"?n.min:s,c=f==="auto"?n.max:f;var v=Gi().domain([u,c]).rangeRound(o==="x"?[0,t]:[t,0]).base(r).nice();return v.type="log",v},yo=function(e,n,t,o){var i,a,r=e.constant,l=r===void 0?1:r,s=e.min,d=s===void 0?"auto":s,f=e.max,u=f===void 0?"auto":f,c=e.round,h=c===void 0||c,v=e.reverse,m=v!==void 0&&v,g=e.nice,y=g===void 0||g;i=d==="auto"?n.min:d,a=u==="auto"?n.max:u;var x=Ri().constant(l),w=o==="x"?[0,t]:[t,0];h===!0?x.rangeRound(w):x.range(w),m===!0?x.domain([a,i]):x.domain([i,a]),y===!0?x.nice():typeof y=="number"&&x.nice(y);var M=x;return M.type="symlog",M},xo=function(e){return e==="x"?"y":"x"},bo=function(e,n){return e===n},ko=function(e,n){return e.getTime()===n.getTime()};function dt(e,n,t,o){switch(e.type){case"linear":return co(e,n,t,o);case"point":return fo(0,n,t);case"band":return mo(e,n,t,o);case"time":return go(e,n,t);case"log":return po(e,n,t,o);case"symlog":return yo(e,n,t,o);default:throw new Error("invalid scale spec")}}var ht=function(e,n,t){var o;if("stacked"in t&&t.stacked){var i=e.data[n==="x"?"xStacked":"yStacked"];return i==null?null:t(i)}return(o=t(e.data[n]))!=null?o:null},Mo=function(e,n,t,o,i){var a=e.map((function(f){return(function(u){return Ne({},u,{data:u.data.map((function(c){return{data:Ne({},c)}}))})})(f)})),r=wo(a,n,t);"stacked"in n&&n.stacked===!0&&Co(r,a),"stacked"in t&&t.stacked===!0&&So(r,a);var l=dt(n,r.x,o,"x"),s=dt(t,r.y,i,"y"),d=a.map((function(f){return Ne({},f,{data:f.data.map((function(u){return Ne({},u,{position:{x:ht(u,"x",l),y:ht(u,"y",s)}})}))})}));return Ne({},r,{series:d,xScale:l,yScale:s})},wo=function(e,n,t){return{x:ft(e,"x",n),y:ft(e,"y",t)}},ft=function(e,n,t,o){var i={},a=i.getValue,r=a===void 0?function(v){return v.data[n]}:a,l=i.setValue,s=l===void 0?function(v,m){v.data[n]=m}:l;if(t.type==="linear")e.forEach((function(v){v.data.forEach((function(m){var g=r(m);g&&s(m,parseFloat(String(g)))}))}));else if(t.type==="time"&&t.format!=="native"){var d=Pt(t);e.forEach((function(v){v.data.forEach((function(m){var g=r(m);g&&s(m,d(g))}))}))}var f=[];switch(e.forEach((function(v){v.data.forEach((function(m){f.push(r(m))}))})),t.type){case"linear":var u=zi(rt(f).filter((function(v){return v!==null})),(function(v){return v}));return{all:u,min:Math.min.apply(Math,u),max:Math.max.apply(Math,u)};case"time":var c=Yi(f,(function(v){return v.getTime()})).slice(0).sort((function(v,m){return m.getTime()-v.getTime()})).reverse();return{all:c,min:c[0],max:Un(c)};default:var h=rt(f);return{all:h,min:h[0],max:Un(h)}}},It=function(e,n,t){var o=xo(e),i=[];n[o].all.forEach((function(a){var r=Vi(a)?ko:bo,l=[];t.forEach((function(s){var d=s.data.find((function(h){return r(h.data[o],a)})),f=null,u=null;if(d!==void 0){if((f=d.data[e])!==null){var c=Un(l);c===void 0?u=f:c!==null&&(u=c+f)}d.data[e==="x"?"xStacked":"yStacked"]=u}l.push(u),u!==null&&i.push(u)}))})),n[e].minStacked=Math.min.apply(Math,i),n[e].maxStacked=Math.max.apply(Math,i)},Co=function(e,n){return It("x",e,n)},So=function(e,n){return It("y",e,n)},$t=function(e){var n=e.bandwidth();if(n===0)return e;var t=n/2;return e.round()&&(t=Math.round(t)),function(o){var i;return((i=e(o))!=null?i:0)+t}},Lt={millisecond:[ct,ct],second:[ut,ut],minute:[Ui,Hi],hour:[Wi,Oi],day:[st((function(e){return e.setHours(0,0,0,0)}),(function(e,n){return e.setDate(e.getDate()+n)}),(function(e,n){return(n.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),st((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,n){return e.setUTCDate(e.getUTCDate()+n)}),(function(e,n){return(n.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[at,lt],sunday:[at,lt],monday:[Li,Fi],tuesday:[Ii,$i],wednesday:[Ai,Pi],thursday:[Bi,Di],friday:[ji,Ei],saturday:[_i,Ti],month:[Ci,Si],year:[Mi,wi]},_o=Object.keys(Lt),To=new RegExp("^every\\s*(\\d+)?\\s*("+_o.join("|")+")s?$","i"),Ft=function(e,n){if(Array.isArray(n))return n;if(typeof n=="string"&&"useUTC"in e){var t=n.match(To);if(t){var o=t[1],i=t[2],a=Lt[i][e.useUTC?1:0];if(i==="day"){var r,l,s=e.domain(),d=s[0],f=s[1],u=new Date(f);return u.setDate(u.getDate()+1),(r=(l=a.every(Number(o??1)))==null?void 0:l.range(d,u))!=null?r:[]}if(o===void 0)return e.ticks(a);var c=a.every(Number(o));if(c)return e.ticks(c)}throw new Error("Invalid tickValues: "+n)}if("ticks"in e){if(n===void 0)return e.ticks();if(typeof(h=n)=="number"&&isFinite(h)&&Math.floor(h)===h)return e.ticks(n)}var h;return e.domain()};function be(){return be=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},be.apply(null,arguments)}var Wt=function(e){var n,t=e.axis,o=e.scale,i=e.ticksPosition,a=e.tickValues,r=e.tickSize,l=e.tickPadding,s=e.tickRotation,d=e.truncateTickAt,f=e.engine,u=f===void 0?"svg":f,c=Ft(o,a),h=ri[u],v="bandwidth"in o?$t(o):o,m={lineX:0,lineY:0},g={textX:0,textY:0},y=typeof document=="object"&&document.dir==="rtl",x=h.align.center,w=h.baseline.center;return t==="x"?(n=function(M){var E;return{x:(E=v(M))!=null?E:0,y:0}},m.lineY=r*(i==="after"?1:-1),g.textY=(r+l)*(i==="after"?1:-1),w=i==="after"?h.baseline.top:h.baseline.bottom,s===0?x=h.align.center:i==="after"&&s<0||i==="before"&&s>0?(x=h.align[y?"left":"right"],w=h.baseline.center):(i==="after"&&s>0||i==="before"&&s<0)&&(x=h.align[y?"right":"left"],w=h.baseline.center)):(n=function(M){var E;return{x:0,y:(E=v(M))!=null?E:0}},m.lineX=r*(i==="after"?1:-1),g.textX=(r+l)*(i==="after"?1:-1),x=i==="after"?h.align.left:h.align.right),{ticks:c.map((function(M){var E=typeof M=="string"?(function(b){var P=String(b).length;return d&&d>0&&P>d?""+String(b).slice(0,d).concat("..."):""+b})(M):M;return be({key:M instanceof Date?""+M.valueOf():""+M,value:E},n(M),m,g)})),textAlign:x,textBaseline:w}},Ot=function(e,n){if(e===void 0||typeof e=="function")return e;if(n.type==="time"){var t=oo(e);return function(o){return t(o instanceof Date?o:new Date(o))}}return ro(e)},Hn=function(e){var n,t=e.width,o=e.height,i=e.scale,a=e.axis,r=e.values,l=(n=r,(Array.isArray(n)?r:void 0)||Ft(i,r)),s="bandwidth"in i?$t(i):i,d=a==="x"?l.map((function(f){var u,c;return{key:f instanceof Date?""+f.valueOf():""+f,x1:(u=s(f))!=null?u:0,x2:(c=s(f))!=null?c:0,y1:0,y2:o}})):l.map((function(f){var u,c;return{key:f instanceof Date?""+f.valueOf():""+f,x1:0,x2:t,y1:(u=s(f))!=null?u:0,y2:(c=s(f))!=null?c:0}}));return d},jo=k.memo((function(e){var n,t=e.value,o=e.format,i=e.lineX,a=e.lineY,r=e.onClick,l=e.textBaseline,s=e.textAnchor,d=e.theme,f=e.animatedProps,u=(n=o==null?void 0:o(t))!=null?n:t,c=k.useMemo((function(){var h={opacity:f.opacity};return r?{style:be({},h,{cursor:"pointer"}),onClick:function(v){return r(v,u)}}:{style:h}}),[f.opacity,r,u]);return j.jsxs(nn.g,be({transform:f.transform},c,{children:[j.jsx("line",{x1:0,x2:i,y1:0,y2:a,style:d.line}),j.jsx(St,{dominantBaseline:l,textAnchor:s,transform:f.textTransform,style:d.text,children:""+u})]}))})),Eo=function(e){var n=e.axis,t=e.scale,o=e.x,i=o===void 0?0:o,a=e.y,r=a===void 0?0:a,l=e.length,s=e.ticksPosition,d=e.tickValues,f=e.tickSize,u=f===void 0?5:f,c=e.tickPadding,h=c===void 0?5:c,v=e.tickRotation,m=v===void 0?0:v,g=e.format,y=e.renderTick,x=y===void 0?jo:y,w=e.truncateTickAt,M=e.legend,E=e.legendPosition,b=E===void 0?"end":E,P=e.legendOffset,I=P===void 0?0:P,C=e.style,B=e.onClick,T=e.ariaHidden,A=dn(),F=oi(A.axis,C),O=k.useMemo((function(){return Ot(g,t)}),[g,t]),S=Wt({axis:n,scale:t,ticksPosition:s,tickValues:d,tickSize:u,tickPadding:h,tickRotation:m,truncateTickAt:w}),p=S.ticks,_=S.textAlign,L=S.textBaseline,H=null;if(M!==void 0){var Y,N=0,K=0,X=0;n==="y"?(X=-90,N=I,b==="start"?(Y="start",K=l):b==="middle"?(Y="middle",K=l/2):b==="end"&&(Y="end")):(K=I,b==="start"?Y="start":b==="middle"?(Y="middle",N=l/2):b==="end"&&(Y="end",N=l)),H=j.jsx(j.Fragment,{children:j.jsx(St,{transform:"translate("+N+", "+K+") rotate("+X+")",textAnchor:Y,style:be({},F.legend.text,{dominantBaseline:"central"}),children:M})})}var V=zn(),oe=V.animate,ue=V.config,le=_t({transform:"translate("+i+","+r+")",lineX2:n==="x"?l:0,lineY2:n==="x"?0:l,config:ue,immediate:!oe}),R=k.useCallback((function(G){return{opacity:1,transform:"translate("+G.x+","+G.y+")",textTransform:"translate("+G.textX+","+G.textY+") rotate("+m+")"}}),[m]),ne=k.useCallback((function(G){return{opacity:0,transform:"translate("+G.x+","+G.y+")",textTransform:"translate("+G.textX+","+G.textY+") rotate("+m+")"}}),[m]),q=Ct(p,{keys:function(G){return G.key},initial:R,from:ne,enter:R,update:R,leave:{opacity:0},config:ue,immediate:!oe});return j.jsxs(nn.g,{transform:le.transform,"aria-hidden":T,children:[q((function(G,ge,ke,W){return k.createElement(x,be({tickIndex:W,format:O,rotate:m,textBaseline:L,textAnchor:_,truncateTickAt:w,animatedProps:G,theme:F.ticks},ge,B?{onClick:B}:{}))})),j.jsx(nn.line,{style:F.domain.line,x1:0,x2:le.lineX2,y1:0,y2:le.lineY2}),H]})},Bo=k.memo(Eo),Ut=["top","right","bottom","left"],Do=k.memo((function(e){var n=e.xScale,t=e.yScale,o=e.width,i=e.height,a={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return j.jsx(j.Fragment,{children:Ut.map((function(r){var l=a[r];if(!l)return null;var s=r==="top"||r==="bottom";return j.jsx(Bo,be({},l,{axis:s?"x":"y",x:r==="right"?o:0,y:r==="bottom"?i:0,scale:s?n:t,length:s?o:i,ticksPosition:r==="top"||r==="left"?"before":"after",truncateTickAt:l.truncateTickAt}),r)}))})})),Ao=k.memo((function(e){var n=e.animatedProps,t=dn();return j.jsx(nn.line,be({},n,t.grid.line))})),mt=k.memo((function(e){var n=e.lines,t=zn(),o=t.animate,i=t.config,a=Ct(n,{keys:function(r){return r.key},initial:function(r){return{opacity:1,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2}},from:function(r){return{opacity:0,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2}},enter:function(r){return{opacity:1,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2}},update:function(r){return{opacity:1,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2}},leave:{opacity:0},config:i,immediate:!o});return j.jsx("g",{children:a((function(r,l){return k.createElement(Ao,be({},l,{key:l.key,animatedProps:r}))}))})})),Po=k.memo((function(e){var n=e.width,t=e.height,o=e.xScale,i=e.yScale,a=e.xValues,r=e.yValues,l=k.useMemo((function(){return!!o&&Hn({width:n,height:t,scale:o,axis:"x",values:a})}),[o,a,n,t]),s=k.useMemo((function(){return!!i&&Hn({width:n,height:t,scale:i,axis:"y",values:r})}),[t,n,i,r]);return j.jsxs(j.Fragment,{children:[l&&j.jsx(mt,{lines:l}),s&&j.jsx(mt,{lines:s})]})})),Io=function(e,n){var t,o,i=n.axis,a=n.scale,r=n.x,l=r===void 0?0:r,s=n.y,d=s===void 0?0:s,f=n.length,u=n.ticksPosition,c=n.tickValues,h=n.tickSize,v=h===void 0?5:h,m=n.tickPadding,g=m===void 0?5:m,y=n.tickRotation,x=y===void 0?0:y,w=n.format,M=n.legend,E=n.legendPosition,b=E===void 0?"end":E,P=n.legendOffset,I=P===void 0?0:P,C=n.theme,B=n.style,T=Wt({axis:i,scale:a,ticksPosition:u,tickValues:c,tickSize:v,tickPadding:g,tickRotation:x,engine:"canvas"}),A=T.ticks,F=T.textAlign,O=T.textBaseline;e.save(),e.translate(l,d);var S=ai(C.axis,B);e.textAlign=F,e.textBaseline=O,Jn(e,S.ticks.text);var p=(t=S.domain.line.strokeWidth)!=null?t:0;typeof p!="string"&&p>0&&(e.lineWidth=p,e.lineCap="square",S.domain.line.stroke&&(e.strokeStyle=S.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(i==="x"?f:0,i==="x"?0:f),e.stroke());var _=typeof w=="function"?w:function(V){return""+V},L=(o=S.ticks.line.strokeWidth)!=null?o:0,H=typeof L!="string"&&L>0;if(A.forEach((function(V){H&&(e.lineWidth=L,e.lineCap="square",S.ticks.line.stroke&&(e.strokeStyle=S.ticks.line.stroke),e.beginPath(),e.moveTo(V.x,V.y),e.lineTo(V.x+V.lineX,V.y+V.lineY),e.stroke());var oe=_(V.value);e.save(),e.translate(V.x+V.textX,V.y+V.textY),e.rotate(et(x)),nt(e,S.ticks.text,""+oe),e.fillText(""+oe,0,0),e.restore()})),M!==void 0){var Y=0,N=0,K=0,X="center";i==="y"?(K=-90,Y=I,b==="start"?(X="start",N=f):b==="middle"?(X="center",N=f/2):b==="end"&&(X="end")):(N=I,b==="start"?X="start":b==="middle"?(X="center",Y=f/2):b==="end"&&(X="end",Y=f)),e.translate(Y,N),e.rotate(et(K)),Jn(e,S.legend.text),S.legend.text.fill&&(e.fillStyle=S.legend.text.fill),e.textAlign=X,e.textBaseline="middle",nt(e,S.legend.text,M)}e.restore()},$o=function(e,n){var t=n.xScale,o=n.yScale,i=n.width,a=n.height,r=n.top,l=n.right,s=n.bottom,d=n.left,f=n.theme,u={top:r,right:l,bottom:s,left:d};Ut.forEach((function(c){var h=u[c];if(!h)return null;var v=c==="top"||c==="bottom",m=c==="top"||c==="left"?"before":"after",g=v?t:o,y=Ot(h.format,g);Io(e,be({},h,{axis:v?"x":"y",x:c==="right"?i:0,y:c==="bottom"?a:0,scale:g,format:y,length:v?i:a,ticksPosition:m,theme:f}))}))},vt=function(e,n){var t=n.width,o=n.height,i=n.scale,a=n.axis,r=n.values;Hn({width:t,height:o,scale:i,axis:a,values:r}).forEach((function(l){e.beginPath(),e.moveTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.stroke()}))},Fn,gt;function Lo(){if(gt)return Fn;gt=1;var e=ao(),n=0;function t(o){var i=++n;return e(o)+i}return Fn=t,Fn}var Fo=Lo();const Wo=ei(Fo),Pe=11102230246251565e-32,re=134217729,Oo=(3+8*Pe)*Pe;function Wn(e,n,t,o,i){let a,r,l,s,d=n[0],f=o[0],u=0,c=0;f>d==f>-d?(a=d,d=n[++u]):(a=f,f=o[++c]);let h=0;if(u<e&&c<t)for(f>d==f>-d?(r=d+a,l=a-(r-d),d=n[++u]):(r=f+a,l=a-(r-f),f=o[++c]),a=r,l!==0&&(i[h++]=l);u<e&&c<t;)f>d==f>-d?(r=a+d,s=r-a,l=a-(r-s)+(d-s),d=n[++u]):(r=a+f,s=r-a,l=a-(r-s)+(f-s),f=o[++c]),a=r,l!==0&&(i[h++]=l);for(;u<e;)r=a+d,s=r-a,l=a-(r-s)+(d-s),d=n[++u],a=r,l!==0&&(i[h++]=l);for(;c<t;)r=a+f,s=r-a,l=a-(r-s)+(f-s),f=o[++c],a=r,l!==0&&(i[h++]=l);return(a!==0||h===0)&&(i[h++]=a),h}function Uo(e,n){let t=n[0];for(let o=1;o<e;o++)t+=n[o];return t}function fn(e){return new Float64Array(e)}const Ho=(3+16*Pe)*Pe,Yo=(2+12*Pe)*Pe,zo=(9+64*Pe)*Pe*Pe,Ze=fn(4),pt=fn(8),yt=fn(12),xt=fn(16),se=fn(4);function Vo(e,n,t,o,i,a,r){let l,s,d,f,u,c,h,v,m,g,y,x,w,M,E,b,P,I;const C=e-i,B=t-i,T=n-a,A=o-a;M=C*A,c=re*C,h=c-(c-C),v=C-h,c=re*A,m=c-(c-A),g=A-m,E=v*g-(M-h*m-v*m-h*g),b=T*B,c=re*T,h=c-(c-T),v=T-h,c=re*B,m=c-(c-B),g=B-m,P=v*g-(b-h*m-v*m-h*g),y=E-P,u=E-y,Ze[0]=E-(y+u)+(u-P),x=M+y,u=x-M,w=M-(x-u)+(y-u),y=w-b,u=w-y,Ze[1]=w-(y+u)+(u-b),I=x+y,u=I-x,Ze[2]=x-(I-u)+(y-u),Ze[3]=I;let F=Uo(4,Ze),O=Yo*r;if(F>=O||-F>=O||(u=e-C,l=e-(C+u)+(u-i),u=t-B,d=t-(B+u)+(u-i),u=n-T,s=n-(T+u)+(u-a),u=o-A,f=o-(A+u)+(u-a),l===0&&s===0&&d===0&&f===0)||(O=zo*r+Oo*Math.abs(F),F+=C*f+A*l-(T*d+B*s),F>=O||-F>=O))return F;M=l*A,c=re*l,h=c-(c-l),v=l-h,c=re*A,m=c-(c-A),g=A-m,E=v*g-(M-h*m-v*m-h*g),b=s*B,c=re*s,h=c-(c-s),v=s-h,c=re*B,m=c-(c-B),g=B-m,P=v*g-(b-h*m-v*m-h*g),y=E-P,u=E-y,se[0]=E-(y+u)+(u-P),x=M+y,u=x-M,w=M-(x-u)+(y-u),y=w-b,u=w-y,se[1]=w-(y+u)+(u-b),I=x+y,u=I-x,se[2]=x-(I-u)+(y-u),se[3]=I;const S=Wn(4,Ze,4,se,pt);M=C*f,c=re*C,h=c-(c-C),v=C-h,c=re*f,m=c-(c-f),g=f-m,E=v*g-(M-h*m-v*m-h*g),b=T*d,c=re*T,h=c-(c-T),v=T-h,c=re*d,m=c-(c-d),g=d-m,P=v*g-(b-h*m-v*m-h*g),y=E-P,u=E-y,se[0]=E-(y+u)+(u-P),x=M+y,u=x-M,w=M-(x-u)+(y-u),y=w-b,u=w-y,se[1]=w-(y+u)+(u-b),I=x+y,u=I-x,se[2]=x-(I-u)+(y-u),se[3]=I;const p=Wn(S,pt,4,se,yt);M=l*f,c=re*l,h=c-(c-l),v=l-h,c=re*f,m=c-(c-f),g=f-m,E=v*g-(M-h*m-v*m-h*g),b=s*d,c=re*s,h=c-(c-s),v=s-h,c=re*d,m=c-(c-d),g=d-m,P=v*g-(b-h*m-v*m-h*g),y=E-P,u=E-y,se[0]=E-(y+u)+(u-P),x=M+y,u=x-M,w=M-(x-u)+(y-u),y=w-b,u=w-y,se[1]=w-(y+u)+(u-b),I=x+y,u=I-x,se[2]=x-(I-u)+(y-u),se[3]=I;const _=Wn(p,yt,4,se,xt);return xt[_-1]}function Sn(e,n,t,o,i,a){const r=(n-a)*(t-i),l=(e-i)*(o-a),s=r-l,d=Math.abs(r+l);return Math.abs(s)>=Ho*d?s:-Vo(e,n,t,o,i,a,d)}const bt=Math.pow(2,-52),_n=new Uint32Array(512);class Tn{static from(n,t=No,o=Ko){const i=n.length,a=new Float64Array(i*2);for(let r=0;r<i;r++){const l=n[r];a[2*r]=t(l),a[2*r+1]=o(l)}return new Tn(a)}constructor(n){const t=n.length>>1;if(t>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const o=Math.max(2*t-5,0);this._triangles=new Uint32Array(o*3),this._halfedges=new Int32Array(o*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:n,_hullPrev:t,_hullNext:o,_hullTri:i,_hullHash:a}=this,r=n.length>>1;let l=1/0,s=1/0,d=-1/0,f=-1/0;for(let C=0;C<r;C++){const B=n[2*C],T=n[2*C+1];B<l&&(l=B),T<s&&(s=T),B>d&&(d=B),T>f&&(f=T),this._ids[C]=C}const u=(l+d)/2,c=(s+f)/2;let h,v,m;for(let C=0,B=1/0;C<r;C++){const T=On(u,c,n[2*C],n[2*C+1]);T<B&&(h=C,B=T)}const g=n[2*h],y=n[2*h+1];for(let C=0,B=1/0;C<r;C++){if(C===h)continue;const T=On(g,y,n[2*C],n[2*C+1]);T<B&&T>0&&(v=C,B=T)}let x=n[2*v],w=n[2*v+1],M=1/0;for(let C=0;C<r;C++){if(C===h||C===v)continue;const B=Xo(g,y,x,w,n[2*C],n[2*C+1]);B<M&&(m=C,M=B)}let E=n[2*m],b=n[2*m+1];if(M===1/0){for(let T=0;T<r;T++)this._dists[T]=n[2*T]-n[0]||n[2*T+1]-n[1];en(this._ids,this._dists,0,r-1);const C=new Uint32Array(r);let B=0;for(let T=0,A=-1/0;T<r;T++){const F=this._ids[T],O=this._dists[F];O>A&&(C[B++]=F,A=O)}this.hull=C.subarray(0,B),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Sn(g,y,x,w,E,b)<0){const C=v,B=x,T=w;v=m,x=E,w=b,m=C,E=B,b=T}const P=qo(g,y,x,w,E,b);this._cx=P.x,this._cy=P.y;for(let C=0;C<r;C++)this._dists[C]=On(n[2*C],n[2*C+1],P.x,P.y);en(this._ids,this._dists,0,r-1),this._hullStart=h;let I=3;o[h]=t[m]=v,o[v]=t[h]=m,o[m]=t[v]=h,i[h]=0,i[v]=1,i[m]=2,a.fill(-1),a[this._hashKey(g,y)]=h,a[this._hashKey(x,w)]=v,a[this._hashKey(E,b)]=m,this.trianglesLen=0,this._addTriangle(h,v,m,-1,-1,-1);for(let C=0,B,T;C<this._ids.length;C++){const A=this._ids[C],F=n[2*A],O=n[2*A+1];if(C>0&&Math.abs(F-B)<=bt&&Math.abs(O-T)<=bt||(B=F,T=O,A===h||A===v||A===m))continue;let S=0;for(let Y=0,N=this._hashKey(F,O);Y<this._hashSize&&(S=a[(N+Y)%this._hashSize],!(S!==-1&&S!==o[S]));Y++);S=t[S];let p=S,_;for(;_=o[p],Sn(F,O,n[2*p],n[2*p+1],n[2*_],n[2*_+1])>=0;)if(p=_,p===S){p=-1;break}if(p===-1)continue;let L=this._addTriangle(p,A,o[p],-1,-1,i[p]);i[A]=this._legalize(L+2),i[p]=L,I++;let H=o[p];for(;_=o[H],Sn(F,O,n[2*H],n[2*H+1],n[2*_],n[2*_+1])<0;)L=this._addTriangle(H,A,_,i[A],-1,i[H]),i[A]=this._legalize(L+2),o[H]=H,I--,H=_;if(p===S)for(;_=t[p],Sn(F,O,n[2*_],n[2*_+1],n[2*p],n[2*p+1])<0;)L=this._addTriangle(_,A,p,-1,i[p],i[_]),this._legalize(L+2),i[_]=L,o[p]=p,I--,p=_;this._hullStart=t[A]=p,o[p]=t[H]=A,o[A]=H,a[this._hashKey(F,O)]=A,a[this._hashKey(n[2*p],n[2*p+1])]=p}this.hull=new Uint32Array(I);for(let C=0,B=this._hullStart;C<I;C++)this.hull[C]=B,B=o[B];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,t){return Math.floor(Ro(n-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:t,_halfedges:o,coords:i}=this;let a=0,r=0;for(;;){const l=o[n],s=n-n%3;if(r=s+(n+2)%3,l===-1){if(a===0)break;n=_n[--a];continue}const d=l-l%3,f=s+(n+1)%3,u=d+(l+2)%3,c=t[r],h=t[n],v=t[f],m=t[u];if(Go(i[2*c],i[2*c+1],i[2*h],i[2*h+1],i[2*v],i[2*v+1],i[2*m],i[2*m+1])){t[n]=m,t[l]=c;const y=o[u];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===u){this._hullTri[w]=n;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(n,y),this._link(l,o[r]),this._link(r,u);const x=d+(l+1)%3;a<_n.length&&(_n[a++]=x)}else{if(a===0)break;n=_n[--a]}}return r}_link(n,t){this._halfedges[n]=t,t!==-1&&(this._halfedges[t]=n)}_addTriangle(n,t,o,i,a,r){const l=this.trianglesLen;return this._triangles[l]=n,this._triangles[l+1]=t,this._triangles[l+2]=o,this._link(l,i),this._link(l+1,a),this._link(l+2,r),this.trianglesLen+=3,l}}function Ro(e,n){const t=e/(Math.abs(e)+Math.abs(n));return(n>0?3-t:1+t)/4}function On(e,n,t,o){const i=e-t,a=n-o;return i*i+a*a}function Go(e,n,t,o,i,a,r,l){const s=e-r,d=n-l,f=t-r,u=o-l,c=i-r,h=a-l,v=s*s+d*d,m=f*f+u*u,g=c*c+h*h;return s*(u*g-m*h)-d*(f*g-m*c)+v*(f*h-u*c)<0}function Xo(e,n,t,o,i,a){const r=t-e,l=o-n,s=i-e,d=a-n,f=r*r+l*l,u=s*s+d*d,c=.5/(r*d-l*s),h=(d*f-l*u)*c,v=(r*u-s*f)*c;return h*h+v*v}function qo(e,n,t,o,i,a){const r=t-e,l=o-n,s=i-e,d=a-n,f=r*r+l*l,u=s*s+d*d,c=.5/(r*d-l*s),h=e+(d*f-l*u)*c,v=n+(r*u-s*f)*c;return{x:h,y:v}}function en(e,n,t,o){if(o-t<=20)for(let i=t+1;i<=o;i++){const a=e[i],r=n[a];let l=i-1;for(;l>=t&&n[e[l]]>r;)e[l+1]=e[l--];e[l+1]=a}else{const i=t+o>>1;let a=t+1,r=o;cn(e,i,a),n[e[t]]>n[e[o]]&&cn(e,t,o),n[e[a]]>n[e[o]]&&cn(e,a,o),n[e[t]]>n[e[a]]&&cn(e,t,a);const l=e[a],s=n[l];for(;;){do a++;while(n[e[a]]<s);do r--;while(n[e[r]]>s);if(r<a)break;cn(e,a,r)}e[t+1]=e[r],e[r]=l,o-a+1>=r-t?(en(e,n,a,o),en(e,n,t,r-1)):(en(e,n,t,r-1),en(e,n,a,o))}}function cn(e,n,t){const o=e[n];e[n]=e[t],e[t]=o}function No(e){return e[0]}function Ko(e){return e[1]}const kt=1e-6;class Ke{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,t){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,t){this._+=`L${this._x1=+n},${this._y1=+t}`}arc(n,t,o){n=+n,t=+t,o=+o;const i=n+o,a=t;if(o<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>kt||Math.abs(this._y1-a)>kt)&&(this._+="L"+i+","+a),o&&(this._+=`A${o},${o},0,1,1,${n-o},${t}A${o},${o},0,1,1,${this._x1=i},${this._y1=a}`)}rect(n,t,o,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${+o}v${+i}h${-o}Z`}value(){return this._||null}}class Yn{constructor(){this._=[]}moveTo(n,t){this._.push([n,t])}closePath(){this._.push(this._[0].slice())}lineTo(n,t){this._.push([n,t])}value(){return this._.length?this._:null}}class Qo{constructor(n,[t,o,i,a]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((a=+a)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=t,this.ymax=a,this.ymin=o,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:t,triangles:o},vectors:i}=this;let a,r;const l=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2);for(let m=0,g=0,y=o.length,x,w;m<y;m+=3,g+=2){const M=o[m]*2,E=o[m+1]*2,b=o[m+2]*2,P=n[M],I=n[M+1],C=n[E],B=n[E+1],T=n[b],A=n[b+1],F=C-P,O=B-I,S=T-P,p=A-I,_=(F*p-O*S)*2;if(Math.abs(_)<1e-9){if(a===void 0){a=r=0;for(const H of t)a+=n[H*2],r+=n[H*2+1];a/=t.length,r/=t.length}const L=1e9*Math.sign((a-P)*p-(r-I)*S);x=(P+T)/2-L*p,w=(I+A)/2+L*S}else{const L=1/_,H=F*F+O*O,Y=S*S+p*p;x=P+(p*H-O*Y)*L,w=I+(F*Y-S*H)*L}l[g]=x,l[g+1]=w}let s=t[t.length-1],d,f=s*4,u,c=n[2*s],h,v=n[2*s+1];i.fill(0);for(let m=0;m<t.length;++m)s=t[m],d=f,u=c,h=v,f=s*4,c=n[2*s],v=n[2*s+1],i[d+2]=i[f]=h-v,i[d+3]=i[f+1]=c-u}render(n){const t=n==null?n=new Ke:void 0,{delaunay:{halfedges:o,inedges:i,hull:a},circumcenters:r,vectors:l}=this;if(a.length<=1)return null;for(let f=0,u=o.length;f<u;++f){const c=o[f];if(c<f)continue;const h=Math.floor(f/3)*2,v=Math.floor(c/3)*2,m=r[h],g=r[h+1],y=r[v],x=r[v+1];this._renderSegment(m,g,y,x,n)}let s,d=a[a.length-1];for(let f=0;f<a.length;++f){s=d,d=a[f];const u=Math.floor(i[d]/3)*2,c=r[u],h=r[u+1],v=s*4,m=this._project(c,h,l[v+2],l[v+3]);m&&this._renderSegment(c,h,m[0],m[1],n)}return t&&t.value()}renderBounds(n){const t=n==null?n=new Ke:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(n,t){const o=t==null?t=new Ke:void 0,i=this._clip(n);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let r=2;r<a;r+=2)(i[r]!==i[r-2]||i[r+1]!==i[r-1])&&t.lineTo(i[r],i[r+1]);return t.closePath(),o&&o.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let t=0,o=n.length/2;t<o;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(n){const t=new Yn;return this.renderCell(n,t),t.value()}_renderSegment(n,t,o,i,a){let r;const l=this._regioncode(n,t),s=this._regioncode(o,i);l===0&&s===0?(a.moveTo(n,t),a.lineTo(o,i)):(r=this._clipSegment(n,t,o,i,l,s))&&(a.moveTo(r[0],r[1]),a.lineTo(r[2],r[3]))}contains(n,t,o){return t=+t,t!==t||(o=+o,o!==o)?!1:this.delaunay._step(n,t,o)===n}*neighbors(n){const t=this._clip(n);if(t)for(const o of this.delaunay.neighbors(n)){const i=this._clip(o);if(i){e:for(let a=0,r=t.length;a<r;a+=2)for(let l=0,s=i.length;l<s;l+=2)if(t[a]===i[l]&&t[a+1]===i[l+1]&&t[(a+2)%r]===i[(l+s-2)%s]&&t[(a+3)%r]===i[(l+s-1)%s]){yield o;break e}}}}_cell(n){const{circumcenters:t,delaunay:{inedges:o,halfedges:i,triangles:a}}=this,r=o[n];if(r===-1)return null;const l=[];let s=r;do{const d=Math.floor(s/3);if(l.push(t[d*2],t[d*2+1]),s=s%3===2?s-2:s+1,a[s]!==n)break;s=i[s]}while(s!==r&&s!==-1);return l}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(n);if(t===null)return null;const{vectors:o}=this,i=n*4;return this._simplify(o[i]||o[i+1]?this._clipInfinite(n,t,o[i],o[i+1],o[i+2],o[i+3]):this._clipFinite(n,t))}_clipFinite(n,t){const o=t.length;let i=null,a,r,l=t[o-2],s=t[o-1],d,f=this._regioncode(l,s),u,c=0;for(let h=0;h<o;h+=2)if(a=l,r=s,l=t[h],s=t[h+1],d=f,f=this._regioncode(l,s),d===0&&f===0)u=c,c=0,i?i.push(l,s):i=[l,s];else{let v,m,g,y,x;if(d===0){if((v=this._clipSegment(a,r,l,s,d,f))===null)continue;[m,g,y,x]=v}else{if((v=this._clipSegment(l,s,a,r,f,d))===null)continue;[y,x,m,g]=v,u=c,c=this._edgecode(m,g),u&&c&&this._edge(n,u,c,i,i.length),i?i.push(m,g):i=[m,g]}u=c,c=this._edgecode(y,x),u&&c&&this._edge(n,u,c,i,i.length),i?i.push(y,x):i=[y,x]}if(i)u=c,c=this._edgecode(i[0],i[1]),u&&c&&this._edge(n,u,c,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,t,o,i,a,r){const l=a<r;for(l&&([n,t,o,i,a,r]=[o,i,n,t,r,a]);;){if(a===0&&r===0)return l?[o,i,n,t]:[n,t,o,i];if(a&r)return null;let s,d,f=a||r;f&8?(s=n+(o-n)*(this.ymax-t)/(i-t),d=this.ymax):f&4?(s=n+(o-n)*(this.ymin-t)/(i-t),d=this.ymin):f&2?(d=t+(i-t)*(this.xmax-n)/(o-n),s=this.xmax):(d=t+(i-t)*(this.xmin-n)/(o-n),s=this.xmin),a?(n=s,t=d,a=this._regioncode(n,t)):(o=s,i=d,r=this._regioncode(o,i))}}_clipInfinite(n,t,o,i,a,r){let l=Array.from(t),s;if((s=this._project(l[0],l[1],o,i))&&l.unshift(s[0],s[1]),(s=this._project(l[l.length-2],l[l.length-1],a,r))&&l.push(s[0],s[1]),l=this._clipFinite(n,l))for(let d=0,f=l.length,u,c=this._edgecode(l[f-2],l[f-1]);d<f;d+=2)u=c,c=this._edgecode(l[d],l[d+1]),u&&c&&(d=this._edge(n,u,c,l,d),f=l.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(n,t,o,i,a){for(;t!==o;){let r,l;switch(t){case 5:t=4;continue;case 4:t=6,r=this.xmax,l=this.ymin;break;case 6:t=2;continue;case 2:t=10,r=this.xmax,l=this.ymax;break;case 10:t=8;continue;case 8:t=9,r=this.xmin,l=this.ymax;break;case 9:t=1;continue;case 1:t=5,r=this.xmin,l=this.ymin;break}(i[a]!==r||i[a+1]!==l)&&this.contains(n,r,l)&&(i.splice(a,0,r,l),a+=2)}return a}_project(n,t,o,i){let a=1/0,r,l,s;if(i<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/i)<a&&(s=this.ymin,l=n+(a=r)*o)}else if(i>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/i)<a&&(s=this.ymax,l=n+(a=r)*o)}if(o>0){if(n>=this.xmax)return null;(r=(this.xmax-n)/o)<a&&(l=this.xmax,s=t+(a=r)*i)}else if(o<0){if(n<=this.xmin)return null;(r=(this.xmin-n)/o)<a&&(l=this.xmin,s=t+(a=r)*i)}return[l,s]}_edgecode(n,t){return(n===this.xmin?1:n===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(n,t){return(n<this.xmin?1:n>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let t=0;t<n.length;t+=2){const o=(t+2)%n.length,i=(t+4)%n.length;(n[t]===n[o]&&n[o]===n[i]||n[t+1]===n[o+1]&&n[o+1]===n[i+1])&&(n.splice(o,2),t-=2)}n.length||(n=null)}return n}}const Zo=2*Math.PI,Je=Math.pow;function Jo(e){return e[0]}function er(e){return e[1]}function nr(e){const{triangles:n,coords:t}=e;for(let o=0;o<n.length;o+=3){const i=2*n[o],a=2*n[o+1],r=2*n[o+2];if((t[r]-t[i])*(t[a+1]-t[i+1])-(t[a]-t[i])*(t[r+1]-t[i+1])>1e-10)return!1}return!0}function tr(e,n,t){return[e+Math.sin(e+n)*t,n+Math.cos(e-n)*t]}class Vn{static from(n,t=Jo,o=er,i){return new Vn("length"in n?ir(n,t,o,i):Float64Array.from(or(n,t,o,i)))}constructor(n){this._delaunator=new Tn(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,t=this.points;if(n.hull&&n.hull.length>2&&nr(n)){this.collinear=Int32Array.from({length:t.length/2},(c,h)=>h).sort((c,h)=>t[2*c]-t[2*h]||t[2*c+1]-t[2*h+1]);const s=this.collinear[0],d=this.collinear[this.collinear.length-1],f=[t[2*s],t[2*s+1],t[2*d],t[2*d+1]],u=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let c=0,h=t.length/2;c<h;++c){const v=tr(t[2*c],t[2*c+1],u);t[2*c]=v[0],t[2*c+1]=v[1]}this._delaunator=new Tn(t)}else delete this.collinear;const o=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,r=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let s=0,d=o.length;s<d;++s){const f=a[s%3===2?s-2:s+1];(o[s]===-1||r[f]===-1)&&(r[f]=s)}for(let s=0,d=i.length;s<d;++s)l[i[s]]=s;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],r[i[0]]=1,i.length===2&&(r[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new Qo(this,n)}*neighbors(n){const{inedges:t,hull:o,_hullIndex:i,halfedges:a,triangles:r,collinear:l}=this;if(l){const u=l.indexOf(n);u>0&&(yield l[u-1]),u<l.length-1&&(yield l[u+1]);return}const s=t[n];if(s===-1)return;let d=s,f=-1;do{if(yield f=r[d],d=d%3===2?d-2:d+1,r[d]!==n)return;if(d=a[d],d===-1){const u=o[(i[n]+1)%o.length];u!==f&&(yield u);return}}while(d!==s)}find(n,t,o=0){if(n=+n,n!==n||(t=+t,t!==t))return-1;const i=o;let a;for(;(a=this._step(o,n,t))>=0&&a!==o&&a!==i;)o=a;return a}_step(n,t,o){const{inedges:i,hull:a,_hullIndex:r,halfedges:l,triangles:s,points:d}=this;if(i[n]===-1||!d.length)return(n+1)%(d.length>>1);let f=n,u=Je(t-d[n*2],2)+Je(o-d[n*2+1],2);const c=i[n];let h=c;do{let v=s[h];const m=Je(t-d[v*2],2)+Je(o-d[v*2+1],2);if(m<u&&(u=m,f=v),h=h%3===2?h-2:h+1,s[h]!==n)break;if(h=l[h],h===-1){if(h=a[(r[n]+1)%a.length],h!==v&&Je(t-d[h*2],2)+Je(o-d[h*2+1],2)<u)return h;break}}while(h!==c);return f}render(n){const t=n==null?n=new Ke:void 0,{points:o,halfedges:i,triangles:a}=this;for(let r=0,l=i.length;r<l;++r){const s=i[r];if(s<r)continue;const d=a[r]*2,f=a[s]*2;n.moveTo(o[d],o[d+1]),n.lineTo(o[f],o[f+1])}return this.renderHull(n),t&&t.value()}renderPoints(n,t){t===void 0&&(!n||typeof n.moveTo!="function")&&(t=n,n=null),t=t==null?2:+t;const o=n==null?n=new Ke:void 0,{points:i}=this;for(let a=0,r=i.length;a<r;a+=2){const l=i[a],s=i[a+1];n.moveTo(l+t,s),n.arc(l,s,t,0,Zo)}return o&&o.value()}renderHull(n){const t=n==null?n=new Ke:void 0,{hull:o,points:i}=this,a=o[0]*2,r=o.length;n.moveTo(i[a],i[a+1]);for(let l=1;l<r;++l){const s=2*o[l];n.lineTo(i[s],i[s+1])}return n.closePath(),t&&t.value()}hullPolygon(){const n=new Yn;return this.renderHull(n),n.value()}renderTriangle(n,t){const o=t==null?t=new Ke:void 0,{points:i,triangles:a}=this,r=a[n*=3]*2,l=a[n+1]*2,s=a[n+2]*2;return t.moveTo(i[r],i[r+1]),t.lineTo(i[l],i[l+1]),t.lineTo(i[s],i[s+1]),t.closePath(),o&&o.value()}*trianglePolygons(){const{triangles:n}=this;for(let t=0,o=n.length/3;t<o;++t)yield this.trianglePolygon(t)}trianglePolygon(n){const t=new Yn;return this.renderTriangle(n,t),t.value()}}function ir(e,n,t,o){const i=e.length,a=new Float64Array(i*2);for(let r=0;r<i;++r){const l=e[r];a[r*2]=n.call(o,l,r,e),a[r*2+1]=t.call(o,l,r,e)}return a}function*or(e,n,t,o){let i=0;for(const a of e)yield n.call(o,a,i,e),yield t.call(o,a,i,e),++i}var Rn=function(e){return[e.x,e.y]},mn=li,Ht="cursor",Yt="top",rr=function(e){var n=e.points,t=e.getNodePosition,o=t===void 0?Rn:t,i=e.margin,a=i===void 0?mn:i;return n.map((function(r){var l=o(r),s=l[0],d=l[1];return[s+a.left,d+a.top]}))},ar=function(e){var n=e.points,t=e.width,o=e.height,i=e.margin,a=i===void 0?mn:i,r=e.debug,l=Vn.from(n),s=r?l.voronoi([0,0,a.left+t+a.right,a.top+o+a.bottom]):void 0;return{points:n,delaunay:l,voronoi:s}},zt=function(e){var n=e.points,t=e.getNodePosition,o=t===void 0?Rn:t,i=e.width,a=e.height,r=e.margin,l=r===void 0?mn:r,s=e.debug;return k.useMemo((function(){return ar({points:rr({points:n,margin:l,getNodePosition:o}),width:i,height:a,margin:l,debug:s})}),[o,n,i,a,l,s])},lr=function(e){var n=e.elementRef,t=e.nodes,o=e.getNodePosition,i=o===void 0?Rn:o,a=e.delaunay,r=e.setCurrent,l=e.margin,s=l===void 0?mn:l,d=e.detectionRadius,f=d===void 0?1/0:d,u=e.isInteractive,c=u===void 0||u,h=e.onMouseEnter,v=e.onMouseMove,m=e.onMouseLeave,g=e.onMouseDown,y=e.onMouseUp,x=e.onClick,w=e.onDoubleClick,M=e.onTouchStart,E=e.onTouchMove,b=e.onTouchEnd,P=e.enableTouchCrosshair,I=P!==void 0&&P,C=e.tooltip,B=e.tooltipPosition,T=B===void 0?Ht:B,A=e.tooltipAnchor,F=A===void 0?Yt:A,O=k.useState(null),S=O[0],p=O[1],_=k.useRef(null);k.useEffect((function(){_.current=S}),[_,S]);var L=k.useCallback((function(W){if(!n.current||t.length===0)return null;var D=Tt(n.current,W),J=D[0],Q=D[1],te=a.find(J,Q),ee=te!==void 0?t[te]:null;if(ee&&f!==1/0){var Me=i(ee),Ie=Me[0],Ve=Me[1];si(J,Q,Ie+s.left,Ve+s.top)>f&&(te=null,ee=null)}return te===null||ee===null?null:[te,ee]}),[n,a,t,i,s,f]),H=hn(),Y=H.showTooltipAt,N=H.showTooltipFromEvent,K=H.hideTooltip,X=k.useMemo((function(){if(C)return T==="cursor"?function(W,D){N(C(W),D,F)}:function(W){var D=i(W),J=D[0],Q=D[1];Y(C(W),[J+s.left,Q+s.top],F)}}),[Y,N,C,T,F,i,s]),V=k.useCallback((function(W){var D=L(W);if(p(D),r==null||r(D?D[1]:null),D){var J=D[1];X==null||X(J,W),h==null||h(D[1],W)}}),[L,p,r,X,h]),oe=k.useCallback((function(W){var D=L(W);if(p(D),D){var J=D[0],Q=D[1];if(r==null||r(Q),X==null||X(Q,W),_.current){var te=_.current,ee=te[0],Me=te[1];J!==ee?m==null||m(Me,W):v==null||v(Q,W)}else h==null||h(Q,W)}else r==null||r(null),K==null||K(),_.current&&(m==null||m(_.current[1],W))}),[L,p,r,_,h,v,m,X,K]),ue=k.useCallback((function(W){p(null),r==null||r(null),K(),m&&_.current&&m(_.current[1],W)}),[p,r,_,K,m]),le=k.useCallback((function(W){var D=L(W);p(D),D&&(g==null||g(D[1],W))}),[L,p,g]),R=k.useCallback((function(W){var D=L(W);p(D),D&&(y==null||y(D[1],W))}),[L,p,y]),ne=k.useCallback((function(W){var D=L(W);p(D),D&&(x==null||x(D[1],W))}),[L,p,x]),q=k.useCallback((function(W){var D=L(W);p(D),D&&(w==null||w(D[1],W))}),[L,p,w]),G=k.useCallback((function(W){var D=L(W);I&&(p(D),r==null||r(D?D[1]:null)),D&&(M==null||M(D[1],W))}),[L,p,r,I,M]),ge=k.useCallback((function(W){var D=L(W);I&&(p(D),r==null||r(D?D[1]:null)),D&&(E==null||E(D[1],W))}),[L,p,r,I,E]),ke=k.useCallback((function(W){I&&(p(null),r==null||r(null)),b&&_.current&&b(_.current[1],W)}),[I,p,r,b,_]);return{current:S,handleMouseEnter:c?V:void 0,handleMouseMove:c?oe:void 0,handleMouseLeave:c?ue:void 0,handleMouseDown:c?le:void 0,handleMouseUp:c?R:void 0,handleClick:c?ne:void 0,handleDoubleClick:c?q:void 0,handleTouchStart:c?G:void 0,handleTouchMove:c?ge:void 0,handleTouchEnd:c?ke:void 0}},sr=function(e){var n=e.nodes,t=e.width,o=e.height,i=e.margin,a=i===void 0?mn:i,r=e.getNodePosition,l=e.setCurrent,s=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave,u=e.onMouseDown,c=e.onMouseUp,h=e.onClick,v=e.onDoubleClick,m=e.onTouchStart,g=e.onTouchMove,y=e.onTouchEnd,x=e.enableTouchCrosshair,w=x!==void 0&&x,M=e.detectionRadius,E=M===void 0?1/0:M,b=e.tooltip,P=e.tooltipPosition,I=P===void 0?Ht:P,C=e.tooltipAnchor,B=C===void 0?Yt:C,T=e.debug,A=k.useRef(null),F=zt({points:n,getNodePosition:r,width:t,height:o,margin:a,debug:T}),O=F.delaunay,S=F.voronoi,p=lr({elementRef:A,nodes:n,delaunay:O,margin:a,detectionRadius:E,setCurrent:l,onMouseEnter:s,onMouseMove:d,onMouseLeave:f,onMouseDown:u,onMouseUp:c,onClick:h,onDoubleClick:v,onTouchStart:m,onTouchMove:g,onTouchEnd:y,enableTouchCrosshair:w,tooltip:b,tooltipPosition:I,tooltipAnchor:B}),_=p.current,L=p.handleMouseEnter,H=p.handleMouseMove,Y=p.handleMouseLeave,N=p.handleMouseDown,K=p.handleMouseUp,X=p.handleClick,V=p.handleDoubleClick,oe=p.handleTouchStart,ue=p.handleTouchMove,le=p.handleTouchEnd,R=k.useMemo((function(){if(T&&S)return S.render()}),[T,S]);return j.jsxs("g",{ref:A,transform:"translate("+-a.left+","+-a.top+")",children:[T&&S&&j.jsxs(j.Fragment,{children:[j.jsx("path",{d:R,stroke:"red",strokeWidth:1,opacity:.75}),E<1/0&&j.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:O.renderPoints(void 0,E)}),_&&j.jsx("path",{fill:"pink",opacity:.35,d:S.renderCell(_[0])})]}),j.jsx("rect",{"data-ref":"mesh-interceptor",width:a.left+t+a.right,height:a.top+o+a.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:L,onMouseMove:H,onMouseLeave:Y,onMouseDown:N,onMouseUp:K,onTouchStart:oe,onTouchMove:ue,onTouchEnd:le,onClick:X,onDoubleClick:V})]})},ur=function(e,n){e.save(),e.globalAlpha=.75,e.beginPath(),n.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},cr=function(e,n,t){e.save(),e.globalAlpha=.35,e.beginPath(),n.renderCell(t,e),e.fillStyle="pink",e.fill(),e.restore()};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ae.apply(null,arguments)}function Vt(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)!==-1)continue;t[o]=e[o]}return t}var Mt,Ae={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:k.memo((function(e){var n=e.point;return j.jsx(vi,{id:j.jsxs("span",{children:["x: ",j.jsx("strong",{children:n.data.xFormatted}),", y:"," ",j.jsx("strong",{children:n.data.yFormatted})]}),enableChip:!0,color:n.seriesColor})})),sliceTooltip:k.memo((function(e){var n=e.slice,t=e.axis,o=dn(),i=t==="x"?"y":"x";return j.jsx(fi,{rows:n.points.map((function(a){return[j.jsx(mi,{color:a.seriesColor,style:o.tooltip.chip},"chip"),a.seriesId,j.jsx("span",{style:o.tooltip.tableCellValue,children:a.data[i+"Formatted"]},"value")]}))})})),debugMesh:!1,renderWrapper:!0},U=ae({},Ae,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisBottom:{},axisLeft:{},useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),Z=ae({},Ae,{pixelRatio:typeof window<"u"&&(Mt=window.devicePixelRatio)!=null?Mt:1,axisBottom:{},axisLeft:{}});function dr(e){return k.useMemo((function(){return wt().defined((function(n){return n.x!==null&&n.y!==null})).x((function(n){return n.x})).y((function(n){return n.y})).curve(Dt(e))}),[e])}function hr(e){var n=e.curve,t=e.yScale,o=e.areaBaselineValue;return k.useMemo((function(){return lo().defined((function(i){return i.x!==null&&i.y!==null})).x((function(i){return i.x})).y1((function(i){return i.y})).curve(Dt(n)).y0(t(o))}),[n,t,o])}var fr=function(e){var n=e.componentId,t=e.enableSlices,o=e.points,i=e.width,a=e.height;return k.useMemo((function(){if(t==="x"){var r=new Map;return o.forEach((function(s){s.data.x!==null&&s.data.y!==null&&(r.has(s.x)?r.get(s.x).push(s):r.set(s.x,[s]))})),Array.from(r.entries()).sort((function(s,d){return s[0]-d[0]})).map((function(s,d,f){var u,c,h=s[0],v=s[1],m=f[d-1],g=f[d+1];return u=m?h-(h-m[0])/2:h,c=g?h-u+(g[0]-h)/2:i-u,{id:"slice:"+n+":"+h,x0:u,x:h,y0:0,y:0,width:c,height:a,points:v.reverse()}}))}if(t==="y"){var l=new Map;return o.forEach((function(s){s.data.x!==null&&s.data.y!==null&&(l.has(s.y)?l.get(s.y).push(s):l.set(s.y,[s]))})),Array.from(l.entries()).sort((function(s,d){return s[0]-d[0]})).map((function(s,d,f){var u,c,h=s[0],v=s[1],m=f[d-1],g=f[d+1];return u=m?h-(h-m[0])/2:h,c=g?h-u+(g[0]-h)/2:a-u,{id:h,x0:0,x:0,y0:u,y:h,width:i,height:c,points:v.reverse()}}))}return[]}),[n,t,a,o,i])},mr="line",Rt=function(e){var n=e.data,t=e.xScale,o=t===void 0?Ae.xScale:t,i=e.xFormat,a=e.yScale,r=a===void 0?Ae.yScale:a,l=e.yFormat,s=e.width,d=e.height,f=e.colors,u=f===void 0?Ae.colors:f,c=e.curve,h=c===void 0?Ae.curve:c,v=e.areaBaselineValue,m=v===void 0?Ae.areaBaselineValue:v,g=e.pointColor,y=g===void 0?Ae.pointColor:g,x=e.pointBorderColor,w=x===void 0?Ae.pointBorderColor:x,M=e.enableSlices,E=M===void 0?U.enableSlices:M,b=e.initialHiddenIds,P=b===void 0?U.initialHiddenIds:b,I=k.useState(Wo(mr))[0],C=it(i),B=it(l),T=gi(u,"id"),A=dn(),F=ot(y,A),O=ot(w,A),S=k.useState(P??[]),p=S[0],_=S[1],L=k.useMemo((function(){return Mo(n.filter((function(R){return p.indexOf(R.id)===-1})),o,r,s,d)}),[n,p,o,r,s,d]),H=L.xScale,Y=L.yScale,N=L.series,K=k.useMemo((function(){var R=n.map((function(q){return{id:q.id,label:""+q.id,color:T(q)}})),ne=R.map((function(q){return ae({},N.find((function(G){return G.id===q.id})),{color:q.color})})).filter((function(q){return!!q.id}));return{legendData:R.map((function(q){return ae({},q,{hidden:!ne.find((function(G){return G.id===q.id}))})})).reverse(),series:ne}}),[n,N,T]),X=K.legendData,V=K.series,oe=k.useCallback((function(R){_((function(ne){return ne.indexOf(R)>-1?ne.filter((function(q){return q!==R})):[].concat(ne,[R])}))}),[]),ue=(function(R){var ne=R.series,q=R.getPointColor,G=R.getPointBorderColor,ge=R.formatX,ke=R.formatY;return k.useMemo((function(){return ne.reduce((function(W,D,J){return[].concat(W,D.data.filter((function(Q){return Q.position.x!==null&&Q.position.y!==null})).map((function(Q,te){var ee={id:D.id+"."+te,indexInSeries:te,absIndex:W.length+te,seriesIndex:J,seriesId:D.id,seriesColor:D.color,x:Q.position.x,y:Q.position.y,data:ae({},Q.data,{xFormatted:ge(Q.data.x),yFormatted:ke(Q.data.y)})};return ee.color=q({series:D,point:ee}),ee.borderColor=G(ee),ee})))}),[])}),[ne,q,G,ge,ke])})({series:V,getPointColor:F,getPointBorderColor:O,formatX:C,formatY:B}),le=fr({componentId:I,enableSlices:E,points:ue,width:s,height:d});return{legendData:X,toggleSeries:oe,lineGenerator:dr(h),areaGenerator:hr({curve:h,yScale:Y,areaBaselineValue:m}),getColor:T,series:V,xScale:H,yScale:Y,slices:le,points:ue}},vr=function(e){var n=e.areaBlendMode,t=e.areaOpacity,o=e.color,i=e.fill,a=e.path,r=zn(),l=r.animate,s=r.config,d=At(a),f=_t({color:o,config:s,immediate:!l});return j.jsx(nn.path,{d,fill:i||f.color,fillOpacity:t,strokeWidth:0,style:{mixBlendMode:n}})},gr=k.memo((function(e){var n=e.areaGenerator,t=e.areaOpacity,o=e.areaBlendMode,i=e.series.slice(0).reverse();return j.jsx("g",{children:i.map((function(a){return j.jsx(vr,ae({path:n(a.data.map((function(r){return r.position})))},ae({areaOpacity:t,areaBlendMode:o},a)),""+a.id)}))})})),pr=k.memo((function(e){var n=e.lineGenerator,t=e.points,o=e.color,i=e.thickness,a=k.useMemo((function(){return n(t)}),[n,t]),r=At(a);return j.jsx(nn.path,{d:r,fill:"none",strokeWidth:i,stroke:o})})),yr=k.memo((function(e){var n=e.series,t=e.lineGenerator,o=e.lineWidth;return j.jsx(j.Fragment,{children:n.slice(0).reverse().map((function(i){var a=i.id,r=i.data,l=i.color;return j.jsx(pr,{points:r.map((function(s){return s.position})),lineGenerator:t,color:l,thickness:o},a)}))})})),xr=k.memo((function(e){var n=e.slice,t=e.slices,o=e.axis,i=e.debug,a=e.tooltip,r=e.isCurrent,l=e.setCurrent,s=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave,u=e.onMouseDown,c=e.onMouseUp,h=e.onClick,v=e.onDoubleClick,m=e.onTouchStart,g=e.onTouchMove,y=e.onTouchEnd,x=hn(),w=x.showTooltipFromEvent,M=x.hideTooltip,E=k.useCallback((function(S){w(k.createElement(a,{slice:n,axis:o}),S,"right"),l(n),s==null||s(n,S)}),[w,a,n,o,l,s]),b=k.useCallback((function(S){w(k.createElement(a,{slice:n,axis:o}),S,"right"),d==null||d(n,S)}),[w,a,n,o,d]),P=k.useCallback((function(S){M(),l(null),f==null||f(n,S)}),[M,l,f,n]),I=k.useCallback((function(S){u==null||u(n,S)}),[n,u]),C=k.useCallback((function(S){c==null||c(n,S)}),[n,c]),B=k.useCallback((function(S){h==null||h(n,S)}),[n,h]),T=k.useCallback((function(S){v==null||v(n,S)}),[n,v]),A=k.useCallback((function(S){w(k.createElement(a,{slice:n,axis:o}),S,"right"),l(n),m==null||m(n,S)}),[o,m,l,w,n,a]),F=k.useCallback((function(S){var p=S.touches[0],_=document.elementFromPoint(p.clientX,p.clientY),L=_==null?void 0:_.getAttribute("data-ref");if(L){var H=t.find((function(Y){return Y.id===L}));H&&(w(k.createElement(a,{slice:H,axis:o}),S,"right"),l(H))}g==null||g(n,S)}),[o,g,l,w,n,t,a]),O=k.useCallback((function(S){M(),l(null),y==null||y(n,S)}),[M,l,y,n]);return j.jsx("rect",{x:n.x0,y:n.y0,width:n.width,height:n.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:r&&i?.35:0,onMouseEnter:E,onMouseMove:b,onMouseLeave:P,onMouseDown:I,onMouseUp:C,onClick:B,onDoubleClick:T,onTouchStart:A,onTouchMove:F,onTouchEnd:O,"data-ref":n.id})})),br=k.memo((function(e){var n=e.slices,t=e.axis,o=e.debug,i=e.tooltip,a=e.current,r=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,d=e.onMouseLeave,f=e.onMouseDown,u=e.onMouseUp,c=e.onClick,h=e.onDoubleClick,v=e.onTouchStart,m=e.onTouchMove,g=e.onTouchEnd;return j.jsx(j.Fragment,{children:n.map((function(y){return j.jsx(xr,{slice:y,slices:n,axis:t,debug:o,tooltip:i,setCurrent:r,isCurrent:a!==null&&a.id===y.id,onMouseEnter:l,onMouseMove:s,onMouseLeave:d,onMouseDown:f,onMouseUp:u,onClick:c,onDoubleClick:h,onTouchStart:v,onTouchMove:m,onTouchEnd:g},y.id)}))})})),kr=k.memo((function(e){var n=e.points,t=e.symbol,o=e.size,i=e.borderWidth,a=e.enableLabel,r=e.label,l=e.labelYOffset,s=e.isFocusable,d=e.setCurrentPoint,f=e.tooltip,u=e.margin,c=e.ariaLabel,h=e.ariaLabelledBy,v=e.ariaDescribedBy,m=e.ariaHidden,g=e.ariaDisabled,y=pi(r),x=hn(),w=x.showTooltipAt,M=x.hideTooltip,E=n.slice(0).sort((function(b,P){return b.indexInSeries-P.indexInSeries})).sort((function(b,P){return P.seriesIndex-b.seriesIndex})).map((function(b){return{id:b.id,x:b.x,y:b.y,datum:b.data,fill:b.color,stroke:b.borderColor,label:a?y(b):null,ariaLabel:c?c(b):void 0,ariaLabelledBy:h?h(b):void 0,ariaDescribedBy:v?v(b):void 0,ariaHidden:m?m(b):void 0,ariaDisabled:g?g(b):void 0,onFocus:s?function(){d(b),w(k.createElement(f,{point:b}),[u.left+b.x,u.top+b.y],"top")}:void 0,onBlur:s?function(){d(null),M()}:void 0}}));return j.jsx("g",{children:E.map((function(b){return j.jsx(yi,{x:b.x,y:b.y,datum:b.datum,symbol:t,size:o,color:b.fill,borderWidth:i,borderColor:b.stroke,label:b.label,labelYOffset:l,ariaLabel:b.ariaLabel,ariaLabelledBy:b.ariaLabelledBy,ariaDescribedBy:b.ariaDescribedBy,ariaHidden:b.ariaHidden,ariaDisabled:b.ariaDisabled,isFocusable:s,onFocus:b.onFocus,onBlur:b.onBlur,testId:"line.point."+b.id},b.id)}))})})),Mr=k.memo((function(e){var n=e.points,t=e.width,o=e.height,i=e.margin,a=e.setCurrent,r=e.onMouseEnter,l=e.onMouseMove,s=e.onMouseLeave,d=e.onMouseDown,f=e.onMouseUp,u=e.onClick,c=e.onDoubleClick,h=e.onTouchStart,v=e.onTouchMove,m=e.onTouchEnd,g=e.tooltip,y=e.debug,x=e.enableTouchCrosshair,w=hn(),M=w.showTooltipAt,E=w.hideTooltip,b=k.useCallback((function(p,_){M(k.createElement(g,{point:p}),[p.x+i.left,p.y+i.top],"top"),r==null||r(p,_)}),[M,g,r,i]),P=k.useCallback((function(p,_){M(k.createElement(g,{point:p}),[p.x+i.left,p.y+i.top],"top"),l==null||l(p,_)}),[M,g,i.left,i.top,l]),I=k.useCallback((function(p,_){E(),s==null||s(p,_)}),[E,s]),C=k.useCallback((function(p,_){d==null||d(p,_)}),[d]),B=k.useCallback((function(p,_){f==null||f(p,_)}),[f]),T=k.useCallback((function(p,_){u==null||u(p,_)}),[u]),A=k.useCallback((function(p,_){c==null||c(p,_)}),[c]),F=k.useCallback((function(p,_){M(k.createElement(g,{point:p}),[p.x+i.left,p.y+i.top],"top"),h==null||h(p,_)}),[i.left,i.top,h,M,g]),O=k.useCallback((function(p,_){M(k.createElement(g,{point:p}),[p.x+i.left,p.y+i.top],"top"),v==null||v(p,_)}),[i.left,i.top,v,M,g]),S=k.useCallback((function(p,_){E(),m==null||m(p,_)}),[m,E]);return j.jsx(sr,{nodes:n,width:t,height:o,setCurrent:a,onMouseEnter:b,onMouseMove:P,onMouseLeave:I,onMouseDown:C,onMouseUp:B,onClick:T,onDoubleClick:A,onTouchStart:F,onTouchMove:O,onTouchEnd:S,enableTouchCrosshair:x,debug:y})})),wr=["isInteractive","animate","motionConfig","theme","renderWrapper"];function Cr(e){var n=e.data,t=e.xScale,o=t===void 0?U.xScale:t,i=e.xFormat,a=e.yScale,r=a===void 0?U.yScale:a,l=e.yFormat,s=e.curve,d=s===void 0?U.curve:s,f=e.margin,u=e.width,c=e.height,h=e.colors,v=h===void 0?U.colors:h,m=e.lineWidth,g=m===void 0?U.lineWidth:m,y=e.layers,x=y===void 0?U.layers:y,w=e.enableArea,M=w===void 0?U.enableArea:w,E=e.areaBaselineValue,b=E===void 0?U.areaBaselineValue:E,P=e.areaOpacity,I=P===void 0?U.areaOpacity:P,C=e.areaBlendMode,B=C===void 0?U.areaBlendMode:C,T=e.enablePoints,A=T===void 0?U.enablePoints:T,F=e.pointSymbol,O=e.pointSize,S=O===void 0?U.pointSize:O,p=e.pointColor,_=p===void 0?U.pointColor:p,L=e.pointBorderWidth,H=L===void 0?U.pointBorderWidth:L,Y=e.pointBorderColor,N=Y===void 0?U.pointBorderColor:Y,K=e.enablePointLabel,X=K===void 0?U.enablePointLabel:K,V=e.pointLabel,oe=V===void 0?U.pointLabel:V,ue=e.pointLabelYOffset,le=e.enableGridX,R=le===void 0?U.enableGridX:le,ne=e.gridXValues,q=e.enableGridY,G=q===void 0?U.enableGridY:q,ge=e.gridYValues,ke=e.axisTop,W=e.axisRight,D=e.axisBottom,J=D===void 0?U.axisBottom:D,Q=e.axisLeft,te=Q===void 0?U.axisLeft:Q,ee=e.defs,Me=ee===void 0?U.defs:ee,Ie=e.fill,Ve=Ie===void 0?U.fill:Ie,Re=e.markers,tn=e.legends,on=tn===void 0?U.legends:tn,vn=e.isInteractive,de=vn===void 0?U.isInteractive:vn,$e=e.useMesh,pe=$e===void 0?U.useMesh:$e,ce=e.debugMesh,he=ce===void 0?U.debugMesh:ce,Le=e.onMouseEnter,Fe=e.onMouseMove,Ce=e.onMouseLeave,rn=e.onMouseDown,ye=e.onMouseUp,Se=e.onClick,_e=e.onDoubleClick,We=e.onTouchStart,Oe=e.onTouchMove,xe=e.onTouchEnd,Ue=e.tooltip,He=Ue===void 0?U.tooltip:Ue,we=e.enableSlices,Te=we===void 0?U.enableSlices:we,an=e.debugSlices,gn=an===void 0?U.debugSlices:an,Ge=e.sliceTooltip,fe=Ge===void 0?U.sliceTooltip:Ge,ln=e.enableCrosshair,pn=ln===void 0?U.enableCrosshair:ln,Xe=e.crosshairType,yn=Xe===void 0?U.crosshairType:Xe,xn=e.enableTouchCrosshair,jn=xn===void 0?U.enableTouchCrosshair:xn,bn=e.role,En=bn===void 0?U.role:bn,Bn=e.ariaLabel,$=e.ariaLabelledBy,z=e.ariaDescribedBy,Ye=e.isFocusable,je=Ye===void 0?U.isFocusable:Ye,ze=e.pointAriaLabel,Dn=e.pointAriaLabelledBy,ie=e.pointAriaDescribedBy,An=e.pointAriaHidden,Gt=e.pointAriaDisabled,Gn=e.initialHiddenIds,Xt=Gn===void 0?U.initialHiddenIds:Gn,sn=Bt(u,c,f),Pn=sn.margin,Ee=sn.innerWidth,Be=sn.innerHeight,qt=sn.outerWidth,Nt=sn.outerHeight,De=Rt({data:n,xScale:o,xFormat:i,yScale:r,yFormat:l,width:Ee,height:Be,colors:v,curve:d,areaBaselineValue:b,pointColor:_,pointBorderColor:N,enableSlices:Te,initialHiddenIds:Xt}),Kt=De.legendData,Qt=De.toggleSeries,Xn=De.lineGenerator,qn=De.areaGenerator,kn=De.series,Mn=De.xScale,wn=De.yScale,Nn=De.slices,In=De.points,Kn=k.useState(null),Cn=Kn[0],$n=Kn[1],Qn=k.useState(null),un=Qn[0],Zn=Qn[1],me={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};x.includes("grid")&&(R||G)&&(me.grid=j.jsx(Po,{width:Ee,height:Be,xScale:R?Mn:null,yScale:G?wn:null,xValues:ne,yValues:ge},"grid")),x.includes("markers")&&Array.isArray(Re)&&Re.length>0&&(me.markers=j.jsx(ui,{markers:Re,width:Ee,height:Be,xScale:Mn,yScale:wn},"markers")),x.includes("axes")&&(me.axes=j.jsx(Do,{xScale:Mn,yScale:wn,width:Ee,height:Be,top:ke,right:W,bottom:J,left:te},"axes")),x.includes("lines")&&(me.lines=j.jsx(yr,{series:kn,lineGenerator:Xn,lineWidth:g},"lines")),x.includes("legends")&&on.length>0&&(me.legends=j.jsx(k.Fragment,{children:on.map((function(qe,Ln){return j.jsx(ci,ae({},qe,{containerWidth:Ee,containerHeight:Be,data:qe.data||Kt,toggleSerie:qe.toggleSerie?Qt:void 0}),Ln)}))},"legends"));var Zt=di(Me,kn,Ve);M&&(me.areas=j.jsx(gr,{areaGenerator:qn,areaOpacity:I,areaBlendMode:B,series:kn},"areas")),de&&Te!==!1&&(me.slices=j.jsx(br,{slices:Nn,axis:Te,debug:gn,tooltip:fe,current:un,setCurrent:Zn,onMouseEnter:Le,onMouseMove:Fe,onMouseLeave:Ce,onMouseDown:rn,onMouseUp:ye,onClick:Se,onDoubleClick:_e,onTouchStart:We,onTouchMove:Oe,onTouchEnd:xe},"slices")),A&&(me.points=j.jsx(kr,{points:In,symbol:F,size:S,borderWidth:H,enableLabel:X,label:oe,labelYOffset:ue,isFocusable:je,setCurrentPoint:$n,tooltip:He,margin:Pn,ariaLabel:ze,ariaLabelledBy:Dn,ariaDescribedBy:ie,ariaHidden:An,ariaDisabled:Gt},"points")),de&&pn&&(Cn!==null&&(me.crosshair=j.jsx(tt,{width:Ee,height:Be,x:Cn.x,y:Cn.y,type:yn},"crosshair")),un!==null&&Te&&(me.crosshair=j.jsx(tt,{width:Ee,height:Be,x:un.x,y:un.y,type:Te},"crosshair"))),de&&pe&&Te===!1&&(me.mesh=j.jsx(Mr,{points:In,width:Ee,height:Be,margin:Pn,setCurrent:$n,onMouseEnter:Le,onMouseMove:Fe,onMouseLeave:Ce,onMouseDown:rn,onMouseUp:ye,onClick:Se,onDoubleClick:_e,onTouchStart:We,onTouchMove:Oe,onTouchEnd:xe,tooltip:He,enableTouchCrosshair:jn,debug:he},"mesh"));var Jt=ae({},e,{innerWidth:Ee,innerHeight:Be,series:kn,slices:Nn,points:In,xScale:Mn,yScale:wn,lineGenerator:Xn,areaGenerator:qn,currentPoint:Cn,setCurrentPoint:$n,currentSlice:un,setCurrentSlice:Zn});return j.jsx(hi,{defs:Zt,width:qt,height:Nt,margin:Pn,role:En,ariaLabel:Bn,ariaLabelledBy:$,ariaDescribedBy:z,isFocusable:je,children:x.map((function(qe,Ln){return typeof qe=="function"?j.jsx(k.Fragment,{children:qe(Jt)},Ln):me[qe]}))})}function Sr(e){var n=e.isInteractive,t=n===void 0?U.isInteractive:n,o=e.animate,i=o===void 0?U.animate:o,a=e.motionConfig,r=a===void 0?U.motionConfig:a,l=e.theme,s=e.renderWrapper,d=Vt(e,wr);return j.jsx(Et,{animate:i,isInteractive:t,motionConfig:r,renderWrapper:s,theme:l,children:j.jsx(Cr,ae({isInteractive:t},d))})}var Ir=function(e){return j.jsx(jt,{children:function(n){var t=n.width,o=n.height;return j.jsx(Sr,ae({width:t,height:o},e))}})},_r=["isInteractive","renderWrapper","theme"],Tr=function(e){var n=e.width,t=e.height,o=e.margin,i=e.pixelRatio,a=i===void 0?Z.pixelRatio:i,r=e.data,l=e.xScale,s=l===void 0?Z.xScale:l,d=e.xFormat,f=e.yScale,u=f===void 0?Z.yScale:f,c=e.yFormat,h=e.curve,v=h===void 0?Z.curve:h,m=e.layers,g=m===void 0?Z.layers:m,y=e.colors,x=y===void 0?Z.colors:y,w=e.lineWidth,M=w===void 0?Z.lineWidth:w,E=e.enableArea,b=E===void 0?Z.enableArea:E,P=e.areaBaselineValue,I=P===void 0?Z.areaBaselineValue:P,C=e.areaOpacity,B=C===void 0?Z.areaOpacity:C,T=e.enablePoints,A=T===void 0?Z.enablePoints:T,F=e.pointSize,O=F===void 0?Z.pointSize:F,S=e.pointColor,p=S===void 0?Z.pointColor:S,_=e.pointBorderWidth,L=_===void 0?Z.pointBorderWidth:_,H=e.pointBorderColor,Y=H===void 0?Z.pointBorderColor:H,N=e.enableGridX,K=N===void 0?Z.enableGridX:N,X=e.gridXValues,V=e.enableGridY,oe=V===void 0?Z.enableGridY:V,ue=e.gridYValues,le=e.axisTop,R=e.axisRight,ne=e.axisBottom,q=ne===void 0?Z.axisBottom:ne,G=e.axisLeft,ge=G===void 0?Z.axisLeft:G,ke=e.legends,W=ke===void 0?Z.legends:ke,D=e.isInteractive,J=D===void 0?Z.isInteractive:D,Q=e.debugMesh,te=Q===void 0?Z.debugMesh:Q,ee=e.onMouseLeave,Me=e.onMouseDown,Ie=e.onMouseUp,Ve=e.onClick,Re=e.onDoubleClick,tn=e.tooltip,on=tn===void 0?Z.tooltip:tn,vn=e.forwardedRef,de=k.useRef(null),$e=Bt(n,t,o),pe=$e.margin,ce=$e.innerWidth,he=$e.innerHeight,Le=$e.outerWidth,Fe=$e.outerHeight,Ce=dn(),rn=k.useState(null),ye=rn[0],Se=rn[1],_e=Rt({data:r,xScale:s,xFormat:d,yScale:u,yFormat:c,width:ce,height:he,colors:x,curve:v,areaBaselineValue:I,pointColor:p,pointBorderColor:Y}),We=_e.lineGenerator,Oe=_e.areaGenerator,xe=_e.series,Ue=_e.xScale,He=_e.yScale,we=_e.points,Te=k.useMemo((function(){return{innerWidth:ce,innerHeight:he,series:xe,points:we,xScale:Ue,yScale:He,lineWidth:M,lineGenerator:We,areaGenerator:Oe,currentPoint:ye,setCurrentPoint:Se}}),[ce,he,xe,we,Ue,He,M,We,Oe,ye,Se]),an=zt({points:we,width:ce,height:he,debug:te}),gn=an.delaunay,Ge=an.voronoi;k.useEffect((function(){if(de.current!==null){de.current.width=Le*a,de.current.height=Fe*a;var $=de.current.getContext("2d");$.scale(a,a),$.fillStyle=Ce.background,$.fillRect(0,0,Le,Fe),$.translate(pe.left,pe.top),g.forEach((function(z){var Ye;typeof z=="function"&&z($,Te);var je=(Ye=Ce.grid.line.strokeWidth)!=null?Ye:0;if(z==="grid"&&typeof je!="string"&&je>0&&($.lineWidth=je,$.strokeStyle=Ce.grid.line.stroke,K&&vt($,{width:ce,height:he,scale:Ue,axis:"x",values:X}),oe&&vt($,{width:ce,height:he,scale:He,axis:"y",values:ue})),z==="axes"&&$o($,{xScale:Ue,yScale:He,width:ce,height:he,top:le,right:R,bottom:q,left:ge,theme:Ce}),z==="areas"&&b===!0){$.save(),$.globalAlpha=B,Oe.context($);for(var ze=xe.length-1;ze>=0;ze--)$.fillStyle=xe[ze].color,$.beginPath(),Oe(xe[ze].data.map((function(ie){return ie.position}))),$.fill();$.restore()}if(z==="lines"&&(We.context($),xe.forEach((function(ie){$.strokeStyle=ie.color,$.lineWidth=M,$.beginPath(),We(ie.data.map((function(An){return An.position}))),$.stroke()}))),z==="points"&&A===!0&&O>0&&we.forEach((function(ie){$.fillStyle=ie.color,$.beginPath(),$.arc(ie.x,ie.y,O/2,0,2*Math.PI),$.fill(),L>0&&($.strokeStyle=ie.borderColor,$.lineWidth=L,$.stroke())})),z==="mesh"&&te===!0&&Ge!==void 0&&(ur($,Ge),ye&&cr($,Ge,ye.absIndex)),z==="legends"){var Dn=xe.map((function(ie){return{id:ie.id,label:ie.id,color:ie.color}})).reverse();W.forEach((function(ie){xi($,ae({},ie,{data:ie.data||Dn,containerWidth:ce,containerHeight:he,theme:Ce}))}))}}))}}),[de,ce,Le,he,Fe,pe.left,pe.top,a,g,Ce,We,xe,Ue,He,K,X,oe,ue,le,R,q,ge,W,we,A,O,L,ye,Te,te,b,Oe,B,M,Ge]);var fe=k.useCallback((function($){if(!de.current)return null;var z=Tt(de.current,$),Ye=z[0],je=z[1];if(!bi(pe.left,pe.top,ce,he,Ye,je))return null;var ze=gn.find(Ye-pe.left,je-pe.top);return we[ze]}),[de,pe,ce,he,gn,we]),ln=hn(),pn=ln.showTooltipFromEvent,Xe=ln.hideTooltip,yn=k.useCallback((function($){var z=fe($);Se(z),z?pn(k.createElement(on,{point:z}),$):Xe()}),[fe,Se,pn,Xe,on]),xn=k.useCallback((function($){Xe(),Se(null),ye&&(ee==null||ee(ye,$))}),[Xe,Se,ee,ye]),jn=k.useCallback((function($){if(Me){var z=fe($);z&&Me(z,$)}}),[fe,Me]),bn=k.useCallback((function($){if(Ie){var z=fe($);z&&Ie(z,$)}}),[fe,Ie]),En=k.useCallback((function($){if(Ve){var z=fe($);z&&Ve(z,$)}}),[fe,Ve]),Bn=k.useCallback((function($){if(Re){var z=fe($);z&&Re(z,$)}}),[fe,Re]);return j.jsx("canvas",{ref:ki(de,vn),width:Le*a,height:Fe*a,style:{width:Le,height:Fe,cursor:J?"auto":"normal"},onMouseEnter:J?yn:void 0,onMouseMove:J?yn:void 0,onMouseLeave:J?xn:void 0,onMouseDown:J?jn:void 0,onMouseUp:J?bn:void 0,onClick:J?En:void 0,onDoubleClick:J?Bn:void 0})},jr=k.forwardRef((function(e,n){var t=e.isInteractive,o=e.renderWrapper,i=e.theme,a=Vt(e,_r);return j.jsx(Et,{isInteractive:t,renderWrapper:o,theme:i,animate:!1,children:j.jsx(Tr,ae({},a,{forwardedRef:n}))})}));k.forwardRef((function(e,n){return j.jsx(jt,{children:function(t){var o=t.width,i=t.height;return j.jsx(jr,ae({width:o,height:i},e,{ref:n}))}})}));export{Ir as y};
