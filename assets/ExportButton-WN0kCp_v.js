import{j as e,a4 as te,X as re,Y as D,ap as ie,T as ee,al as ae,r as i,b as le,J as L,I as S,O as q,P as N,Q as $,U as A,K as W,ax as ce,R as y,B as w,av as de,ay as pe,az as xe,aA as V,ai as ue,$ as C,M as z,ad as me,ae as B,ao as R}from"./index-YqfOGp5H.js";import{B as se}from"./BeltStripe-BqvD3AJr.js";import{C as oe,H as he}from"./EvidenceForm-2f-AdEQU.js";import{e as O}from"./entryName-By_ssyIT.js";import{L as fe}from"./ListItem-DlJp2vXo.js";import{E as je}from"./ExpandMore-BZhEwR46.js";import{F as j}from"./FieldValue-BETdwxRf.js";import{B as ne}from"./BeltIcon-DnVa4wKX.js";import{F as U}from"./InlineFilterDisplay-BbVqTydF.js";import{E as ge,C as ve}from"./EntryNotes-DUgUZNm5.js";import{C as be}from"./CopyEntryTextButton-y1_zB9Kp.js";import{L as ke}from"./LockImageGallery-CYRp02le.js";import{D as H}from"./DataContext-DSBpGSRz.js";import"./index-CbTuyFMy.js";import{D as Ce}from"./Dialog-HWEJPb0L.js";import{F as we}from"./sanitizeValues-C61FRfDC.js";import{C as ye}from"./Checkbox-DVYHyOgq.js";import{L as Le}from"./Link-C0YDRhQK.js";import{A as Se,a as Ie,b as Ee}from"./AccordionSummary-C1l9tqQ5.js";import{M as J}from"./index-cuMkI8lm.js";import{r as G}from"./index-BlfFpYIe.js";import{A as Me}from"./AccordionActions-E5onk7cu.js";import{d as K,F as P,C as Fe}from"./download-DX2WAvWx.js";import{L as Te}from"./List-1mMTJoGO.js";import{C as De}from"./ContentCopy-etfZyGOU.js";function ks({entries:s}){return e.jsxs(te,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(re,{dense:!0,style:{padding:0},children:s.map(o=>e.jsxs(fe,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(se,{value:o.belt}),e.jsx(D,{primary:O(o),primaryTypographyProps:{fontWeight:500},secondary:o.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(oe,{id:o.id,dense:!0,exposed:!0})]},o.id))}),e.jsx(ie,{}),e.jsx(ee,{feature:"compact"})]})}function Oe({belt:s}){const{danPoints:o}=ae[s],r=o===1?"Point":o>=10?"Pts":"Points",d=` (${o} Dan ${r})`,p={textDecoration:"none",color:"#fff"};return o===0||s==="Unranked"?null:e.jsx("a",{style:p,href:"/#/dans",children:d})}function _e({id:s,onExpand:o,entryId:r}){const{getEntryFromId:d}=i.useContext(H),p=i.useMemo(()=>d(s),[d,s]),u=le(),a=i.useCallback(async()=>{u(`/locks?id=${s}`),o(s)},[s,u,o]),g=s===r?{border:"1px solid #777"}:{},l=s===r;return e.jsx(L,{title:p.version,arrow:!0,disableFocusListener:!0,children:e.jsx("span",{children:e.jsx(S,{onClick:a,style:g,disabled:l,children:e.jsx(ne,{value:p.belt,related:!0,disabled:l})})})})}var E={},Q;function ze(){if(Q)return E;Q=1;var s=q();Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=s(N()),r=$();return E.default=(0,o.default)((0,r.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint"),E}var Be=ze();const Re=A(Be);function We({entry:s}){const o=i.useCallback(async()=>{await navigator.clipboard.writeText(s.id),W("ID copied to clipboard.")},[s.id]);return e.jsx(L,{title:"Copy Entry Id",arrow:!0,disableFocusListener:!0,children:e.jsx(S,{onClick:o,children:e.jsx(Re,{color:"primary"})})})}var M={},X;function qe(){if(X)return M;X=1;var s=q();Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;var o=s(N()),r=$();return M.default=(0,o.default)((0,r.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),M}var Ne=qe();const $e=A(Ne);function Ae({entry:s,nameType:o}){const r=i.useCallback(()=>{const p=O(s,o).replace(/[\s/]/g,"_").replace(/\W/g,""),u=`https://lpubelts.com/#/locks?tab=search&search=${s.id}&id=${s.id}&name=${p}`,a=window.open(u,"_blank","noopener,noreferrer");a&&(a.opener=null)},[s,o]);return e.jsx(L,{title:"Open Link to Entry in New Tab",arrow:!0,disableFocusListener:!0,children:e.jsx(S,{onClick:r,children:e.jsx($e,{color:"primary"})})})}var F={},Y;function He(){if(Y)return F;Y=1;var s=q();Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var o=s(N()),r=$();return F.default=(0,o.default)((0,r.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer"),F}var Pe=He();const Ve=A(Pe);function Ue({entry:s,buttonType:o="text",nameType:r}){const{lockbazzarAvailable:d}=i.useContext(H),[p,u]=i.useState(!1),[a,g]=ce("showLpulocksDialog",!0),l=d(s.id),m=i.useCallback(()=>{u(!p)},[p]),I=i.useCallback(()=>{g(!a)},[g,a]),b=i.useCallback(c=>{const k=O(s,r).replace(/[\s/]/g,"_").replace(/\W/g,""),n="https://lpulocks.com/#/lockbazaar",t=c?`?search=${s.id}&name=${k}`:"",x=window.open(`${n}${t}`,"_blank","noopener,noreferrer");x&&(x.opener=null),u(!1)},[s,r]),h=i.useCallback(()=>{a||!l?m():b(s.id)},[s.id,l,b,a,m]),f=l?"#38b9f6":"#777";return e.jsxs(y.Fragment,{children:[o==="icon"?e.jsx(L,{title:"lock-bazaar listings available",arrow:!0,disableFocusListener:!0,children:e.jsx(S,{onClick:m,style:{marginRight:20,color:f},children:e.jsx(Ve,{})})}):e.jsx(w,{onClick:h,color:"info",variant:"outlined",sx:{textTransform:"none"},style:{margin:4,color:f,borderColor:f},children:"lpulocks.com"}),e.jsxs(Ce,{open:p,onClose:m,componentsProps:{backdrop:{style:{backgroundColor:"#000",opacity:.6}}},children:[e.jsx("div",{style:{textAlign:"right",padding:10},children:e.jsx(S,{onClick:m,style:{padding:0,margin:0},children:e.jsx(he,{sx:{cursor:"pointer"}})})}),l?e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"Listings of this lock for sale may be available at our sister site, lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. Neither lpubelts.com nor lpulocks.com are not vouching for the sellers, please take appropriate precautions as you would with any private purchase. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{}),"Click below to leave lpubelts.com and view listings."]}),e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(we,{control:e.jsx(ye,{color:"info",size:"small",checked:a===!1,onChange:I}),label:"Don't show this again"}),e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:()=>b(s.id),style:{margin:"8px 0px 3px 0px",height:32},children:"VIEW LISTINGS FOR THIS LOCK"})]})]}):e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"No current for sale listings at lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. When this button is illuminated, you'll be able to click directly to listings for the lock. Please keep in mind that neither lpubelts.com nor lpulocks.com are not vouching for the sellers. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:10,display:"flex",justifyContent:"center"},children:[e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:m,style:{margin:"8px 0px 3px 0px",height:32},children:"CLOSE"}),e.jsx(w,{variant:"outlined",size:"small",color:"info",onClick:()=>b(void 0),style:{margin:"8px 0px 3px 10px",height:32},children:"Browse lpulocks.com"})]}),e.jsx(Le,{onClick:()=>g(!0),style:{color:"#222",textDecoration:"none",cursor:"grab"},children:"-"})]})]})]})}function Je({entry:s,expanded:o,onExpand:r}){var h,f,c,v,k;const{expandAll:d}=i.useContext(H),{userId:p}=de(),[u,a]=i.useState(!1),g={maxWidth:700,marginLeft:"auto",marginRight:"auto"},l=i.useRef(null),m=[...new Set([...s.relatedIds||[],...pe(s.id)])].sort((n,t)=>xe(V[n].belt,V[t].belt)||n.localeCompare(t)),I=i.useCallback((n,t)=>{r&&r(t?s.id:!1)},[s,r]);i.useEffect(()=>{if(o&&l&&!u&&!d){const t=window.innerWidth<=600?70:74,{id:x}=ue.parse(location.search),_=x===s.id;a(!0),setTimeout(()=>{window.scrollTo({left:0,top:l.current.offsetTop-t,behavior:_?"auto":"smooth"})},_?0:100)}else o||a(!1)},[o,s,u,d]);const b=i.useMemo(()=>{var n;return e.jsx(C,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(n=s.makeModels)==null?void 0:n.map(({make:t,model:x},_)=>e.jsx(z,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:t&&t!==x?`${t} ${x}`:x},_))})},[s.makeModels]);return e.jsxs(Se,{expanded:o,onChange:I,style:g,ref:l,children:[e.jsxs(Ie,{expandIcon:e.jsx(je,{}),children:[e.jsx(se,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(j,{value:b,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(j,{name:"Version",value:e.jsx(z,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((h=s.lockingMechanisms)==null?void 0:h.length)>0&&e.jsx(j,{value:e.jsx(C,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(f=s.lockingMechanisms)==null?void 0:f.map((n,t)=>e.jsx(U,{value:n,field:"lockingMechanisms"},t))})})})]}),o&&e.jsxs(y.Fragment,{children:[e.jsxs(Ee,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(C,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(j,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(y.Fragment,{children:[e.jsxs(z,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(Oe,{belt:s.belt})]}),e.jsx(ne,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(oe,{id:s.id,makeModels:s.makeModels})})]}),!!s.notes&&e.jsx(C,{direction:"row",spacing:0,sx:{width:"100%",flexWrap:"wrap"},children:e.jsx(j,{name:"Comments",value:e.jsx(z,{component:"div",style:{marginTop:-16},children:e.jsx(J,{rehypePlugins:[[G,{target:"_blank"}]],children:s.notes})})})}),!!((c=s.features)!=null&&c.length)&&e.jsx(j,{name:"Features",value:e.jsx(C,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((n,t)=>e.jsx(U,{value:n,field:"features"},t))})}),(m==null?void 0:m.length)>1&&!p&&e.jsx(j,{name:"Other Versions",value:e.jsx(y.Fragment,{children:m.map(n=>e.jsx(_e,{id:n,onExpand:r,entryId:s.id},n))})}),!!s.description&&e.jsx("div",{style:{margin:8},children:e.jsx(J,{rehypePlugins:[[G,{target:"_blank",rel:["nofollow","noopener","noreferrer"]}]],children:s.description})}),e.jsx("div",{style:{margin:"12px 0px 20px 6px"},children:e.jsx(ge,{entry:s})}),!!((v=s.media)!=null&&v.length)&&e.jsx(j,{value:e.jsx(ke,{entry:s})}),e.jsxs("div",{style:{display:"flex"},children:[!!((k=s.links)!=null&&k.length)&&e.jsx(j,{name:"Links",value:e.jsx(C,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:n,url:t},x)=>e.jsx(w,{href:t,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:n},x))})}),e.jsx(j,{name:"For sale",style:{marginLeft:15},value:e.jsx(Ue,{entry:s,buttonType:"text"})})]})]}),e.jsx(Me,{disableSpacing:!0,children:e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{flexGrow:1,justifyItems:"left"},children:[!d&&e.jsx(ee,{feature:"lock",id:s.id}),e.jsx(We,{entry:s}),e.jsx(Ae,{entry:s})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(be,{entry:s}),e.jsx(ve,{entry:s})]})]})})]})]})}const Cs=y.memo(Je,(s,o)=>s.entry.id===o.entry.id&&s.expanded===o.expanded&&s.onExpand===o.onExpand);var T={},Z;function Ge(){if(Z)return T;Z=1;var s=q();Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var o=s(N()),r=$();return T.default=(0,o.default)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),T}var Ke=Ge();const ws=A(Ke);function ys({text:s,entries:o}){const[r,d]=i.useState(null),p=!!r,u=i.useCallback(h=>d(h.currentTarget),[]),a=i.useCallback(()=>d(null),[]),{visibleEntries:g}=i.useContext(H),l=o||g,m=i.useCallback(()=>{const h=JSON.stringify(l);a(),K("lpubeltsdata.json",h),W("Current lock entries downloaded as lpubeltsdata.json")},[a,l]),I=i.useCallback(()=>{const f=l.map(c=>({id:c.id,make:c.makeModels.map(v=>v.make).join(","),model:c.makeModels.map(v=>v.model).join(","),version:c.version,belt:c.belt,name:O(c),versionText:c.version?" ("+c.version+")":""})).map(c=>"* "+c.name+c.versionText).join(`
`);a(),navigator.clipboard.writeText(f).then(),W("Current lock entries copied to clipboard.")},[a,l]),b=i.useCallback(()=>{const h=["id","name","version","belt"],f=l.map(n=>({id:n.id,make:n.makeModels.map(t=>t.make).join(","),model:n.makeModels.map(t=>t.model).join(","),version:n.version,belt:n.belt,name:O(n)})),c=h.join(","),v=f.map(n=>h.map(t=>n[t]).map(t=>{const x=`${t??""}`.replace(/"/g,'""');return/(\s|,|")/.test(x)?`"${x}"`:x}).join(",")).join(`
`),k=`${c}
${v}`;a(),K("lpubeltsdata.csv",k),W("Current lock entries downloaded as lpubeltsdata.csv")},[a,l]);return e.jsxs(y.Fragment,{children:[s?e.jsx(L,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(w,{variant:"outlined",size:"small",onClick:u,style:{color:"#ddd",borderColor:"#aaa"},startIcon:e.jsx(P,{}),children:"Export"})}):e.jsx(L,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(S,{onClick:u,children:e.jsx(P,{})})}),e.jsxs(me,{anchorEl:r,open:p,onClose:a,children:[!s&&e.jsxs(B,{disabled:!0,children:[e.jsx(R,{children:e.jsx(P,{fontSize:"small"})}),e.jsx(D,{children:"Export"})]}),e.jsxs(B,{onClick:I,children:[e.jsx(R,{children:e.jsx(De,{fontSize:"small"})}),e.jsx(D,{children:"Copy to clipboard"})]}),e.jsxs(B,{onClick:b,children:[e.jsx(R,{children:e.jsx(Te,{fontSize:"small"})}),e.jsx(D,{children:"CSV"})]}),e.jsxs(B,{onClick:m,children:[e.jsx(R,{children:e.jsx(Fe,{fontSize:"small"})}),e.jsx(D,{children:"JSON"})]})]})]})}export{ws as C,Cs as E,ks as a,ys as b};
