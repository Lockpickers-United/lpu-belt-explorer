import{r as t,j as e,a0 as G,a1 as H,J as P,ah as J,B as f,X as S,R as W,G as w,a9 as K,aa as T,ai as X,A as Y,V as q,aD as Q,P as U,ap as v,W as Z,u as _}from"./index-135a409f.js";import{L as E}from"./LockListContext-f51e1b61.js";import{F}from"./filterFields-b8e9547a.js";import{B as O}from"./Badge-e6cb3e1f.js";import{F as $,C as ee}from"./SearchBox-e1d23cb1.js";import{T as te,a as R}from"./ToggleButtonGroup-76ec8ab9.js";import{B as A}from"./Box-79ed925f.js";function ue({label:d,isSearch:b}){const{tab:x,setDisplayAll:u}=t.useContext(E),C=t.useDeferredValue(x),h={marginTop:16,maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},o=C==="search",g=o&&!b?"No search or filter criteria selected.":e.jsxs("span",{children:["No matching ",d," were found.",e.jsx("br",{}),"Try adjusting filters, search, or tab."]}),a=t.useCallback(()=>{setTimeout(()=>u(!0),50)},[u]);return e.jsxs(G,{style:h,children:[e.jsx(H,{style:{paddingBottom:8},children:e.jsx(P,{variant:"h6",align:"center",children:g})}),o&&e.jsx(J,{style:{paddingBottom:16},children:e.jsx(f,{variant:"outlined",color:"inherit",onClick:a,style:{minWidth:160,margin:"auto"},children:"View all locks"})})]})}function oe({sortValues:d,compactMode:b}){const[x,u]=t.useState(null),C=!!x,h=t.useCallback(n=>u(n.currentTarget),[]),o=t.useCallback(()=>u(null),[]),{filters:g,addFilter:a}=t.useContext(F),{sort:c}=g,{compact:p,setCompact:j}=t.useContext(S),s=t.useCallback(n=>()=>{o(),j(n)},[o,j]),r=t.useCallback(n=>()=>{o(),setTimeout(()=>a("sort",n,!0),0)},[a,o]),l={vertical:"top",horizontal:"right"};return e.jsxs(W.Fragment,{children:[e.jsx(w,{title:"View Options",arrow:!0,disableFocusListener:!0,children:e.jsx(f,{color:"inherit",onClick:h,style:{color:"#ddd"},children:e.jsx(O,{variant:"dot",color:"secondary",invisible:!c,anchorOrigin:l,children:"VIEW"})})}),e.jsxs(K,{anchorEl:x,open:C,onClose:o,children:[e.jsx("div",{style:{marginLeft:5,padding:5,fontWeight:700},children:"SORT BY"}),d.map(({label:n,value:m})=>e.jsx(T,{onClick:r(m),selected:c===m,children:n},n)),b&&e.jsxs("div",{children:[e.jsx(X,{}),e.jsx("div",{style:{marginLeft:5,marginTop:5,padding:5,fontWeight:700},children:"MODE"}),e.jsx(T,{onClick:s(!1),selected:!p,children:"Normal"}),e.jsx(T,{onClick:s(!0),selected:p,children:"Compact"})]})]})]})}function se({onFiltersChanged:d}){const{isLoggedIn:b}=t.useContext(Y),{beta:x}=t.useContext(S),{filters:u,filterCount:C,addFilters:h,addFilter:o,filterFields:g,removeFilters:a}=t.useContext(F),{tab:c}=t.useContext(E),{belt:p}=u,j=/\/locks/.test(location.hash),s=t.useMemo(()=>c||p||"White",[p,c]),r=t.useMemo(()=>s!=="search"?"belt":"all",[s]),[l,n]=t.useState(s);s!==l&&s!=="search"?n(s):r==="belt"&&s==="search"&&n("search");const[m,k]=t.useState(!1),D=t.useCallback(()=>k(!m),[m]);q("f",D);const L=t.useCallback(i=>()=>{i==="all"?o("tab","search",!0):i==="belt"&&(a(["belt"]),o("tab",l,!0))},[o,l,a]),M=t.useCallback((i,B)=>{h([{key:i,value:B},{key:"id",value:void 0},{key:"name",value:void 0}],!0),d&&d()},[h,d]),V=t.useCallback(()=>k(!0),[]),y=t.useCallback(()=>k(!1),[]),{color:I,lineColor:N="#999"}=v[l]?v[l]:{color:"#inherit"},z=r==="belt"?1:.7;return e.jsxs(W.Fragment,{children:[e.jsx(w,{title:"Filter",arrow:!0,disableFocusListener:!0,children:e.jsx(f,{color:"inherit",onClick:V,style:{color:"#ddd"},children:e.jsx(O,{variant:"dot",badgeContent:C,color:"secondary",anchorOrigin:{vertical:"top",horizontal:"right"},children:"FILTER"})})}),m&&e.jsxs(Q,{anchor:"right",open:m,onClose:y,children:[e.jsx(U,{variant:"dense",onClick:y,style:{padding:"8px 0px 0px 8px"},children:e.jsx("div",{style:{fontSize:"1.3rem",fontWeight:700},children:"Filters"})}),v[l]&&j&&e.jsx("div",{style:{marginLeft:8,marginBottom:8},children:e.jsxs(te,{variant:"outlined",children:[e.jsxs(R,{onClick:L("belt"),style:{color:r==="belt"?"#eee":"#777",backgroundColor:r==="belt"?"inherit":"#111",padding:"6px 12px",borderColor:"#666"},value:"belt",disabled:r==="belt",children:[e.jsx("div",{style:{backgroundColor:I,height:16,width:16,borderColor:N,borderRadius:8,border:"1px solid",marginRight:8,opacity:z}}),l," BELT"]},"belt"),e.jsx(R,{onClick:L("all"),style:{color:r==="all"?"#eee":"#777",backgroundColor:r==="all"?"inherit":"#111",padding:"6px 12px",borderColor:"#666"},value:"all",disabled:r==="all",children:"ALL LOCKS"},"all")]})}),e.jsx(A,{margin:1,children:e.jsx(Z,{direction:"column",style:{minWidth:250},children:g.filter(i=>(!i.beta||x)&&(!i.userBased||b)).filter(i=>!(r==="belt"&&c!=="search"&&i.label==="Belt")).map((i,B)=>e.jsx($,{tab:c,...i,onFilter:M},B))})}),e.jsxs("div",{style:{padding:8},children:[e.jsx(ee,{forceText:!0}),e.jsx(f,{variant:"outlined",color:"inherit",onClick:y,children:"Done"})]})]})]})}function he({sortValues:d,extraFilters:b=[],compactMode:x}){const{filters:u,filterCount:C,setFilters:h}=t.useContext(F),{tab:o,sort:g,search:a}=u,c=g||C>0,p=t.useCallback(()=>{h({tab:o,search:a})},[a,h,o]),{width:j}=_(),s=j<=500,r=s?3:0,l=s?2:0,n=s?80:60;return e.jsxs(A,{style:{display:"flex",paddingTop:r,marginBottom:l,marginLeft:0,justifyContent:"center"},sx:{".MuiBadge-anchorOriginTopRightRectangular":{marginTop:"5px"},".MuiButton-root":{minWidth:n}},children:[e.jsx(oe,{sortValues:d,compactMode:x}),e.jsx(se,{extraFilters:b}),c&&e.jsx(f,{color:"inherit",style:{color:"#bbb"},onClick:p,children:"RESET"})]})}export{ue as N,he as V};
