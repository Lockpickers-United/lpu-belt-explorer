import{r as t,O as D,P as E,j as e,a4 as A,F as q,u as M,X as O,R as V,J as b,I as k,aa as L}from"./index-6831d927.js";import{d as T,I as S}from"./Search-4c0661af.js";import{B as $}from"./Sort-38f73959.js";import{T as H}from"./TextField-7ed7a3c1.js";function J(o,c){const[u,i]=t.useState(o);return t.useEffect(()=>{const f=setTimeout(()=>i(o),c||500);return()=>{clearTimeout(f)}},[o,c]),u}var x={},X=E;Object.defineProperty(x,"__esModule",{value:!0});var y=x.default=void 0,G=X(D()),K=e;y=x.default=(0,G.default)((0,K.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Z({label:o,extraFilters:c=[],keepOpen:u}){const[i]=A(),{filters:f,addFilters:p,removeFilter:d,isFiltered:g}=t.useContext(q),[a,m]=t.useState(f.search||""),{isMobile:l,width:w}=M(),R=w<=500,r=t.useRef();O("s",()=>{var s;return(s=r==null?void 0:r.current)==null?void 0:s.focus()},{preventDefault:!0});const F=t.useCallback(()=>{window.scrollTo({top:0}),m(""),d("search",""),r.current.focus()},[d]),I=t.useCallback(s=>{const{value:j}=s.target;m(j),j.length===0&&d("search","")},[d]),n=J(a,250).replaceAll("	"," ");t.useEffect(()=>{n&&n!==i.get("search")&&(n?(window.scrollTo({top:0}),p([{key:"search",value:n},{key:"id",value:void 0},{key:"name",value:void 0},...c],!0)):p([{key:"search",value:n}],!0))},[n]);const[h,v]=t.useState(!1),C=t.useCallback(()=>setTimeout(()=>v(!1),0),[]),B=t.useCallback(()=>{v(!0),setTimeout(()=>{r.current.focus(),r.current.select()},0)},[]);t.useEffect(()=>{const s=i.get("search");s!==a&&m(s||"")},[i]);const _=a?e.jsx(S,{position:"end",children:e.jsx(b,{title:"Clear",arrow:!0,disableFocusListener:!0,children:e.jsx(k,{color:"inherit",onClick:F,edge:"end",size:"small",children:e.jsx(y,{})})})}):null,P=l?{maxWidth:450,marginTop:8,marginRight:8}:{maxWidth:450,marginTop:6,marginRight:8},W=h&&l?{width:"auto",position:"fixed",left:50,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{},z=a?"secondary":"inherit";return e.jsxs(V.Fragment,{children:[!h&&l&&!u&&!g&&e.jsx(b,{title:"Search",arrow:!0,disableFocusListener:!0,children:e.jsx(k,{color:"inherit",onClick:B,children:e.jsx($,{invisible:a.length===0,variant:"dot",color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(T,{})})})}),(h||!l||u||g)&&e.jsx(H,{placeholder:R?o:`Search ${o}`,InputProps:{inputProps:{ref:r},startAdornment:e.jsx(S,{position:"start",children:e.jsx(T,{color:z})}),endAdornment:_},variant:"standard",color:"secondary",onChange:I,onBlur:C,value:a,style:{...P,...W},fullWidth:!0}),e.jsx(L,{invisible:!0,open:h&&l,onClick:C})]})}export{Z as S};
