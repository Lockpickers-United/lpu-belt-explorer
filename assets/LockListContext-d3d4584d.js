import{R as g,an as F,r as a,j as L}from"./index-34fca454.js";import{e as q}from"./entryName-120aa5c0.js";import{D as S,F as T}from"./filterFields-3bff864c.js";const j=g.createContext({});function I({children:y}){const{userId:r}=F(),{allEntries:c,getEntryFromId:d}=a.useContext(S),{filters:t,addFilters:s,removeFilters:n}=a.useContext(T),o=t.id,u=a.useCallback((e,l)=>{const i=d(e);if(e&&e!=="beltreqs"){const E=(i?q(i):"").replace(/[\s/]/g,"_").replace(/\W/g,""),h=t.tab==="search"&&!l?"search":i.belt.replace(/\s\d/g,"");s([{key:"id",value:e},{key:"name",value:E},{key:"tab",value:r?void 0:h}],!0)}else e==="beltreqs"?s([{key:"id",value:e},{key:"name",value:void 0}],!0):n(["id","name"])},[s,t.tab,d,n,r]),m=a.useCallback(()=>{n(["id","name"])},[n]),b=a.useCallback(e=>{s([{key:"tab",value:e},{key:"id",value:o==="beltreqs"?"beltreqs":void 0},{key:"name",value:void 0}],!0),setTimeout(()=>v(!1),0)},[s,o]),[p,v]=a.useState(!1),[x,k]=a.useState(!1),f=a.useMemo(()=>{if(!t.tab&&!r){if(t.id){const e=c.find(l=>t.id===l.id);if(e)return e.belt.replace(/\s\d/g,"")}return"White"}return t.tab},[c,t,r]),C=a.useMemo(()=>({compact:x,tab:f,setTab:b,expanded:o,setExpanded:u,clearExpanded:m,displayAll:p&&t.tab==="search",setDisplayAll:v,setCompact:k}),[x,p,o,t.tab,m,u,b,f]);return L.jsx(j.Provider,{value:C,children:y})}export{j as L,I as a};
