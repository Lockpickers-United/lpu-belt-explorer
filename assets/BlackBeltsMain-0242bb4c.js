import{p as S,r as C,Z as y,j as e,ab as v}from"./index-aefc72c8.js";import{L as B}from"./LoadingDisplay-62702a59.js";import{u as T}from"./useData-5cf5283c.js";import{u as D}from"./usePageTitle-6a53cb1a.js";import{u as w}from"./useWindowSize-5f0d3c80.js";import{C as z,a as A,b as N,c as R,d as H,e as W,T as M}from"./TopLocks-12c9f19f.js";import{f as P,l as I}from"./dataUrls-b6a2c15e.js";import{c as U,d as E,T as F,a as k,b as a,e as O}from"./TableRow-baaf5698.js";import{L as g}from"./Link-a913a439.js";import"./LPU-c3fa7122.js";import"./LinearProgress-c60ee56f.js";import"./useDocumentTitle-d5b23739.js";import"./adminChartDefaults-efbee665.js";import"./nivo-bar.es-c3268eca.js";import"./nivo-legends.es-8659b023.js";import"./index-2587fcb1.js";import"./nivo-line.es-005bcafe.js";const Y=({tableData:o,collectionsData:c})=>{const d=S(),[l,p]=C.useState(""),m=o.map(t=>{const s=t.displayName?t.displayName:"No display name",i=`/profile/${t.userId}/scorecard`,x=o.filter(n=>n.tabClaimed===t.tabClaimed).length>1?"#f00":"#eee",f=c.firstSeen[t.userId];return{displayName:s,tabClaimed:t.tabClaimed,cellColor:x,scorecardLink:i,firstSeen:f}}),j=l==="name"?m.sort((t,s)=>t.displayName.localeCompare(s.displayName)):m.sort((t,s)=>y(t.firstSeen).valueOf()-y(s.firstSeen).valueOf()||t.displayName.localeCompare(s.displayName)),r={},h=C.useCallback(t=>{d(t)},[d]);return e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.3rem",margin:"10px"},children:o.title}),e.jsx(U,{id:"statsTable",style:{padding:"0px 0px 0px 4px",width:500,marginLeft:"auto",marginRight:"auto"},component:v,elevation:2,children:e.jsxs(E,{size:"small",children:[e.jsx(F,{children:e.jsxs(k,{children:[e.jsx(a,{sx:{textAlign:"left",fontSize:"1rem",lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:"#"}),e.jsx(a,{sx:{textAlign:"left",fontSize:"1rem",lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:e.jsx(g,{onClick:()=>p("name"),style:{color:"#d9d9ff"},children:"Display Name"})}),e.jsx(a,{sx:{textAlign:"left",fontSize:"1rem",lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:"Claimed Tab"}),e.jsx(a,{sx:{textAlign:"left",fontSize:"1rem",lineHeight:"1.1rem",padding:"8px",backgroundColor:"#111",color:"#fff"},component:"th",scope:"row",children:e.jsx(g,{onClick:()=>p("date"),style:{color:"#d9d9ff"},children:"Acquired"})})]})}),e.jsx(O,{children:j.map((t,s)=>e.jsxs(k,{index:s,sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(a,{style:r,sx:{textAlign:"left",fontSize:"0.9rem",padding:"8px",border:0,color:t.cellColor},component:"th",scope:"row",children:s+1}),e.jsx(a,{style:r,sx:{textAlign:"left",fontSize:"0.9rem",padding:"8px",border:0,color:"#eee"},component:"th",scope:"row",children:e.jsx(g,{onClick:()=>{h(t.scorecardLink)},style:{color:"#99c2e5",cursor:"pointer"},children:t.displayName})}),e.jsx(a,{style:r,sx:{textAlign:"left",fontSize:"0.9rem",padding:"8px",border:0,color:t.cellColor},component:"th",scope:"row",children:t.tabClaimed}),e.jsx(a,{style:r,sx:{textAlign:"left",fontSize:"0.9rem",padding:"8px",border:0},component:"th",scope:"row",children:t.firstSeen})]},s))})]})})]})};function ne(){var x;D("Black Belts Report");const{data:o,loading:c,error:d}=T({urls:q}),l=o==null?void 0:o.collectionsFullBB,p=(x=o==null?void 0:o.leaderboardData2)==null?void 0:x.blackBelts,m=c?"--":"(updated: "+y(o==null?void 0:o.leaderboardData2.metadata.updatedDateTime).format("MM/DD/YY hh:mm")+")",r=["listUsers","wishlistLocks","recordedLocks","pickedLocks","ownLocks"].reduce((f,n)=>{if(!o)return{};const L=l.dailyTableData.data.map(b=>({x:b.date,y:b[n]}));return f[n]={data:L,id:n},f},{}),{width:h}=w(),s=h<560?"8px 8px 32px 8px":"24px 24px 32px 24px",i={margin:"46px 0px 18px 0px",width:"100%",textAlign:"center",color:"#fff"},u={margin:"0px 0px 36px 0px",width:"100%",textAlign:"center",color:"#fff"};return c?e.jsx(B,{}):d?null:e.jsxs("div",{style:{minWidth:"320px",maxWidth:900,height:"100%",padding:s,backgroundColor:"#292929",marginLeft:"auto",marginRight:"auto",fontSize:"1.5rem",lineHeight:.8},children:[e.jsxs("div",{style:u,children:["Black Belt Report",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"0.85rem"},children:m})]}),e.jsx(Y,{tableData:p,collectionsData:l}),e.jsx("div",{style:i,children:"Collection Summary"}),e.jsx(z,{data:l}),e.jsx("div",{style:i,children:"List Users"}),e.jsx(A,{data:r}),e.jsx("div",{style:i,children:"List Locks by Date"}),e.jsx(N,{data:r}),e.jsx("div",{style:i,children:"Average Items Per List"}),e.jsx(R,{data:l}),e.jsx("div",{style:i,children:"List Saves by Belt Ranking"}),e.jsx(H,{data:l}),e.jsx("div",{style:i,children:"Last 28 Days"}),e.jsx(W,{data:l}),e.jsx("div",{style:i,children:"Top Locks"}),e.jsx(M,{data:l})]})}const q={collectionsFullBB:P,leaderboardData2:I};export{ne as default};
