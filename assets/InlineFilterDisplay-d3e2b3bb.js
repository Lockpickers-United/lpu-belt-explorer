import{a as S,g as D,r as a,s as b,_ as x,u as P,b as R,j as o,d as j,e as T,aY as U,c as A,p as H,R as F,M as q,x as v,a9 as G,v as V,T as W,I as O,S as X,af as Y,ag as B,V as J,W as Z}from"./index-07cc147a.js";import{F as E,e as _}from"./BeltStripe-f3441602.js";import{g as ee,I as te,l as oe}from"./ImageViewer-a52f37fa.js";import{C as z}from"./Search-8bd2dda9.js";import{d as ie}from"./Link-f336bc0c.js";import{d as se}from"./ContentCopy-4688d2ab.js";import{d as ne}from"./Launch-c83f3e3b.js";import{u as K}from"./useWindowSize-62c06cd0.js";import{F as ae}from"./FieldValue-81f6842a.js";import{C as re}from"./sortFields-f4afc81f.js";import{F as le,I as ce,S as me}from"./Select-12835ac0.js";function ge(t){return S("MuiImageList",t)}D("MuiImageList",["root","masonry","quilted","standard","woven"]);const de=a.createContext({}),$=de,Le=["children","className","cols","component","rowHeight","gap","style","variant"],ue=t=>{const{classes:e,variant:i}=t;return T({root:["root",i]},ge,e)},pe=b("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant]]}})(({ownerState:t})=>x({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},t.variant==="masonry"&&{display:"block"})),fe=a.forwardRef(function(e,i){const r=P({props:e,name:"MuiImageList"}),{children:c,className:g,cols:L=2,component:l="ul",rowHeight:s="auto",gap:u=4,style:f,variant:m="standard"}=r,p=R(r,Le),n=a.useMemo(()=>({rowHeight:s,gap:u,variant:m}),[s,u,m]);a.useEffect(()=>{},[]);const y=m==="masonry"?x({columnCount:L,columnGap:u},f):x({gridTemplateColumns:`repeat(${L}, 1fr)`,gap:u},f),h=x({},r,{component:l,gap:u,rowHeight:s,variant:m}),d=ue(h);return o.jsx(pe,x({as:l,className:j(d.root,d[m],g),ref:i,style:y,ownerState:h},p,{children:o.jsx($.Provider,{value:n,children:c})}))}),ye=fe;function he(t){return S("MuiImageListItem",t)}const Ie=D("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),N=Ie,xe=["children","className","cols","component","rows","style"],Ce=t=>{const{classes:e,variant:i}=t;return T({root:["root",i],img:["img"]},he,e)},Ae=b("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${N.img}`]:e.img},e.root,e[i.variant]]}})(({ownerState:t})=>x({display:"block",position:"relative"},t.variant==="standard"&&{display:"flex",flexDirection:"column"},t.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${N.img}`]:x({objectFit:"cover",width:"100%",height:"100%",display:"block"},t.variant==="standard"&&{height:"auto",flexGrow:1})})),be=a.forwardRef(function(e,i){const r=P({props:e,name:"MuiImageListItem"}),{children:c,className:g,cols:L=1,component:l="li",rows:s=1,style:u}=r,f=R(r,xe),{rowHeight:m="auto",gap:p,variant:n}=a.useContext($);let y="auto";n==="woven"?y=void 0:m!=="auto"&&(y=m*s+p*(s-1));const h=x({},r,{cols:L,component:l,gap:p,rowHeight:m,rows:s,variant:n}),d=Ce(h);return o.jsx(Ae,x({as:l,className:j(d.root,d[n],g),ref:i,style:x({height:y,gridColumnEnd:n!=="masonry"?`span ${L}`:void 0,gridRowEnd:n!=="masonry"?`span ${s}`:void 0,marginBottom:n==="masonry"?p:void 0,breakInside:n==="masonry"?"avoid":void 0},u),ownerState:h},f,{children:a.Children.map(c,I=>a.isValidElement(I)?I.type==="img"||U(I,["Image"])?a.cloneElement(I,{className:j(d.img,I.props.className)}):I:null)}))}),we=be;function ve(t){return S("MuiImageListItemBar",t)}D("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const je=["actionIcon","actionPosition","className","subtitle","title","position"],ke=t=>{const{classes:e,position:i,actionIcon:r,actionPosition:c}=t,g={root:["root",`position${A(i)}`],titleWrap:["titleWrap",`titleWrap${A(i)}`,r&&`titleWrapActionPos${A(c)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${A(c)}`]};return T(g,ve,e)},Me=b("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${A(i.position)}`]]}})(({theme:t,ownerState:e})=>x({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:t.typography.fontFamily},e.position==="bottom"&&{bottom:0},e.position==="top"&&{top:0},e.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),Be=b("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.titleWrap,e[`titleWrap${A(i.position)}`],i.actionIcon&&e[`titleWrapActionPos${A(i.actionPosition)}`]]}})(({theme:t,ownerState:e})=>x({flexGrow:1,padding:"12px 16px",color:(t.vars||t).palette.common.white,overflow:"hidden"},e.position==="below"&&{padding:"6px 0 12px",color:"inherit"},e.actionIcon&&e.actionPosition==="left"&&{paddingLeft:0},e.actionIcon&&e.actionPosition==="right"&&{paddingRight:0})),Se=b("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(t,e)=>e.title})(({theme:t})=>({fontSize:t.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),De=b("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(t,e)=>e.subtitle})(({theme:t})=>({fontSize:t.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),Pe=b("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.actionIcon,e[`actionIconActionPos${A(i.actionPosition)}`]]}})(({ownerState:t})=>x({},t.actionPosition==="left"&&{order:-1})),Re=a.forwardRef(function(e,i){const r=P({props:e,name:"MuiImageListItemBar"}),{actionIcon:c,actionPosition:g="right",className:L,subtitle:l,title:s,position:u="bottom"}=r,f=R(r,je),m=x({},r,{position:u,actionPosition:g}),p=ke(m);return o.jsxs(Me,x({ownerState:m,className:j(p.root,L),ref:i},f,{children:[o.jsxs(Be,{ownerState:m,className:p.titleWrap,children:[o.jsx(Se,{className:p.title,children:s}),l?o.jsx(De,{className:p.subtitle,children:l}):null]}),c?o.jsx(Pe,{ownerState:m,className:p.actionIcon,children:c}):null]}))}),Te=Re;function Ge({field:t,value:e,label:i=e,...r}){const c=H(),[g,L]=a.useState(!1),{addFilter:l}=a.useContext(E),s=a.useCallback(n=>{n.preventDefault(),n.stopPropagation(),L(!1)},[]),u=a.useCallback(n=>{n.preventDefault(),n.stopPropagation(),L(!1),l(t,e),window.scrollTo({top:0,behavior:"smooth"})},[l,t,e]),f=a.useCallback(n=>{n.preventDefault(),n.stopPropagation(),L(n.target)},[]),m=a.useCallback(n=>{n.stopPropagation(),L(!1);const y=encodeURI(e);setTimeout(()=>c(`/glossary?term=${y}`),0)},[c,e]),p=a.useMemo(()=>!!ee.find(n=>n.term.toLowerCase()===e.toLowerCase()),[e]);return o.jsxs(F.Fragment,{children:[o.jsx(z,{clickable:!0,variant:"outlined",label:i,style:{marginRight:4,marginBottom:4},onClick:f,...r}),o.jsxs(q,{open:!!g,anchorEl:g,anchorOrigin:{horizontal:"right",vertical:"bottom"},onClose:s,children:[o.jsxs(v,{disabled:!0,children:["Term: ",e]}),o.jsx(G,{}),o.jsx(v,{onClick:u,children:"Add Filter"}),o.jsx(v,{onClick:m,disabled:!p,children:"Go to Glossary"})]})]})}function Xe({entry:t,nameType:e}){const i=a.useCallback(async()=>{const c=_(t,e).replace(/[\s/]/g,"_").replace(/\W/g,""),g=`https://share.lpubelts.com/?id=${t.id}&name=${c}`;await navigator.clipboard.writeText(g),V("Link to entry copied to clipboard.")},[t,e]);return o.jsx(W,{title:"Copy Link to Entry",arrow:!0,disableFocusListener:!0,children:o.jsx(O,{onClick:i,children:o.jsx(ie,{})})})}function Ye({entry:t}){const e=a.useCallback(async()=>{const i=t.makeModels.map(({make:r,model:c})=>r&&r!==c?`${r} ${c}`:c).join(`
`);await navigator.clipboard.writeText(i),V("Make/Model text copied to clipboard.")},[t.makeModels]);return o.jsx(W,{title:"Copy Make/Model Text",arrow:!0,disableFocusListener:!0,children:o.jsx(O,{onClick:e,children:o.jsx(se,{})})})}const Fe="data:image/png;base64,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";function Je(t){const{columns:e,media:i,initiallyOpen:r,openIndex:c,onOpenImage:g,onCloseImage:L,onBackButton:l,shareParams:s}=t,{isMobile:u}=K(),[f,m]=a.useState(r),p=a.useCallback(d=>()=>window.open(d,"_blank","noopener,noreferrer"),[]),n=a.useCallback(d=>()=>{g(d),m(!0)},[g]),y=a.useCallback(()=>{L(),m(!1)},[L]);a.useEffect(()=>{const d=()=>{if(l){const I=l();return m(I)}return m(!1)};return addEventListener("hashchange",d),()=>removeEventListener("hashchange",d)});const h=e??(u?2:3);return o.jsxs(F.Fragment,{children:[f&&o.jsx(te,{media:i,openIndex:c,onOpenImage:g,onClose:y,shareParams:s}),o.jsx(ye,{variant:"masonry",cols:h,sx:{marginTop:2},children:i.map(({title:d,subtitle:I,thumbnailUrl:k,fullUrl:C,subtitleUrl:M},w)=>o.jsxs(we,{style:{marginBottom:8},children:[o.jsx("img",{src:k,alt:d,style:{paddingBottom:I?60:48,cursor:"pointer"},onClick:n(w)}),(C==null?void 0:C.match(/youtube\.com/))&&o.jsx("img",{src:Fe,alt:d,style:{alignItems:"center",position:"absolute",top:"calc(50% - 65px)",left:"calc(50% - 40px)",width:80,height:80,cursor:"pointer"},onClick:p(C)}),o.jsx(Te,{title:d,subtitle:I&&o.jsx("a",{href:M||oe[I],target:"_blank",rel:"noopener noreferrer",children:I}),actionIcon:C&&o.jsx(W,{title:"View Full Size",arrow:!0,disableFocusListener:!0,children:o.jsx(O,{href:C,style:{color:"rgba(255, 255, 255, 0.5)"},target:"_blank",rel:"noopener noreferrer",children:o.jsx(ne,{})})})})]},w))})]})}const Q={safelocksOwn:"Own",safelockCracked:"Cracked",safelockWishlist:"Wishlist"};function We(){const{filters:t,filterCount:e,removeFilter:i,filterFieldsByFieldName:r}=a.useContext(E),c=a.useCallback((l,s)=>()=>{i(l,s)},[i]),g=a.useMemo(()=>{const{search:l,id:s,tab:u,name:f,sort:m,image:p,...n}=t;return Object.keys(n).map(y=>{const h=t[y];return Array.isArray(h)?h.map(d=>({key:y,value:d})):{key:y,value:h}}).flat()},[t]),L=a.useCallback((l,s)=>l==="Belt"?s==="Unranked"?l:s.includes("Black")?s.replace(/(Black)\s(\d+)/,"$1 Belt $2"):s+" Belt":l==="UL Group"?"Group "+s:l==="Wheels"?`${s} Wheels`:Q[s]?Q[s]:s,[]);return e===0?null:o.jsx(ae,{name:"Current Filters",style:{marginBottom:0},value:o.jsx(X,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:g.map(({key:l,value:s},u)=>{var f;return o.jsx(z,{label:`${L((f=r[l])==null?void 0:f.label,s)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:c(l,s)},u)})})})}function Ze({profile:t={},collectionType:e}){const{userId:i}=Y(),{filters:r,filterCount:c,addFilter:g}=a.useContext(E),[L,l]=F.useState(!1),s=B[e].labels,u=B[e].keyByLabel,f=B[e].getCollected(t)||[],{isMobile:m}=K(),p=m?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},{collection:n=i&&c===0?"Any":null}=r,y=s.includes(n)&&c<2;let h="";n&&(typeof n=="string"?h=n:h="Any");const d=a.useCallback(()=>l(!1),[]),I=a.useCallback(()=>l(!0),[]),k=a.useCallback(C=>{g("collection",C.target.value,!0)},[g]);return!c&&!i?null:o.jsx(J,{style:p,sx:{paddingBottom:0,paddingTop:2},children:o.jsxs(Z,{style:{paddingTop:0,paddingLeft:8},children:[y&&o.jsxs("div",{style:{display:"flex"},children:[o.jsxs(le,{fullWidth:!0,size:"small",color:"secondary",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:[o.jsx(ce,{id:"label",children:"Collection"}),o.jsx(me,{name:"collection-selector",label:"Collection",open:L,onClose:d,onOpen:I,value:h,onChange:k,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},color:"secondary",children:s.map((C,M)=>{var w;return o.jsxs(v,{value:C,children:[C," (",C==="Any"?f.length:((w=t[u[C]])==null?void 0:w.length)||0,")"]},M)})})]}),o.jsx("div",{style:{flexGrow:1,marginTop:2,marginLeft:15},children:o.jsx(re,{})})]}),!y&&o.jsx(We,{})]})})}export{Ye as C,Ge as F,Ze as I,Je as a,Xe as b};
