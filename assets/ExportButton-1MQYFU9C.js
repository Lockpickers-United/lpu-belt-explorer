import{j as e,a4 as le,X as ae,Y as D,ap as ce,T as oe,al as de,r as n,b as xe,J as E,I as L,O as A,P as q,Q as $,U as P,K as _,ax as pe,R as S,B as w,A as ue,D as me,u as he,ay as fe,av as ge,az as je,aA as ve,aB as U,ai as be,$ as I,M as W,ad as ke,ae as B,ao as N}from"./index-8GBFFKw6.js";import{B as te}from"./BeltStripe-D3DC0vxC.js";import{C as ne,H as Ce,s as ye}from"./EvidenceForm-CGVlelRN.js";import{e as O}from"./entryName-DEgLjm3R.js";import{L as we}from"./ListItem-uuLx0geo.js";import{E as Se}from"./ExpandMore-cv9BWlji.js";import{F as y}from"./FieldValue-BjdQdeW6.js";import{B as ie}from"./BeltIcon-CwxCa1Vl.js";import{F as J}from"./InlineFilterDisplay-Dqeg-RYy.js";import{C as Le}from"./CopyLinkToEntryButton-DNqXOLIr.js";import{C as Ie}from"./CopyEntryTextButton-boiI9VEA.js";import{L as Ee}from"./LockImageGallery-DODtoeb9.js";import{D as H}from"./DataContext-xNgLTksL.js";import"./index-C3SfTRj-.js";import{D as re}from"./Dialog-iJtPt4uA.js";import{F as Me}from"./FormGroup-BNic5tBC.js";import{C as Te}from"./Checkbox-C8eS0IeC.js";import{L as R}from"./Link-Da88Wl6i.js";import{C as Fe}from"./Cancel-C8W4g3Ij.js";import{T as ze}from"./TextField-BXuzRXaI.js";import{A as De,a as Oe,b as We}from"./AccordionSummary-NyWmkrAt.js";import{M as K}from"./index-DbY81Wkl.js";import{r as Q}from"./index-DUAB4RGF.js";import{A as Be}from"./AccordionActions-BYiKvToW.js";import{d as X,F as G,C as Ne}from"./download-5ivWBuaX.js";import{L as _e}from"./List-Dt9jRmOv.js";import{C as Re}from"./ContentCopy-CGrv8642.js";function zs({entries:s}){return e.jsxs(le,{style:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},children:[e.jsx(ae,{dense:!0,style:{padding:0},children:s.map(o=>e.jsxs(we,{style:{minHeight:64,borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:[e.jsx(te,{value:o.belt}),e.jsx(D,{primary:O(o),primaryTypographyProps:{fontWeight:500},secondary:o.version,style:{padding:"0px 0px 0px 10px"}}),e.jsx(ne,{id:o.id,dense:!0,exposed:!0})]},o.id))}),e.jsx(ce,{}),e.jsx(oe,{feature:"compact"})]})}function Ae({belt:s}){const{danPoints:o}=de[s],t=o===1?"Point":o>=10?"Pts":"Points",p=` (${o} Dan ${t})`,l={textDecoration:"none",color:"#fff"};return o===0||s==="Unranked"?null:e.jsx("a",{style:l,href:"/#/dans",children:p})}function qe({id:s,onExpand:o,entryId:t}){const{getEntryFromId:p}=n.useContext(H),l=n.useMemo(()=>p(s),[p,s]),u=xe(),a=n.useCallback(async()=>{u(`/locks?id=${s}`),o(s)},[s,u,o]),f=s===t?{border:"1px solid #777"}:{},c=s===t;return e.jsx(E,{title:l.version,arrow:!0,disableFocusListener:!0,children:e.jsx("span",{children:e.jsx(L,{onClick:a,style:f,disabled:c,children:e.jsx(ie,{value:l.belt,related:!0,disabled:c})})})})}var M={},Y;function $e(){if(Y)return M;Y=1;var s=A();Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;var o=s(q()),t=$();return M.default=(0,o.default)((0,t.jsx)("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21m6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38"}),"Fingerprint"),M}var Pe=$e();const He=P(Pe);function Ve({entry:s}){const o=n.useCallback(async()=>{await navigator.clipboard.writeText(s.id),_("ID copied to clipboard.")},[s.id]);return e.jsx(E,{title:"Copy Entry Id",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:o,children:e.jsx(He,{color:"primary"})})})}var T={},Z;function Ge(){if(Z)return T;Z=1;var s=A();Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var o=s(q()),t=$();return T.default=(0,o.default)((0,t.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),T}var Ue=Ge();const Je=P(Ue);function Ke({entry:s,nameType:o}){const t=n.useCallback(()=>{const l=O(s,o).replace(/[\s/]/g,"_").replace(/\W/g,""),u=`https://lpubelts.com/#/locks?tab=search&search=${s.id}&id=${s.id}&name=${l}`,a=window.open(u,"_blank","noopener,noreferrer");a&&(a.opener=null)},[s,o]);return e.jsx(E,{title:"Open Link to Entry in New Tab",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:t,children:e.jsx(Je,{color:"primary"})})})}var F={},ee;function Qe(){if(ee)return F;ee=1;var s=A();Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var o=s(q()),t=$();return F.default=(0,o.default)((0,t.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer"),F}var Xe=Qe();const Ye=P(Xe);function Ze({entry:s,buttonType:o="text",nameType:t}){const{lockbazzarAvailable:p}=n.useContext(H),[l,u]=n.useState(!1),[a,f]=pe("showLpulocksDialog",!0),c=p(s.id),d=n.useCallback(()=>{u(!l)},[l]),k=n.useCallback(()=>{f(!a)},[f,a]),v=n.useCallback(x=>{const C=O(s,t).replace(/[\s/]/g,"_").replace(/\W/g,""),i="https://lpulocks.com/#/lockbazaar",r=x?`?search=${s.id}&name=${C}`:"",m=window.open(`${i}${r}`,"_blank","noopener,noreferrer");m&&(m.opener=null),u(!1)},[s,t]),h=n.useCallback(()=>{a||!c?d():v(s.id)},[s.id,c,v,a,d]),b=c?"#38b9f6":"#777";return e.jsxs(S.Fragment,{children:[o==="icon"?e.jsx(E,{title:"lock-bazaar listings available",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:d,style:{marginRight:20,color:b},children:e.jsx(Ye,{})})}):e.jsx(w,{onClick:h,color:"info",variant:"outlined",sx:{textTransform:"none"},style:{margin:4,color:b,borderColor:b},children:"lpulocks.com"}),e.jsxs(re,{open:l,onClose:d,componentsProps:{backdrop:{style:{backgroundColor:"#000",opacity:.6}}},children:[e.jsx("div",{style:{textAlign:"right",padding:10},children:e.jsx(L,{onClick:d,style:{padding:0,margin:0},children:e.jsx(Ce,{sx:{cursor:"pointer"}})})}),c?e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"Listings of this lock for sale may be available at our sister site, lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. Neither lpubelts.com nor lpulocks.com are not vouching for the sellers, please take appropriate precautions as you would with any private purchase. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{}),"Click below to leave lpubelts.com and view listings."]}),e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(Me,{control:e.jsx(Te,{color:"info",size:"small",checked:a===!1,onChange:k}),label:"Don't show this again"}),e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:()=>v(s.id),style:{margin:"8px 0px 3px 0px",height:32},children:"VIEW LISTINGS FOR THIS LOCK"})]})]}):e.jsxs("div",{style:{maxWidth:450,textAlign:"left",padding:"0px 20px 20px 20px"},children:[e.jsx("div",{style:{fontSize:"1.1rem",lineHeight:"1.5rem",fontWeight:700,marginBottom:10},children:"No current for sale listings at lpulocks.com."}),e.jsxs("div",{style:{fontSize:"1.0rem",lineHeight:"1.4rem"},children:["Lpulocks.com has searchable listings from most of the major #lock-bazaar sellers on the LPU Discord. When this button is illuminated, you'll be able to click directly to listings for the lock. Please keep in mind that neither lpubelts.com nor lpulocks.com are not vouching for the sellers. Sellers maintain — and are solely responsible for — all listings.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:10,display:"flex",justifyContent:"center"},children:[e.jsx(w,{variant:"contained",size:"small",color:"info",onClick:d,style:{margin:"8px 0px 3px 0px",height:32},children:"CLOSE"}),e.jsx(w,{variant:"outlined",size:"small",color:"info",onClick:()=>v(void 0),style:{margin:"8px 0px 3px 10px",height:32},children:"Browse lpulocks.com"})]}),e.jsx(R,{onClick:()=>f(!0),style:{color:"#222",textDecoration:"none",cursor:"grab"},children:"-"})]})]})]})}function es({dialogContent:s,open:o,handleClose:t,width:p=350}){return e.jsxs(re,{open:o,onClose:t,sx:{".MuiDialog-paper":{backgroundColor:"transparent",backgroundImage:"none",padding:"12px",margin:"0px 0px 20px 0px",width:p}},children:[e.jsx("div",{style:{display:"flex",flexGrow:1,justifyContent:"flex-end",marginBottom:-15,marginRight:-10},children:e.jsx(L,{style:{padding:0,color:"#eee",backgroundColor:"#333"},onClick:t,children:e.jsx(Fe,{})})}),e.jsx("div",{style:{backgroundColor:"#666",borderRadius:4,boxShadow:"0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"},children:s})]})}function ss({entry:s}){const{isLoggedIn:o}=n.useContext(ue),{userLockNotes:t,updateProfileField:p}=n.useContext(me),l=t[s.id]||"",u=n.useCallback(async j=>{await p("userLockNotes",j),f(!1)},[p]),[a,f]=n.useState(!1),c=n.useCallback(()=>{f(!0)},[]),d=n.useCallback(()=>{f(!1),v(l)},[l]),[k,v]=n.useState(l);n.useEffect(()=>{v(l||"")},[l]);const h=j=>{v(ye(j.target.value,{urlsOK:!0}))},b=n.useCallback(async()=>{const j={...t,[s.id]:k||""};await u(j).catch(V=>{console.error("Error updating notes:",V)}),d()},[t,s.id,k,u,d]),x=n.useCallback(async()=>{const j={...t};delete j[s.id],await u(j).catch(V=>{console.error("Error removing notes:",V)}),d()},[s.id,d,u,t]),{isMobile:g}=he(),C={fontSize:"1.0rem",fontWeight:400,marginBottom:5,paddingLeft:2,color:"#fff"},i=g?"0.95rem":"1.0rem",r=g?5:3,m=e.jsx("div",{style:{display:"flex"},children:o?e.jsxs("div",{style:{flexGrow:1,maxWidth:550,padding:10},children:[e.jsxs("div",{style:{marginTop:10,display:"flex"},children:[e.jsx("div",{style:{...C,flexGrow:1,fontWeight:700},children:"My Notes"}),e.jsxs("div",{style:{...C,color:"#aaa",fontSize:"0.85rem"},children:[k.length||0,"/1200"]})]}),e.jsx(ze,{type:"text",name:"notes",multiline:!0,fullWidth:!0,rows:r,value:k,onChange:h,id:"notes",color:"info",style:{},placeholder:"Add additional notes about this entry",variant:"outlined",autoFocus:!0,inputProps:{maxLength:1200,style:{fontSize:i}}}),e.jsxs("div",{style:{flexGrow:1,textAlign:"right",marginTop:8},children:[e.jsx(w,{variant:"text",size:"small",onClick:d,children:"Cancel"}),e.jsx(w,{variant:"text",size:"small",onClick:b,color:"success",children:"Save"})]})]}):e.jsxs("div",{style:{flexGrow:1,padding:"40px 20px",placeItems:"center"},children:[e.jsxs("div",{style:{...C,marginBottom:15,fontWeight:700,textAlign:"center"},children:["Please sign in to add your",e.jsx("br",{}),"own notes for locks."]}),e.jsx("div",{style:{width:210},children:e.jsx(fe,{onClick:d})})]})});return e.jsxs(S.Fragment,{children:[(l==null?void 0:l.length)>0?e.jsxs("div",{style:{fontWeight:700,marginTop:15},children:[e.jsxs("div",{style:{display:"flex"},children:[e.jsx("span",{style:{marginTop:-.6},children:"My notes  "}),e.jsx(R,{style:{fontWeight:400,color:"#2bb259"},onClick:c,children:"edit"})," • ",e.jsx(R,{style:{fontWeight:400,color:"#2bb259"},onClick:x,children:"remove"})]}),e.jsx("div",{style:{fontSize:i,marginLeft:10,fontWeight:400,fontStyle:"italic"},children:l})]}):e.jsx("div",{style:{fontWeight:700,marginTop:15},children:e.jsx(R,{style:{fontWeight:400,color:"#2bb259"},onClick:c,children:"Add your own notes"})}),e.jsx(es,{dialogContent:m,open:a,handleClose:d,width:g?350:550})]})}function os({entry:s,expanded:o,onExpand:t}){var h,b,x,g,C;const{expandAll:p}=n.useContext(H),{userId:l}=ge(),[u,a]=n.useState(!1),f={maxWidth:700,marginLeft:"auto",marginRight:"auto"},c=n.useRef(null),d=[...new Set([...s.relatedIds||[],...je(s.id)])].sort((i,r)=>ve(U[i].belt,U[r].belt)||i.localeCompare(r)),k=n.useCallback((i,r)=>{t&&t(r?s.id:!1)},[s,t]);n.useEffect(()=>{if(o&&c&&!u&&!p){const r=window.innerWidth<=600?70:74,{id:m}=be.parse(location.search),j=m===s.id;a(!0),setTimeout(()=>{window.scrollTo({left:0,top:c.current.offsetTop-r,behavior:j?"auto":"smooth"})},j?0:100)}else o||a(!1)},[o,s,u,p]);const v=n.useMemo(()=>{var i;return e.jsx(I,{direction:"column",spacing:0,sx:{flexWrap:"wrap"},children:(i=s.makeModels)==null?void 0:i.map(({make:r,model:m},j)=>e.jsx(W,{style:{fontWeight:500,fontSize:"1.07rem",lineHeight:1.25,marginBottom:"4px"},children:r&&r!==m?`${r} ${m}`:m},j))})},[s.makeModels]);return e.jsxs(De,{expanded:o,onChange:k,style:f,ref:c,children:[e.jsxs(Oe,{expandIcon:e.jsx(Se,{}),children:[e.jsx(te,{value:s.belt}),e.jsxs("div",{style:{margin:"12px 0px 8px 8px",width:"55%",flexShrink:0,flexDirection:"column"},children:[e.jsx(y,{value:v,textStyle:s.belt==="Unranked"?{color:"#aaa",marginLeft:"0px"}:{marginLeft:"0px"},style:{marginBottom:"2px"}}),!!s.version&&e.jsx(y,{name:"Version",value:e.jsx(W,{style:{fontSize:"0.95rem",lineHeight:1.25},children:s.version}),textStyle:s.belt==="Unranked"?{color:"#aaa"}:{}})]}),e.jsx("div",{style:{margin:"8px 0px 0px 0px",width:"40%",flexShrink:0,flexDirection:"column"},children:((h=s.lockingMechanisms)==null?void 0:h.length)>0&&e.jsx(y,{value:e.jsx(I,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:(b=s.lockingMechanisms)==null?void 0:b.map((i,r)=>e.jsx(J,{value:i,field:"lockingMechanisms"},r))})})})]}),o&&e.jsxs(S.Fragment,{children:[e.jsxs(We,{sx:{padding:"8px 16px 0px 16px"},children:[e.jsxs(I,{direction:"row",spacing:1,sx:{width:"100%",flexWrap:"wrap"},children:[e.jsx(y,{style:{width:"50%",marginLeft:"0px"},value:e.jsxs(S.Fragment,{children:[e.jsxs(W,{style:{marginLeft:"0px",fontSize:"1rem",lineHeight:1.25,fontWeight:500},children:[s.belt,e.jsx(Ae,{belt:s.belt})]}),e.jsx(ie,{value:s.belt,style:{marginBottom:-10}})]})}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsx(ne,{id:s.id,makeModels:s.makeModels})})]}),!!s.notes&&e.jsx(I,{direction:"row",spacing:0,sx:{width:"100%",flexWrap:"wrap"},children:e.jsx(y,{name:"Comments",value:e.jsx(W,{component:"div",style:{marginTop:-16},children:e.jsx(K,{rehypePlugins:[[Q,{target:"_blank"}]],children:s.notes})})})}),!!((x=s.features)!=null&&x.length)&&e.jsx(y,{name:"Features",value:e.jsx(I,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},children:s.features.map((i,r)=>e.jsx(J,{value:i,field:"features"},r))})}),(d==null?void 0:d.length)>1&&!l&&e.jsx(y,{name:"Other Versions",value:e.jsx(S.Fragment,{children:d.map(i=>e.jsx(qe,{id:i,onExpand:t,entryId:s.id},i))})}),!!s.description&&e.jsx("div",{style:{margin:8},children:e.jsx(K,{rehypePlugins:[[Q,{target:"_blank",rel:["nofollow","noopener","noreferrer"]}]],children:s.description})}),e.jsx("div",{style:{margin:"12px 0px 20px 6px"},children:e.jsx(ss,{entry:s})}),!!((g=s.media)!=null&&g.length)&&e.jsx(y,{value:e.jsx(Ee,{entry:s})}),e.jsxs("div",{style:{display:"flex"},children:[!!((C=s.links)!=null&&C.length)&&e.jsx(y,{name:"Links",value:e.jsx(I,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:s.links.map(({title:i,url:r},m)=>e.jsx(w,{href:r,target:"_blank",rel:"noopener noreferrer",color:"secondary",variant:"outlined",sx:{textTransform:"none"},style:{margin:4},children:i},m))})}),e.jsx(y,{name:"For sale",style:{marginLeft:15},value:e.jsx(Ze,{entry:s,buttonType:"text"})})]})]}),e.jsx(Be,{disableSpacing:!0,children:e.jsxs("div",{style:{display:"flex",width:"100%"},children:[e.jsxs("div",{style:{flexGrow:1,justifyItems:"left"},children:[!p&&e.jsx(oe,{feature:"lock",id:s.id}),e.jsx(Ve,{entry:s}),e.jsx(Ke,{entry:s})]}),e.jsxs("div",{style:{display:"flex"},children:[e.jsx(Ie,{entry:s}),e.jsx(Le,{entry:s})]})]})})]})]})}const Ds=S.memo(os,(s,o)=>s.entry.id===o.entry.id&&s.expanded===o.expanded&&s.onExpand===o.onExpand);var z={},se;function ts(){if(se)return z;se=1;var s=A();Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var o=s(q()),t=$();return z.default=(0,o.default)((0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),z}var ns=ts();const Os=P(ns);function Ws({text:s,entries:o}){const[t,p]=n.useState(null),l=!!t,u=n.useCallback(h=>p(h.currentTarget),[]),a=n.useCallback(()=>p(null),[]),{visibleEntries:f}=n.useContext(H),c=o||f,d=n.useCallback(()=>{const h=JSON.stringify(c);a(),X("lpubeltsdata.json",h),_("Current lock entries downloaded as lpubeltsdata.json")},[a,c]),k=n.useCallback(()=>{const b=c.map(x=>({id:x.id,make:x.makeModels.map(g=>g.make).join(","),model:x.makeModels.map(g=>g.model).join(","),version:x.version,belt:x.belt,name:O(x),versionText:x.version?" ("+x.version+")":""})).map(x=>"* "+x.name+x.versionText).join(`
`);a(),navigator.clipboard.writeText(b).then(),_("Current lock entries copied to clipboard.")},[a,c]),v=n.useCallback(()=>{const h=["id","name","version","belt"],b=c.map(i=>({id:i.id,make:i.makeModels.map(r=>r.make).join(","),model:i.makeModels.map(r=>r.model).join(","),version:i.version,belt:i.belt,name:O(i)})),x=h.join(","),g=b.map(i=>h.map(r=>i[r]).map(r=>{const m=`${r??""}`.replace(/"/g,'""');return/(\s|,|")/.test(m)?`"${m}"`:m}).join(",")).join(`
`),C=`${x}
${g}`;a(),X("lpubeltsdata.csv",C),_("Current lock entries downloaded as lpubeltsdata.csv")},[a,c]);return e.jsxs(S.Fragment,{children:[s?e.jsx(E,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(w,{variant:"outlined",size:"small",onClick:u,style:{color:"#ddd",borderColor:"#aaa"},startIcon:e.jsx(G,{}),children:"Export"})}):e.jsx(E,{title:"Export",arrow:!0,disableFocusListener:!0,children:e.jsx(L,{onClick:u,children:e.jsx(G,{})})}),e.jsxs(ke,{anchorEl:t,open:l,onClose:a,children:[!s&&e.jsxs(B,{disabled:!0,children:[e.jsx(N,{children:e.jsx(G,{fontSize:"small"})}),e.jsx(D,{children:"Export"})]}),e.jsxs(B,{onClick:k,children:[e.jsx(N,{children:e.jsx(Re,{fontSize:"small"})}),e.jsx(D,{children:"Copy to clipboard"})]}),e.jsxs(B,{onClick:v,children:[e.jsx(N,{children:e.jsx(_e,{fontSize:"small"})}),e.jsx(D,{children:"CSV"})]}),e.jsxs(B,{onClick:d,children:[e.jsx(N,{children:e.jsx(Ne,{fontSize:"small"})}),e.jsx(D,{children:"JSON"})]})]})]})}export{Os as C,Ds as E,zs as a,Ws as b};
