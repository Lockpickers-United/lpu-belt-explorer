import{O as z,P as D,Q as E,U as _,a6 as A,r as t,F as M,u as O,Z as J,bs as L,j as e,R as H,J as C,I as j,ac as Q}from"./index-CrX8kf2q.js";import{S as b,I as k}from"./Search-Bx4oip80.js";import{B as U}from"./Sort-Cumgofpx.js";import{T as V}from"./TextField-CEKQZHvp.js";var i={},S;function Z(){if(S)return i;S=1;var l=z();Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=l(D()),c=E();return i.default=(0,h.default)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),i}var $=Z();const G=_($);function ee({label:l,extraFilters:h=[],keepOpen:c}){const[u]=A(),{addFilters:m,removeFilter:x,isFiltered:p}=t.useContext(M),[o,f]=t.useState(u.get("search")||""),{isMobile:n,width:y}=O(),R=y<=500,r=t.useRef();J("s",()=>{var a;return(a=r==null?void 0:r.current)==null?void 0:a.focus()},{preventDefault:!0});const T=t.useCallback(()=>{window.scrollTo({top:0}),f(""),x("search",""),r.current.focus()},[x]),I=t.useCallback(a=>{const{value:W}=a.target;f(W)},[]),s=L(o.replaceAll("	"," "),250);t.useEffect(()=>{s&&s!==u.get("search")?s?(window.scrollTo({top:0}),m([{key:"search",value:s},{key:"id",value:void 0},{key:"name",value:void 0},...h],!0)):(console.log("SearchBox: debounceText is empty"),m([{key:"search",value:s}],!0)):s||x("search","")},[s]);const[d,g]=t.useState(!1),v=t.useCallback(()=>setTimeout(()=>g(!1),0),[]),w=t.useCallback(()=>{g(!0),setTimeout(()=>{r.current.focus(),r.current.select()},0)},[]);t.useEffect(()=>{const a=u.get("search");a!==o&&f(a||"")},[u]);const F=o?e.jsx(k,{position:"end",children:e.jsx(C,{title:"Clear",arrow:!0,disableFocusListener:!0,children:e.jsx(j,{color:"inherit",onClick:T,edge:"end",size:"small",children:e.jsx(G,{})})})}):null,B=n?{maxWidth:450,marginTop:8,marginRight:8}:{maxWidth:450,marginTop:6,marginRight:8},q=d&&n?{width:"auto",position:"fixed",left:50,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{},P=o?"secondary":"inherit";return e.jsxs(H.Fragment,{children:[!d&&n&&!c&&!p&&e.jsx(C,{title:"Search",arrow:!0,disableFocusListener:!0,children:e.jsx(j,{color:"inherit",onClick:w,children:e.jsx(U,{invisible:o.length===0,variant:"dot",color:"secondary",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(b,{})})})}),(d||!n||c||p)&&e.jsx(V,{placeholder:R?l:`Search ${l}`,InputProps:{inputProps:{ref:r},startAdornment:e.jsx(k,{position:"start",children:e.jsx(b,{color:P})}),endAdornment:F},variant:"standard",color:"secondary",onChange:I,onBlur:v,value:o,style:{...B,...q},fullWidth:!0}),e.jsx(Q,{invisible:!0,open:d&&n,onClick:v})]})}export{ee as S};
