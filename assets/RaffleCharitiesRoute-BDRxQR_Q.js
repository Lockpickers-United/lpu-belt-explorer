import{r as i,F as A,j as e,u as R,L as j,R as C,e as T,N as W,h as z,T as L}from"./index-C8JhLQMS.js";import{c as N}from"./filterFields-5nGkCWxa.js";import{u as B}from"./usePageTitle-Bsqu3bvE.js";import{f as D,D as w}from"./DataContext-DtyHY-ya.js";import{r as H}from"./index-DTPTfajd.js";import{R as k,A as E}from"./AdminRoleButton-CStiF91I.js";import{f as M}from"./filterEntries-BBFZIbGW.js";import{N as P}from"./NoEntriesCard-6Ky7RU68.js";import{a as S,b as g,c as I,d as U,T as G,e as _}from"./TableRow-DoM-CoJh.js";import{R as K}from"./RaffleSearchBar-XL6aX3PI.js";import{R as V}from"./RaffleHiddenDialog-DV092f9W.js";import{R as $}from"./RaffleHeader-zB7NBFDL.js";import{R as q}from"./ReportButton-Co2J2mxh.js";import"./useData-D3hwABwS.js";import"./dataUrls-DkJe4Pqg.js";import"./setDeep-J6HEwWhX.js";import"./LockListContext--idUegJi.js";import"./entryName-vfkDiRQM.js";import"./SearchBox-D2nJKnLF.js";import"./Search-C2uwngQd.js";import"./Select-CCmFDX8s.js";import"./Sort-Dy8Qospc.js";import"./Chip-DmtbpHxl.js";import"./TextField-CtpLr4Ee.js";import"./ViewFilterButtons-C5EU0XKR.js";import"./FilterAlt-DTdBqMpj.js";import"./HighlightOff-BrW22hxR.js";import"./Box-CVEEJ3yz.js";import"./ToggleButtonGroup-DRBT98SE.js";import"./filterEntriesAdvanced-B_LinbMH.js";import"./AddCircle-BxulxeOg.js";import"./Cancel-DLVosTtq.js";import"./Dialog-B7AugSet.js";function J({children:t}){const{filters:o}=i.useContext(A),{search:s,id:m,tab:d,name:n,sort:r,image:x,...l}=o,{allCharities:c}=i.useContext(k),p=i.useMemo(()=>{const u=M(l,c),y=s?D.go(H(s),u,{keys:O,threshold:-25e3}).map(f=>({...f.obj,score:f.score})):u;return r?y.sort((f,b)=>r==="potName"?f.title.localeCompare(b.title):r==="contributedBy"?f.contributedBy[0].localeCompare(b.contributedBy[0]):f.potNumber<b.potNumber):y},[c,l,s,r]),v=i.useMemo(()=>({allCharities:c,visibleEntries:p}),[c,p]);return e.jsx(w.Provider,{value:v,children:t})}const O=["fuzzy"];function Q({charity:t}){const{isMobile:o}=R(),{raflState:s,raffleAdminRole:m}=i.useContext(k),d=["live","post"].includes(s)||m,n=i.useCallback(c=>{const p=window.open(c,"_blank","noopener,noreferrer");p&&(p.opener=null)},[]),r=t.url?e.jsx(j,{onClick:()=>n(t.url),style:{color:"#fff",fontWeight:500},children:t.name}):e.jsx("span",{style:{color:"#ddd"},children:t.name}),x=o?"0.95rem":"1.0rem",l=o?{fontSize:x,border:0,padding:"6px 10px"}:{fontSize:x,border:0,padding:"8px 16px"};return e.jsxs(S,{sx:{"&:nth-of-type(even) td, &:nth-of-type(even) th":{backgroundColor:"#191919"},"td, th":{}},children:[e.jsx(g,{align:"left",style:l,children:r}),d&&e.jsxs(C.Fragment,{children:[e.jsx(g,{align:"center",style:l,children:t.donations2024>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations2024)}),e.jsx(g,{align:"center",style:l,children:t.donations>0&&new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t.donations)})]})]})}function X({charities:t}){const{isMobile:o}=R(),s=o?{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:8}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",padding:12},m=t?{borderBottom:"1px #555 solid"}:{},d=i.useCallback(n=>{const r=window.open(n,"_blank","noopener,noreferrer");r&&(r.opener=null)},[]);return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{...s,backgroundColor:"#333",minHeight:72,...m},children:[e.jsx("div",{style:{display:"flex",flexGrow:1,marginLeft:8,fontWeight:700,fontSize:"1.1rem"},children:"Los Angeles Wildfires"}),e.jsx("div",{style:{margin:"12px 20px 0px 8px"},children:"In light of the devastating wildfires in Los Angeles, we have added a number of California-based charities to our list of options. These vetted organizations are providing support to victims of the fires, their families, and the first-responders who are battling the blazes."})]}),e.jsx("div",{style:{padding:"16px 0px 0px 0px",backgroundColor:"#000"}}),t&&t.map(n=>e.jsx("div",{style:{margin:"0px 0px 0px 0px",padding:"3px 0px 2px 20px",backgroundColor:"#000"},children:n.url?e.jsx(j,{onClick:()=>d(n.url),style:{color:"#fff",fontWeight:500},children:n.name}):e.jsx("span",{style:{color:"#ddd"},children:n.name})},n.name)),e.jsx("div",{style:{padding:"24px 0px 0px 0px",backgroundColor:"#000"}})]})}function Y(){const{visibleEntries:t}=i.useContext(w),{raflState:o,raffleAdminRole:s}=i.useContext(k),m=["live","post"].includes(o)||s,{isMobile:d}=R(),n=i.useRef(),[r,x]=i.useState("name"),l=i.useCallback(a=>{a!==r&&x(a)},[x,r]),c=t.sort((a,h)=>{switch(r){case"2024":return h.donations2024-a.donations2024;case"2025":return h.donations-a.donations;case"name":return a.name.localeCompare(h.name);default:return a.name.localeCompare(h.name)}}),p=c.filter(a=>a.tags.includes("Los Angeles Wildfires")),v={maxWidth:700,marginLeft:"auto",marginRight:"auto"},u=d?"0.9rem":"1.0rem",y=d?"10px 10px":"16px 16px",f=o==="live"?"Currently":"Contributions",b=d?"2024":"2024 Contributions",F=d?"2025":`2025 ${f}`;return e.jsxs(C.Fragment,{children:[e.jsxs("div",{style:{paddingBottom:32},children:[e.jsx(X,{charities:p}),e.jsx(K,{label:"All Approved Charities",sortValues:null}),t.length===0&&e.jsx(P,{label:"Charities"}),t.length>0&&e.jsx(I,{sx:{height:"100%",backgroundColor:"#111"},id:"scrollable",ref:n,children:e.jsxs(U,{stickyHeader:!0,style:v,children:[e.jsx(G,{children:e.jsxs(S,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:u,lineHeight:"1.3rem",border:0,backgroundColor:"#222",padding:y},children:e.jsx(j,{onClick:()=>l("name"),style:{color:r==="name"?"#fff":"#ccc"},children:"Charity Name"})},"Charity Name"),m&&e.jsxs(C.Fragment,{children:[e.jsx(g,{style:{fontWeight:700,fontSize:u,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>l("2024"),style:{color:r==="2024"?"#fff":"#ccc"},children:b})},"2024"),e.jsx(g,{style:{fontWeight:700,fontSize:u,lineHeight:"1.3rem",border:0,backgroundColor:"#222",textAlign:"center"},children:e.jsx(j,{onClick:()=>l("2025"),style:{color:r==="2025"?"#fff":"#ccc"},children:F})},"2025")]})]})}),e.jsx(_,{children:c.map((a,h)=>e.jsx(Q,{charity:a},h))})]})})]}),e.jsx(V,{})]})}function Le(){B("RAFL Charities");const{isMobile:t}=R(),o=t?8:0,s={maxWidth:700,marginLeft:"auto",marginRight:"auto",paddingLeft:o,paddingRight:o},m=e.jsxs(C.Fragment,{children:[!t&&e.jsx("div",{style:{flexGrow:1,minWidth:"10px"}}),e.jsx(q,{}),e.jsx(E,{})]});return e.jsx(T,{filterFields:N,children:e.jsx(J,{children:e.jsxs("div",{style:s,children:[e.jsx(W,{title:"RAFL Charities",extras:m}),e.jsx($,{page:"charities"}),e.jsx(Y,{}),e.jsx(z,{}),e.jsx(L,{feature:"raflCharities"})]})})})}export{Le as default};
