import{O,P as _,Q as M,U as R,u as D,r as l,F as S,j as n,J as P,I as b,B as w,R as H,ae as V}from"./index-FNa-gQCu.js";import{D as z}from"./DataContext-myQcnNAG.js";import"./index-DPZ6ONIV.js";import{F as $,I as G,S as J}from"./Select-k7b8CmJ3.js";import{B as L}from"./Box-DHxiOX9N.js";import{C as Q}from"./Chip-t5Oscfoc.js";const u={safelocksOwn:"Own",safelockCracked:"Cracked",safelockWishlist:"Wishlist",shippingSplit:"Shipping included",shippingNotSplit:"Winner may pay shipping"};var p={},A;function U(){if(A)return p;A=1;var o=O();Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var r=o(_()),a=M();return p.default=(0,r.default)((0,a.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll"),p}var K=U();const N=R(K);function ae({forceText:o}){const{isMobile:r}=D(),{filterCount:a,clearFilters:c}=l.useContext(S);return a===0?null:r&&!o?n.jsx(P,{title:"Clear Filters",arrow:!0,disableFocusListener:!0,children:n.jsx(b,{onClick:c,children:n.jsx(N,{})})}):n.jsx(w,{variant:"outlined",color:"inherit",onClick:c,style:{minWidth:120,marginRight:8},children:"ClearÂ Filters"})}function ue({label:o,fieldName:r,onFilter:a,sort:c,tab:f}){const{visibleEntries:h}=l.useContext(z),{filters:T}=l.useContext(S),g=l.useMemo(()=>f==="search"||!f?h:h.filter(e=>e.simpleBelt===f),[f,h]),[W,m]=l.useState(!1),E=l.useCallback(e=>{m(!1),setTimeout(()=>a(r,e.target.value,!0),0),setTimeout(()=>document.activeElement.blur())},[r,a]),j=l.useCallback(()=>{m(!1),setTimeout(()=>document.activeElement.blur())},[]),k=l.useCallback(()=>m(!0),[]),{counts:q,options:B}=l.useMemo(()=>{const e=g.map(s=>s[r]).flat().filter(s=>s),t=e.reduce((s,i)=>(s[i]||(s[i]=0),s[i]++,s),{}),C=[...new Set(e)].sort((s,i)=>{if(c)return c(s,i);if(typeof s=="string"&&typeof i=="string")return s.localeCompare(i);if(Number.isInteger(s)&&Number.isInteger(i))return s-i});return{counts:t,options:C}},[g,r,c]),F=l.useDeferredValue(T),x=F[r],I=Array.isArray(x)?F[r]:x?[x]:[],y=[...I.reduce((e,t)=>[...e,t.startsWith("!")?t:null],[]).filter(e=>e),...B];return n.jsx(H.Fragment,{children:y.length===0?null:n.jsxs($,{style:{minWidth:120,maxWidth:300,marginTop:8},fullWidth:!0,children:[n.jsx(G,{id:`filter-${r}`,color:"secondary",children:o}),n.jsx(J,{multiple:!0,label:o,labelId:`filter-${r}`,value:I,onChange:E,style:{marginBottom:0},color:"secondary",open:W,onClose:j,onOpen:k,onBlur:j,MenuProps:{PaperProps:{style:{maxHeight:X*8+Y}}},renderValue:e=>n.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(t=>{const C=t.startsWith("!")?"NOT "+(u[t.slice(1)]?u[t.slice(1)]:t.slice(1)):u[t]?u[t]:t;return n.jsx(Q,{label:C},t)})}),children:y.map((e,t)=>n.jsx(V,{value:e,children:e.startsWith("!")?"NOT "+(u[e.slice(1)]?u[e.slice(1)]:e.slice(1)):u[e]?u[e]:e+` (${q[e]||0})`},t))})]})})}const X=48,Y=8;var d={},v;function Z(){if(v)return d;v=1;var o=O();Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=o(_()),a=M();return d.default=(0,r.default)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),d}var ee=Z();const ce=R(ee);export{ae as C,ce as F,ue as a,u as f};
