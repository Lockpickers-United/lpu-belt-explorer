import{u as H,r as m,au as S,j as t,R as B,aa as V,aj as $}from"./index-82d5b6e2.js";import{I as C,d as O}from"./Search-dbb234e9.js";import{e as k}from"./entryName-96794703.js";import{B as R}from"./BeltStripeMini-5faa026a.js";import{A as w}from"./Autocomplete-35c4fbf4.js";import{T as W}from"./TextField-af3d17dd.js";function D({handleChangeLock:c,allEntries:a,disabled:p,reset:f=!1}){const u={maxWidth:700},{isMobile:i}=H(),n=m.useRef(),h=m.useMemo(()=>{let e={};return{allLocks:a==null?void 0:a.sort((s,o)=>{S(s.belt,o.belt)||k(s,"short").localeCompare(k(o,"short"))}).reduce((s,o)=>{const I=o.version?" - "+o.version:"";return o.makeModels.map(d=>{const b=d.make?d.make:d.model,j=d.make?` ${d.model}`:"",g=`${b}${j}${I}`;s.push({id:o.id,lockName:g,make:b,model:j})}),s},[]).filter(s=>s),lockNames:e}},[a]),{allLocks:r,lockNames:x}=h,N=r.filter((e,l)=>r.findIndex(s=>s.lockName===e.lockName)!==l),v=r==null?void 0:r.map(e=>(e.lockName=N.find(l=>l.lockName===e.lockName)?e.lockName+` (${a.find(l=>l.id===e.id).belt})`:e.lockName,e)).map(e=>(x[e.lockName]=`${e.make}${e.model}`,{label:e.lockName,id:e.id,belt:a.find(l=>l.id===e.id).belt})),L=m.useCallback((e,l)=>{c(l?{lockFullName:l.label,lockName:x[l.label],lockId:l.id}:{})},[x,c]),[M,z]=m.useState(!1),y=m.useCallback(()=>z(!1),[]);return t.jsxs(B.Fragment,{children:[t.jsx(w,{disabled:p,selectOnFocus:!0,clearOnEscape:!0,handleHomeEndKeys:!0,fullWidth:!0,style:u,options:v,onChange:L,renderInput:e=>t.jsx(W,{...e,placeholder:"Search Locks",variant:"standard",color:"info",inputRef:n,InputProps:{...e.InputProps,startAdornment:t.jsx(C,{position:"start",children:t.jsx(O,{})})}}),isOptionEqualToValue:(e,l)=>e.label===l.label,getOptionLabel:e=>e.label,renderOption:(e,l)=>{const{key:s,...o}=e;return t.jsxs("div",{...o,style:{...e.style,height:34,padding:0,overflow:"elipsis",whiteSpace:"nowrap",color:l.belt==="Unranked"?"#aaa":"#fff",fontSize:"0.95rem"},children:[t.jsx(R,{value:l.belt,style:{marginRight:10}}),l.label]},s)}},f||p),t.jsx(V,{invisible:!0,open:M&&i,onClick:y})]})}function K({value:c,style:a,related:p,disabled:f}){const u=parseInt(c.slice(-1))>1?parseInt(c.slice(-1)):"",{color:i,lineColor:n="#010101"}=$[c];if(c==="Unranked")return null;const h=f?"#bbb":"#fff";return t.jsxs("div",{style:{position:"relative",minWidth:32,height:32},children:[t.jsx("div",{style:{display:"inline-block",minWidth:32,height:32,...a,position:"absolute",top:0,left:1},children:t.jsxs("svg",{x:"0",y:"0",viewBox:"0 -2 32 32",children:[t.jsx("path",{d:"M10.91 25.6c-.23 0-.46-.06-.65-.18l-4.47-2.73c-.6-.37-.79-1.15-.43-1.74l7.02-11.51c.23-.37.64-.6 1.08-.6.23 0 .46.06.65.18l4.48 2.73c.29.18.49.45.57.78s.03.67-.15.95l-7.02 11.51c-.23.38-.64.61-1.08.61z",fill:i}),t.jsx("path",{d:"M13.46 9.4c.12 0 .25.03.36.1l4.47 2.73c.33.2.43.63.23.96L11.5 24.7a.704.704 0 0 1-.96.23L6.07 22.2a.698.698 0 0 1-.23-.96l7.02-11.51a.73.73 0 0 1 .6-.33m0-1.13c-.63 0-1.23.33-1.56.87L4.88 20.65c-.25.42-.33.91-.22 1.38.11.47.41.88.82 1.13l4.47 2.73c.29.17.61.27.95.27.63 0 1.23-.33 1.56-.87l7.02-11.51c.25-.42.33-.91.22-1.38-.11-.47-.41-.88-.82-1.13l-4.47-2.73a1.75 1.75 0 0 0-.95-.27z",fill:n}),t.jsx("path",{d:"M17.57 22.37c-.48 0-.91-.26-1.12-.69L10.33 9.66c-.15-.3-.18-.64-.07-.96.1-.32.33-.58.63-.73l4.86-2.47a1.257 1.257 0 0 1 1.7.55l6.12 12.02c.31.62.07 1.38-.55 1.7l-4.86 2.47c-.19.08-.39.13-.59.13z",fill:i}),t.jsx("path",{d:"M16.31 5.92c.25 0 .5.14.62.38l6.12 12.02c.17.34.04.76-.3.94l-4.86 2.47c-.1.05-.21.08-.31.08-.25 0-.5-.14-.62-.38L10.84 9.41a.707.707 0 0 1 .3-.94L16 6c.1-.05.21-.08.31-.08m0-1.13c-.29 0-.57.07-.83.2l-4.86 2.47c-.43.22-.76.6-.91 1.06-.14.47-.1.96.12 1.4l6.12 12.02c.31.62.94 1 1.63 1 .29 0 .57-.07.83-.2l4.86-2.47a1.815 1.815 0 0 0 .8-2.45L17.94 5.79c-.31-.62-.94-1-1.63-1z",fill:n}),t.jsx("path",{d:"M2.57 13.38c-.7 0-1.26-.57-1.26-1.26V6.64c0-.69.57-1.26 1.26-1.26h26.92c.7 0 1.26.57 1.26 1.26v5.48c0 .69-.57 1.26-1.26 1.26H2.57z",fill:i}),t.jsx("path",{d:"M29.49 5.95c.38 0 .7.31.7.7v5.47c0 .38-.31.7-.7.7H2.57c-.38 0-.7-.31-.7-.7V6.64c0-.38.31-.7.7-.7h26.92m0-1.12H2.57c-1.01 0-1.83.82-1.83 1.83v5.47c0 1.01.82 1.83 1.83 1.83h26.92c1.01 0 1.83-.82 1.83-1.83V6.64c-.01-1-.83-1.82-1.83-1.82z",fill:n}),t.jsx("path",{d:"M10.35 14.36c-.69 0-1.26-.57-1.26-1.26V5.43c0-.7.57-1.26 1.26-1.26H21.6c.7 0 1.26.57 1.26 1.26v7.67c0 .7-.57 1.26-1.26 1.26H10.35z",fill:i}),t.jsx("path",{d:"M21.59 4.73c.38 0 .7.31.7.7v7.67c0 .38-.31.7-.7.7H10.35c-.38 0-.7-.31-.7-.7V5.43c0-.38.31-.7.7-.7h11.24m0-1.13H10.35c-1.01 0-1.83.82-1.83 1.83v7.67c0 1.01.82 1.83 1.83 1.83H21.6c1.01 0 1.83-.82 1.83-1.83V5.43a1.846 1.846 0 0 0-1.84-1.83z",fill:n})]})}),p&&t.jsx("div",{style:{position:"absolute",top:6,left:14.5,fontSize:"0.58rem",color:h},children:u})]})}export{K as B,D as L};
