import{r as n,j as t,R as A,J as B,I as E,ac as F}from"./index-YqfOGp5H.js";import{S as C,I as M}from"./Search-C0Trcarn.js";import{A as W}from"./Autocomplete-yEPvIbgK.js";import{T as w}from"./TextField-Bo3JGYRu.js";function J({allItems:r,setItemDetails:a,getOptionTitle:d,searchText:p,error:b}){const k={maxWidth:700},{isMobile:l}=!1,f=n.useRef(),R=n.useMemo(()=>{let s=[],e={},j={};return r==null||r.sort((o,i)=>{o.title.localeCompare(i.title)}).map(o=>{const i=d(o);j[i]=o.title,e[i]=o.id,s.push(i)}).filter(o=>o),{options:s,itemIds:e,itemTitles:j}},[r,d]),{options:u,itemIds:m,itemTitles:h}=R,T=n.useCallback((s,e)=>{e?u.includes(e)&&a({itemFullTitle:e,itemTitle:h[e],itemId:m[e]}):a({})},[u,m,h,a]),[c,x]=n.useState(!1),S=n.useCallback(()=>{x(!0),setTimeout(()=>f.current.focus(),15)},[]),g=n.useCallback(()=>x(!1),[]),y=c&&l?{width:"auto",position:"fixed",left:60,right:0,paddingRight:16,maxWidth:"unset",zIndex:9999999,backgroundColor:"#272727"}:{},I=b?{borderBottom:"#b00 solid 4px"}:{};return t.jsxs(A.Fragment,{children:[!c&&l&&t.jsx(B,{title:"Search",arrow:!0,disableFocusListener:!0,children:t.jsx(E,{color:"inherit",onClick:S,children:t.jsx(C,{})})}),(c||!l)&&t.jsx(W,{selectOnFocus:!0,clearOnEscape:!0,handleHomeEndKeys:!0,fullWidth:!0,style:{...k,...y},options:u,onChange:T,renderInput:s=>t.jsx(w,{...s,placeholder:p||"Search",variant:"standard",color:"info",style:I,inputRef:f,InputProps:{...s.InputProps,startAdornment:t.jsx(M,{position:"start",children:t.jsx(C,{})})}})}),t.jsx(F,{invisible:!0,open:c&&l,onClick:g})]})}export{J as R};
