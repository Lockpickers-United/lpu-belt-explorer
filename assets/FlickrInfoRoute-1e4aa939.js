import{r as a,H as f,j as t,G as W,B as x,u as w,R as g,N as F,F as U,T as B}from"./index-8f7da0bb.js";import{a as D}from"./axios-439bb627.js";import{T as E}from"./TextField-17c10feb.js";import{u as P}from"./usePageTitle-2db47316.js";import"./Select-8a859afa.js";import"./useDocumentTitle-a363ffe5.js";function $({mediaData:o}){const s=a.useCallback(async()=>{await navigator.clipboard.writeText(o),f("Media data copied to clipboard.")},[o]);return t.jsx(W,{title:"Copy Media Data",arrow:!0,disableFocusListener:!0,children:t.jsx(x,{onClick:s,variant:"contained",size:"small",style:{marginLeft:20,height:40,backgroundColor:"#03ac03"},children:"Copy media data to clipboard"})})}function G(){const[o,s]=a.useState(""),[d,c]=a.useState(!1),[e,p]=a.useState(null),[j,y]=a.useState(!1),{flexStyle:v}=w(),h=async i=>{i.preventDefault(),c(!0),new FormData().append("photosetId",o),await D.get(`https://explore.lpubelts.com:8443/flickr-info?id=${o}`,{}).then(r=>{p(r.data),c(!1)}).catch(r=>{y(!0),console.error("error",r)}),j&&f("Something went wrong! Please try again later.")},b=a.useCallback(i=>{const{value:n}=i.target;s(n)},[]),m=e!=null&&e.error?JSON.stringify(e==null?void 0:e.error,null,2):void 0,l=m?m.split("\\n"):"",u="",C=!e||e!=null&&e.error?"":e.photos.reduce((i,n)=>{const{seq:r,title:k,credit:R,fullURL:L,thumbnailURL:I,originalURL:T}=n,z=[r,k,R,"CC BY-NC-SA 4.0",u,I,L,u,T].join("	")+`
`;return i+z},""),S=d?{backgroundColor:"#555",color:"#373737"}:{backgroundColor:"#7c9de5",color:"#000"};return t.jsxs("div",{style:{maxWidth:700,padding:0,marginLeft:"auto",marginRight:"auto",marginTop:16,marginBottom:46},children:[t.jsx("form",{action:null,encType:"multipart/form-data",method:"post",onSubmit:h,children:t.jsxs("div",{style:{display:v,marginBottom:50,marginTop:25,alignItems:"bottom"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{fontSize:"0.9rem",fontWeight:700},children:"Enter Photoset ID (e.g. 72177720322353676)"}),t.jsx("br",{}),t.jsx(E,{type:"text",name:"photosetId",value:o,style:{width:300},onChange:b,color:"info",size:"small"})]}),t.jsx("div",{style:{display:"flex",alignItems:"end"},children:t.jsx(x,{onClick:h,variant:"contained",size:"small",disabled:d,style:{marginLeft:20,height:40,...S},children:"Get Photoset Info"})})]})}),e&&e.error&&t.jsx("div",{style:{},children:t.jsxs("div",{style:{backgroundColor:"#ae3737",marginLeft:"auto",marginRight:"auto",padding:"20px 20px",fontSize:"1.4rem",fontWeight:700},children:[t.jsx("div",{children:"Error"}),t.jsx("div",{style:{fontSize:"1.1rem",fontWeight:400},children:l==null?void 0:l.map((i,n)=>t.jsx("div",{children:i},n))})]})}),e&&!e.error&&t.jsxs("div",{style:{},children:[t.jsxs("div",{style:{backgroundColor:"#444",marginLeft:"auto",marginRight:"auto",padding:"20px 20px",fontSize:"1.6rem",fontWeight:700,display:"flex"},children:[t.jsx("div",{style:{flexGrow:1},children:"PHOTOSET IMAGE DATA"}),t.jsx($,{mediaData:C})]}),t.jsxs("div",{style:{backgroundColor:"#222",marginLeft:"auto",marginRight:"auto",padding:"20px 20px",fontSize:"0.86rem"},children:[t.jsx("div",{style:{fontWeight:600,fontSize:"1.3rem",marginBottom:20},children:`${e==null?void 0:e.title} (${e==null?void 0:e.photoCount} photos)`}),e.photos.map(i=>t.jsxs("div",{style:{marginBottom:20},children:[t.jsx("div",{style:{fontWeight:600,fontSize:"1rem"},children:`${i.seq}. ${i.title}`}),t.jsx("div",{style:{fontWeight:400},children:`fullURL: ${i.fullURL}`}),t.jsx("div",{style:{fontWeight:400},children:`originalURL: ${i.originalURL}`}),t.jsx("div",{style:{fontWeight:400},children:`thumbnailURL: ${i.thumbnailURL}`})]},i.seq))]})]})]})}function Y(){P("Get Flickr Info");const o=t.jsx(g.Fragment,{});return t.jsxs(g.Fragment,{children:[t.jsx(F,{title:"Get Flickr Photoset Info",extras:o}),t.jsx(G,{}),t.jsx(U,{}),t.jsx(B,{feature:"flickrInfo"})]})}export{Y as default};
