import{h as O,f as Q,s as j,k as C,_ as b,r,m as z,n as V,j as t,o as E,p as K,b as N,R as w,a9 as G,aa as B,al as q,u as F,G as H,I as U,W as X,ap as J,aq as M,a0 as Y,a1 as Z}from"./index-261b4df7.js";import{F as P}from"./filterFields-3268cf16.js";import{g as $,I as _,l as ee}from"./ImageViewer-21a6aef4.js";import{C as S}from"./Chip-aed79245.js";import{L as te}from"./Link-83a3a3e9.js";import{d as ie}from"./Launch-11f75a25.js";import{I as oe,a as ne}from"./ImageListItem-925157fa.js";import{F as se}from"./FieldValue-b35c7aec.js";import{f as v,C as ae}from"./SearchBox-60069036.js";import{F as re,I as le,S as ce}from"./Select-416a9e3d.js";function Le(i){return O("MuiImageListItemBar",i)}Q("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const ge=["actionIcon","actionPosition","className","subtitle","title","position"],fe=i=>{const{classes:e,position:n,actionIcon:l,actionPosition:c}=i,g={root:["root",`position${C(n)}`],titleWrap:["titleWrap",`titleWrap${C(n)}`,l&&`titleWrapActionPos${C(c)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${C(c)}`]};return K(g,Le,e)},me=j("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`position${C(n.position)}`]]}})(({theme:i,ownerState:e})=>b({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:i.typography.fontFamily},e.position==="bottom"&&{bottom:0},e.position==="top"&&{top:0},e.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),de=j("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.titleWrap,e[`titleWrap${C(n.position)}`],n.actionIcon&&e[`titleWrapActionPos${C(n.actionPosition)}`]]}})(({theme:i,ownerState:e})=>b({flexGrow:1,padding:"12px 16px",color:(i.vars||i).palette.common.white,overflow:"hidden"},e.position==="below"&&{padding:"6px 0 12px",color:"inherit"},e.actionIcon&&e.actionPosition==="left"&&{paddingLeft:0},e.actionIcon&&e.actionPosition==="right"&&{paddingRight:0})),pe=j("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(i,e)=>e.title})(({theme:i})=>({fontSize:i.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),ue=j("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(i,e)=>e.subtitle})(({theme:i})=>({fontSize:i.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),ye=j("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.actionIcon,e[`actionIconActionPos${C(n.actionPosition)}`]]}})(({ownerState:i})=>b({},i.actionPosition==="left"&&{order:-1})),he=r.forwardRef(function(e,n){const l=z({props:e,name:"MuiImageListItemBar"}),{actionIcon:c,actionPosition:g="right",className:f,subtitle:s,title:o,position:y="bottom"}=l,h=V(l,ge),m=b({},l,{position:y,actionPosition:g}),L=fe(m);return t.jsxs(me,b({ownerState:m,className:E(L.root,f),ref:n},h,{children:[t.jsxs(de,{ownerState:m,className:L.titleWrap,children:[t.jsx(pe,{className:L.title,children:o}),s?t.jsx(ue,{className:L.subtitle,children:s}):null]}),c?t.jsx(ye,{ownerState:m,className:L.actionIcon,children:c}):null]}))}),Ae=he;function ve({field:i,value:e,label:n=e,mode:l,...c}){const g=N(),[f,s]=r.useState(!1),{filters:o,addFilter:y}=r.useContext(P),h=r.useCallback(a=>{a.preventDefault(),a.stopPropagation(),s(!1)},[]),m=r.useCallback(a=>{var I;a.preventDefault(),a.stopPropagation(),s(!1),(I=o[i])!=null&&I.includes(e)||y(i,e),window.scrollTo({top:0,behavior:"smooth"})},[y,i,o,e]),L=r.useCallback(a=>{a.preventDefault(),a.stopPropagation(),s(a.target)},[]),A=r.useCallback(a=>{a.stopPropagation(),s(!1);const I=encodeURI(e);setTimeout(()=>g(`/glossary?term=${I}`),0)},[g,e]),p=r.useMemo(()=>!!$.find(a=>a.term.toLowerCase()===e.toLowerCase()),[e]);return t.jsxs(w.Fragment,{children:[(!l||l==="full")&&p&&t.jsxs(w.Fragment,{children:[t.jsx(S,{clickable:!0,variant:"outlined",label:n,style:{marginRight:4,marginBottom:4},onClick:L,...c}),!!f&&t.jsxs(G,{open:!!f,anchorEl:f,anchorOrigin:{horizontal:"right",vertical:"bottom"},onClose:h,children:[t.jsxs(B,{disabled:!0,children:["Term: ",e]}),t.jsx(q,{}),t.jsx(B,{onClick:m,children:"Add Filter"}),t.jsx(B,{onClick:A,disabled:!p,children:"Go to Glossary"})]})]}),(l==="simple"||(!l||l==="full")&&!p)&&t.jsx(S,{clickable:!0,variant:"outlined",label:n,style:{marginRight:4,marginBottom:4},onClick:m,...c}),l==="text"&&t.jsx(te,{style:{color:"#fff"},onClick:m,...c,children:n})]})}const Ie="data:image/png;base64,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";function Fe(i){const{columns:e,media:n,allMedia:l,initiallyOpen:c,openIndex:g,onOpenImage:f,onCloseImage:s,onBackButton:o,shareParams:y}=i,{isMobile:h}=F(),[m,L]=r.useState(c),A=l??n,p=r.useCallback(u=>()=>window.open(u,"_blank","noopener,noreferrer"),[]),a=r.useCallback(u=>()=>{f(u),L(!0)},[f]),I=r.useCallback(()=>{s(),L(!1)},[s]);r.useEffect(()=>{const u=()=>{if(o){const d=o();return L(d)}return L(!1)};return addEventListener("hashchange",u),()=>removeEventListener("hashchange",u)});const k=e??(h?2:3);return t.jsxs(w.Fragment,{children:[m&&t.jsx(_,{media:A,openIndex:g,onOpenImage:f,onClose:I,shareParams:y}),t.jsx(oe,{variant:"masonry",cols:k,sx:{marginTop:2},children:n.map(({title:u,subtitle:d,thumbnailUrl:D,fullUrl:x,subtitleUrl:T,sequenceId:W},R)=>t.jsxs(ne,{style:{marginBottom:8},children:[t.jsx("img",{src:D,alt:u,style:{paddingBottom:d?60:48,cursor:"pointer"},onClick:a(W)}),(x==null?void 0:x.match(/youtube\.com/))&&t.jsx("img",{src:Ie,alt:u,style:{alignItems:"center",position:"absolute",top:"calc(50% - 65px)",left:"calc(50% - 40px)",width:80,height:80,cursor:"pointer"},onClick:p(x)}),t.jsx(Ae,{title:u,subtitle:d&&t.jsx("a",{href:T||ee[d],target:"_blank",rel:"noopener noreferrer",children:d}),actionIcon:x&&t.jsx(H,{title:"View Full Size",arrow:!0,disableFocusListener:!0,children:t.jsx(U,{href:x,style:{color:"rgba(255, 255, 255, 0.5)"},target:"_blank",rel:"noopener noreferrer",children:t.jsx(ie,{})})})})]},R))})]})}function xe(){const{filters:i,filterCount:e,removeFilter:n,filterFieldsByFieldName:l}=r.useContext(P),c=r.useCallback((s,o)=>()=>{n(s,o)},[n]),g=r.useMemo(()=>{const{search:s,id:o,tab:y,name:h,sort:m,image:L,...A}=i;return Object.keys(A).map(p=>{const a=i[p];return Array.isArray(a)?a.map(I=>({key:p,value:I})):{key:p,value:a}}).flat()},[i]),f=r.useCallback((s,o)=>s==="Belt"?o==="Unranked"?s:o.includes("Black")?o.replace(/(Black)\s(\d+)/,"$1 Belt $2"):o+" Belt":s==="UL Group"?"Group "+o:s==="Wheels"?`${o} Wheels`:v[o]?v[o]:o,[]);return e===0?null:t.jsx(se,{name:"Current Filters",style:{marginBottom:0},value:t.jsx(X,{direction:"row",spacing:0,sx:{flexWrap:"wrap"},style:{marginRight:-24},children:g.map(({key:s,value:o},y)=>{var h;return t.jsx(S,{label:`${f((h=l[s])==null?void 0:h.label,o)}`,variant:"outlined",style:{marginRight:4,marginBottom:4},onDelete:c(s,o)},y)})})})}function Te({profile:i={},collectionType:e}){const{userId:n}=J(),{filters:l,filterCount:c,addFilter:g}=r.useContext(P),[f,s]=w.useState(!1),o=M[e].labels,y=M[e].keyByLabel,h=M[e].getCollected(i)||[],{isMobile:m}=F(),L=m?{maxWidth:700,borderRadius:0}:{maxWidth:700,marginLeft:"auto",marginRight:"auto",borderRadius:0},{collection:A=n&&c===0?"Any":null}=l,p=o.includes(A)&&c<2;let a="";A&&(typeof A=="string"?a=A:a="Any");const I=r.useCallback(()=>s(!1),[]),k=r.useCallback(()=>s(!0),[]),u=r.useCallback(d=>{g("collection",d.target.value,!0)},[g]);return!c&&!n?null:t.jsx(Y,{style:L,sx:{paddingBottom:0,paddingTop:2},children:t.jsxs(Z,{style:{paddingTop:0,paddingLeft:8},children:[p&&t.jsxs("div",{style:{display:"flex"},children:[t.jsxs(re,{fullWidth:!0,size:"small",color:"secondary",sx:{marginLeft:"8px",minWidth:80,maxWidth:300},children:[t.jsx(le,{id:"label",children:"Collection"}),t.jsx(ce,{name:"collection-selector",label:"Collection",open:f,onClose:I,onOpen:k,value:a,onChange:u,style:{backgroundColor:"#222",fontSize:"1.1rem",fontWeight:500},color:"secondary",children:o.map((d,D)=>{var x;return t.jsxs(B,{value:d,children:[d," (",d==="Any"?h.length:((x=i[y[d]])==null?void 0:x.length)||0,")"]},D)})})]}),t.jsx("div",{style:{flexGrow:1,marginTop:2,marginLeft:15},children:t.jsx(ae,{})})]}),!p&&t.jsx(xe,{})]})})}export{ve as F,Te as I,Fe as a};
